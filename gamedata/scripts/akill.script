-- ÇÀÏÓÑÊ ÑÞÆÅÒÍÛÕ ÇÂÓÊÎÂ
function akill_start_sound()
    if has_alife_info("sherstuk_ammo_start") and not has_alife_info("sherstuk_ammo_have") and level.name()=="l06_rostok" then
        xr_sound.get_safe_sound_object([[zwuk\monitor_pulsa]]):play_at_pos(db.actor, vector():set(-181.14698791504,7.2314772605896,86.747451782227), 0, sound_object.s3d+sound_object.looped)
    end
    if has_alife_info("hamster_kuznec4_start") and not has_alife_info("hamster_kuznec4_have") and level.name()=="l07_military" then
        xr_sound.get_safe_sound_object([[zwuk\radiomayak]]):play_at_pos(db.actor, vector():set(-305.2099609375,-6.999785900116,115.04824066162), 0, sound_object.s3d+sound_object.looped)
    end
    if has_alife_info("volna_petrenko_start") and not has_alife_info("volna_petrenko_have") and level.name()=="pripyat" then
        xr_sound.get_safe_sound_object([[zwuk\controller_silence]]):play_at_pos(db.actor, vector():set(-112.07481384277,0.99143302440643,-99.081878662109), 0, sound_object.s3d+sound_object.looped)
    end
    if has_alife_info("taynik_cube_start") and not has_alife_info("taynik_cube_have") and level.name()=="zaton" then
	local sobj
    for i=0,65534 do
	sobj=alife():object(i)
    if sobj and string.find(sobj:name(),"a_inventory_box41") then
	xr_sound.get_safe_sound_object([[zwuk\pluton]]):play_at_pos(db.actor, sobj.position, 0, sound_object.s3d+sound_object.looped)
	break
    end
    end
    end
end

-- ÕÈÒ ÏÎ ÌÎÍÑÒÐÀÌ
function on_monster_hit(obj, amount, local_direction, who, bone_index)
	if who and who:id()==db.actor:id() then
     	if obj:section() =="white_wolf" then 
		db.actor:give_info_portion("ohota_wolf_fail")
	end
     	if obj:section() =="cat_quest" or obj:section() =="cat_kulon" then 
		db.actor:give_info_portion("cat_kulon_fail")
	end
    	if obj:section() =="kontrik_electro1" or obj:section() =="kontrik_electro2" or obj:section() =="kontrik_electro3" then 
		db.actor:give_info_portion("kontrik_electro_fail")
	end
     	if obj:section() =="dog_quest" then 
		db.actor:give_info_portion("kalinin_dog_fail")
	end
     	if obj:section() =="boar_quest" then 
		db.actor:give_info_portion("messer_kaban_fail")
	end
     	if obj:section() =="chimera_quest" then 
		db.actor:give_info_portion("docent_chimera_fail")
	end
    	if obj:section() =="boar_child" or obj:section() =="boar_mother" or obj:section() =="boar_children" then 
		db.actor:give_info_portion("krest_boar_fail")
	end
	end
end

-- ÎÕÎÒÀ ÍÀ ÊÎÍÒÐÎËÅÐÎÂ: Ñâàëêà
function akill_zahar_give()
	sak.create_items_actor("grenade_rgd5",2)
end
local ohota_svalka={
    {position={x=78.727005004883,y=-3.095737695694,z=-246.96006774902},gv=263,lv=247532},
    {position={x=270.98291015625,y=-8.6855974197388,z=-125.86093139648},gv=405,lv=377174}
}
function ohota_svalka_spawn()
	local a, se_obj
	alife():create("kontrik_yantar2",vector():set(78.727005004883,-3.095737695694,-246.96006774902),247532,263)
	alife():create("kontrik_svalka",vector():set(270.98291015625,-8.6855974197388,-125.86093139648),377174,405)
	alife():create("zombie_plague_komar",vector():set(270.98291015625,-8.6855974197388,-125.86093139648),377174,405)
		for i=1,table.getn(ohota_svalka) do
			a = ohota_svalka[i]
			for i=1,1 do
				se_obj = alife():create("rad_zombied_respawn_1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("rad_zombied_respawn_2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("esc_arhara_stalker_zombied",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("esc_arhara_stalker_zombied1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			end
 		end
end
function ohota_svalka_done(task, info)
    if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead")  then 
    		return db.actor:give_info_portion("ohota_svalka_done")
    end
		return false
end
function ohota_have_hand()
	return
		new_dialog.item_much("mutant_hand_kontroler",1)
end	
function ohota_give_hand()
	sak.out_item_namber("mutant_hand_kontroler",1)
	sak.create_items_actor("medkit",2)
end

-- ÎÕÎÒÀ ÍÀ ÊÎÍÒÐÎËÅÐÎÂ: Çàáûòûé Ëåñ
local ohota_forest={
    {position={x=-37.977313995361,y=-0.77621936798096,z=197.82099914551},gv=2883,lv=157494},
    {position={x=134.33282470703,y=-0.00040236115455627,z=59.530170440674},gv=2885,lv=296401},
    {position={x=163.15162658691,y=-0.0033996403217316,z=-112.05535125732},gv=2884,lv=319101},
    {position={x=-9.3974199295044,y=11.23003578186,z=-14.778720855713},gv=2882,lv=180623}
}
function ohota_forest_spawn()
	local a, se_obj
	alife():create("kontrik_forest",vector():set(-37.977313995361,-0.77621936798096,197.82099914551),157494,2883)
	alife():create("kontrik_yantar2",vector():set(134.33282470703,-0.00040236115455627,59.530170440674),296401,2885)
	alife():create("kontrik_yantar3",vector():set(163.15162658691,-0.0033996403217316,-112.05535125732),319101,2884)
	alife():create("kontrik_yantar5",vector():set(-9.3974199295044,11.23003578186,-14.778720855713),180623,2882)
	alife():create("kontrik_yantar6",vector():set(-201.86605834961,-5.4160709381104,3.2039270401001),27960,2881)
	alife():create("zombie_babka_strong",vector():set(-201.86605834961,-5.4160709381104,3.2039270401001),27960,2881)
	alife():create("zombie_plague_komar",vector():set(-201.86605834961,-5.4160709381104,3.2039270401001),27960,2881)
	alife():create("zombie_hell",vector():set(-201.86605834961,-5.4160709381104,3.2039270401001),27960,2881)
	alife():create("zombie_plague",vector():set(-201.86605834961,-5.4160709381104,3.2039270401001),27960,2881)
		for i=1,table.getn(ohota_forest) do
			a = ohota_forest[i]
			for i=1,1 do
				se_obj = alife():create("rad_zombied_respawn_1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("rad_zombied_respawn_2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("rad_zombied_respawn_3",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("voen_zombied2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell3",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("esc_arhara_stalker_zombied",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("esc_arhara_stalker_zombied1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			end
 		end
end
function ohota_forest_done(task, info)
    if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") and 
	db.actor:has_info("kontrik_yantar3_dead") and db.actor:has_info("kontrik_yantar5_dead") and 
	db.actor:has_info("kontrik_yantar6_dead") then 
    		return db.actor:give_info_portion("ohota_forest_done")
    end
		return false
end

-- ÎÕÎÒÀ ÍÀ ÊÎÍÒÐÎËÅÐÎÂ: Ò¸ìíàÿ Äîëèíà
local ohota_dolina={
    {position={x=142.60696411133,y=0.17736276984215,z=-281.40844726563},gv=969,lv=341038},
    {position={x=106.24289703369,y=0.045743703842163,z=-72.574371337891},gv=978,lv=308626}
}
function ohota_dolina_spawn()
	local a, se_obj
	sak.create_items_actor("grenade_rgd5",2)
	alife():create("kontrik_dolina",vector():set(142.60696411133,0.17736276984215,-281.40844726563),341038,969)
	alife():create("kontrik_yantar2",vector():set(106.24289703369,0.045743703842163,-72.574371337891),302439,978)
		for i=1,table.getn(ohota_dolina) do
			a = ohota_dolina[i]
			for i=1,1 do
				se_obj = alife():create("zombie_immortal",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell4",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell5",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell6",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("voen_zombied1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			end
 		end
end
function ohota_dolina_done(task, info)
    if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") then 
    		return db.actor:give_info_portion("ohota_dolina_done")
    end
		return false
end

-- ÎÕÎÒÀ ÍÀ ÊÎÍÒÐÎËÅÐÎÂ: Ðàäàð
local ohota_radar={
    {position={x=368.82415771484,y=-48.226219177246,z=-132.57385253906},gv=2097,lv=103048},
    {position={x=360.30374145508,y=-49.012420654297,z=-325.11083984375},gv=2068,lv=98348},
    {position={x=465.07382202148,y=-52.622299194336,z=-202.62730407715},gv=2059,lv=152400}
}
function checking_taken_item68(obj)
	if not has_alife_info("ohota_radar_have") and obj:section()=="akill_mono_note" then
	local a, se_obj
	alife():create("kontrik_radar",vector():set(553.72235107422,-42.289035797119,175.6773223877),192642,1905)
	alife():create("rad_zombied_respawn_1",vector():set(553.72235107422,-42.289035797119,175.6773223877),192642,1905)
	alife():create("rad_zombied_respawn_2",vector():set(553.72235107422,-42.289035797119,175.6773223877),192642,1905)
	alife():create("rad_zombied_respawn_3",vector():set(553.72235107422,-42.289035797119,175.6773223877),192642,1905)
	alife():create("zombie_plague_komar",vector():set(553.72235107422,-42.289035797119,175.6773223877),192642,1905)
	alife():create("kontrik_radar1",vector():set(368.82415771484,-48.226219177246,-132.57385253906),103048,2097)
	alife():create("kontrik_yantar2",vector():set(360.30374145508,-49.012420654297,-325.11083984375),98348,2068)
	alife():create("kontrik_yantar3",vector():set(465.07382202148,-52.622299194336,-202.62730407715),152400,2059)
		for i=1,table.getn(ohota_radar) do
			a = ohota_radar[i]
			for i=1,1 do
				se_obj = alife():create("rad_zombied_respawn_1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("rad_zombied_respawn_2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("voen_zombied2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell7",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell8",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("esc_arhara_stalker_zombied",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("esc_arhara_stalker_zombied1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			end
 		end
		db.actor:give_info_portion("ohota_radar_have")
	end
end
function ohota_radar_done(task, info)
    if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") and 
	db.actor:has_info("kontrik_yantar3_dead") then 
    		return db.actor:give_info_portion("ohota_radar_done")
    end
		return false
end

-- ÎÕÎÒÀ ÍÀ ÊÎÍÒÐÎËÅÐÎÂ: ßíòàðü
local ohota_yantar={
    {position={x=106.32261657715,y=0.060344696044922,z=84.782196044922},gv=1520,lv=96069},
    {position={x=27.002269744873,y=0.079130053520203,z=-64.00284576416},gv=1505,lv=52560},
    {position={x=2.7178339958191,y=0.10412600636482,z=-39.15189743042},gv=1444,lv=40725},
    {position={x=-15.021513938904,y=0.034484058618546,z=18.341979980469},gv=1501,lv=33442}
}
function ohota_yantar_spawn()
	local a, se_obj
	alife():create("kontrik_yantar1",vector():set(106.32261657715,0.060344696044922,84.782196044922),96069,1520)
	alife():create("kontrik_yantar2",vector():set(27.002269744873,0.079130053520203,-64.00284576416),52560,1505)
	alife():create("kontrik_yantar3",vector():set(2.7178339958191,0.10412600636482,-39.15189743042),40725,1444)
	alife():create("kontrik_yantar4",vector():set(-15.021513938904,0.034484058618546,18.341979980469),33442,1501)
	alife():create("kontrik_yantar5",vector():set(22.984272003174,0.083702921867371,-11.52393245697),50430,1507)
	alife():create("kontrik_yantar6",vector():set(73.091575622559,0.039543896913528,39.175922393799),76118,1511)
	alife():create("kontrik_yantar7",vector():set(69.264633178711,0.82573330402374,-3.6346275806427),76080,1509)
	alife():create("yan_zombied_respawn_3",vector():set(22.984272003174,0.083702921867371,-11.52393245697),50430,1507)
	alife():create("voen_zombied1",vector():set(22.984272003174,0.083702921867371,-11.52393245697),50430,1507)
	alife():create("zombie_beee",vector():set(22.984272003174,0.083702921867371,-11.52393245697),50430,1507)
	alife():create("yan_zombied_respawn_3",vector():set(22.984272003174,0.083702921867371,-11.52393245697),50430,1507)
	alife():create("zombie_hell",vector():set(73.091575622559,0.039543896913528,39.175922393799),76118,1511)
	alife():create("voen_zombied2",vector():set(73.091575622559,0.039543896913528,39.175922393799),76118,1511)
	alife():create("zombie_blow",vector():set(73.091575622559,0.039543896913528,39.175922393799),76118,1511)
	alife():create("yan_zombied_respawn_1",vector():set(73.091575622559,0.039543896913528,39.175922393799),76118,1511)
		for i=1,table.getn(ohota_yantar) do
			a = ohota_yantar[i]
			for i=1,5 do
				se_obj = alife():create("yan_zombied_respawn_2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			end
 		end
end
function ohota_yantar_done(task, info)
     if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") and 
	db.actor:has_info("kontrik_yantar3_dead") and db.actor:has_info("kontrik_yantar4_dead") and 
	db.actor:has_info("kontrik_yantar5_dead") and db.actor:has_info("kontrik_yantar6_dead") and 
	db.actor:has_info("kontrik_yantar7_dead") then 
    		return db.actor:give_info_portion("ohota_yantar_done")
    end
		return false
end
function crazy_doctor_spawn()
	alife():create("crazy_doctor_npc",vector():set(143.80633544922,35.76940536499,-15.676168441772),7559,1541)
end

-- ÎÕÎÒÀ ÍÀ ÊÎÍÒÐÎËÅÐÎÂ: Õ-16
function crazy_doctor_npc_hit()
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"crazy_doctor_npc") then
            local h = hit()
            h.power = 0.3
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0
            h.draftsman = db.actor
            h.type = hit.explosion
            obj:hit (h)
	break
	end
	end
end

local ohota_labx16={
    {position={x=47.616176605225,y=5.584005355835,z=-11.372141838074},gv=1538,lv=5377},
    {position={x=-9.0543975830078,y=3.3642811775208,z=4.6005063056946},gv=1536,lv=4021},
    {position={x=-65.238327026367,y=11.564390182495,z=-12.911678314209},gv=1530,lv=1211},
    {position={x=-115.50610351563,y=21.564153671265,z=-29.646265029907},gv=1529,lv=220}
}
function ohota_labx16_spawn()
	local a, se_obj
	alife():create("kontrik_labx16",vector():set(47.616176605225,5.584005355835,-11.372141838074),5377,1538)
	alife():create("kontrik_labx16",vector():set(-9.0543975830078,3.3642811775208,4.6005063056946),4021,1536)
	alife():create("m_controller_act",vector():set(-9.0543975830078,3.3642811775208,4.6005063056946),4021,1536)
	alife():create("kontrik_labx16",vector():set(-65.238327026367,11.564390182495,-12.911678314209),1211,1530)
	alife():create("kontrik_labx16",vector():set(-115.50610351563,21.564153671265,-29.646265029907),220,1529)
	alife():create("controller_flame",vector():set(-115.50610351563,21.564153671265,-29.646265029907),220,1529)
	alife():create("kontrik_yantar1",vector():set(-150.76045227051,-18.974044799805,-45.879451751709),907,1457)
	alife():create("kontrik_yantar2",vector():set(-74.963226318359,-17.493829727173,-96.62899017334),12823,1496)
	alife():create("kontrik_yantar3",vector():set(-41.949867248535,-19.092082977295,-128.63496398926),24560,1491)
		for i=1,table.getn(ohota_labx16) do
			a = ohota_labx16[i]
			for i=1,1 do
				se_obj = alife():create("zombie_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell9",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell10",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell11",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("zombie_hell12",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			amk.start_timer("run", 10.0, "akill.sms_ot_strelka()") -- çàïóñòèì òàéìåð íà îòñòðåë êðåéçè äîêòîðà 
			end
 		end
end

-- Ïîäñòðàõóåìñÿ. Åñëè äîêòîð âñå åùå æèâ, òî ÷åðåç 10 ñåêóíä íà÷èíàåì ñìñ-ïåðåïèñêó ñ Çàõàðîì 
function sms_ot_strelka()
	if db.actor:has_info("crazy_doktor_dead") then return end
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Çàõàð, ÿ âûøåë íà îäíîãî ñäâèíóòîãî äîêòîðà, ó ïàðíÿ áàøíþ ñíåñëî íàïðî÷ü. Ïðè ñåáå ó íåãî âàæíûå äîêóìåíòû, íóæíî ëþáîé öåíîé çàïîëó÷èòü èõ, èíà÷å ðåçóëüòàòû ýêñïåðèìåíòîâ ïîïàäóò íå â òå ðóêè!".."".."\n", nil, nil, 20000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÇÀÕÀÐ:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, âàëè ýòîãî äîêòîðà è çàáåðè äîêóìåíòû!".."".."\n", 20, nil, 15000)
end

function ohota_labx16_done(task, info)
	if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") and 
	   db.actor:has_info("kontrik_yantar3_dead") then 
    		return db.actor:give_info_portion("ohota_labx16_done")
     end
		return false
end
function akill_zahar_have()
	return
		new_dialog.item_much("docs_from_x10",1)
end
function ohota_kontriki_done()
	sak.out_item_namber("akill_kontr_note_1",1)
	sak.out_item_namber("akill_kontr_note_2",1)
	sak.out_item_namber("akill_kontr_note_3",1)
	sak.out_item_namber("akill_kontr_note_4",1)
	sak.out_item_namber("akill_kontr_note_5",1)
	sak.out_item_namber("akill_mono_note",1)
	sak.out_item_namber("doktor_diktofon",1)
	sak.out_item_namber("docs_from_x10",1)
	sak.create_items_actor("ammo_12x70_buck",2)
	sak.create_items_actor("ammo_12x70_kart",2)
	sak.create_items_actor("voshod_outfit",1)
	table_treasure_l.treasure()
	spawn_restrictor.zasada_puzir_sr1()
end

-- ÊÎËÎÄÀ ÊÓÇÍÅÖÎÂÀ
function koloda_kuznec_have_all()
	return
--[[new_dialog.item_much("karta_6buben",1) and
		new_dialog.item_much("karta_7buben",1) and
		new_dialog.item_much("karta_8buben",1) and
		new_dialog.item_much("karta_9buben",1) and
		new_dialog.item_much("karta_10buben",1) and
		new_dialog.item_much("karta_vbuben",1) and
		new_dialog.item_much("karta_dbuben",1) and
		new_dialog.item_much("karta_kbuben",1) and
		new_dialog.item_much("karta_tbuben",1) and
		new_dialog.item_much("karta_6chervi",1) and
		new_dialog.item_much("karta_7chervi",1) and
		new_dialog.item_much("karta_8chervi",1) and
		new_dialog.item_much("karta_9chervi",1) and
		new_dialog.item_much("karta_10chervi",1) and
		new_dialog.item_much("karta_vchervi",1) and
		new_dialog.item_much("karta_dchervi",1) and
		new_dialog.item_much("karta_kchervi",1) and
		new_dialog.item_much("karta_tchervi",1) and
		new_dialog.item_much("karta_6tref",1) and
		new_dialog.item_much("karta_7tref",1) and
		new_dialog.item_much("karta_8tref",1) and
		new_dialog.item_much("karta_9tref",1) and
		new_dialog.item_much("karta_10tref",1) and
		new_dialog.item_much("karta_vtref",1) and
		new_dialog.item_much("karta_dtref",1) and
		new_dialog.item_much("karta_ktref",1) and
		new_dialog.item_much("karta_ttref",1) and
		new_dialog.item_much("karta_6piki",1) and
		new_dialog.item_much("karta_7piki",1) and
		new_dialog.item_much("karta_8piki",1) and
		new_dialog.item_much("karta_9piki",1) and
		new_dialog.item_much("karta_10piki",1) and
		new_dialog.item_much("karta_vpiki",1) and
		new_dialog.item_much("karta_dpiki",1) and
		new_dialog.item_much("karta_kpiki",1) and
		new_dialog.item_much("karta_tpiki",1) and]]
		new_dialog.item_much("kuznec_note_code",1)
end		
function koloda_kuznec_have_koloda()
	if koloda_kuznec_have_all() then
		db.actor:give_info_portion("koloda_kuznec_find")
		return true
	else
		return false
	end
end
function checking_taken_item70(obj)
 	if not has_alife_info("taynik_kuznec_bonus") and obj:section()=="kuznec_note_code" then
	local obj = alife():create("a_inventory_box12",vector():set(1146.6832275391,-0.78347253799438,-30.555999755859),477896,2280)
		db.actor:give_info_portion("taynik_kuznec_bonus")
	end
end
function koloda_kuznec_albom_all()
	return
		new_dialog.item_much("kuznec_albom",1)
end
function koloda_kuznec_have_albom()
	if koloda_kuznec_albom_all() then
		db.actor:give_info_portion("koloda_kuznec_have")
		return true
	else
		return false
	end
end
function koloda_kuznec_done()
	sak.out_item_namber("karta_6buben",1)
	sak.out_item_namber("karta_7buben",1)
	sak.out_item_namber("karta_8buben",1)
	sak.out_item_namber("karta_9buben",1)
	sak.out_item_namber("karta_10buben",1)
	sak.out_item_namber("karta_vbuben",1)
	sak.out_item_namber("karta_dbuben",1)
	sak.out_item_namber("karta_kbuben",1)
	sak.out_item_namber("karta_tbuben",1)
	sak.out_item_namber("karta_6chervi",1)
	sak.out_item_namber("karta_7chervi",1)
	sak.out_item_namber("karta_8chervi",1)
	sak.out_item_namber("karta_9chervi",1)
	sak.out_item_namber("karta_10chervi",1)
	sak.out_item_namber("karta_vchervi",1)
	sak.out_item_namber("karta_dchervi",1)
	sak.out_item_namber("karta_kchervi",1)
	sak.out_item_namber("karta_tchervi",1)
	sak.out_item_namber("karta_6tref",1)
	sak.out_item_namber("karta_7tref",1)
	sak.out_item_namber("karta_8tref",1)
	sak.out_item_namber("karta_9tref",1)
	sak.out_item_namber("karta_10tref",1)
	sak.out_item_namber("karta_vtref",1)
	sak.out_item_namber("karta_dtref",1)
	sak.out_item_namber("karta_ktref",1)
	sak.out_item_namber("karta_ttref",1)
	sak.out_item_namber("karta_6piki",1)
	sak.out_item_namber("karta_7piki",1)
	sak.out_item_namber("karta_8piki",1)
	sak.out_item_namber("karta_9piki",1)
	sak.out_item_namber("karta_10piki",1)
	sak.out_item_namber("karta_vpiki",1)
	sak.out_item_namber("karta_dpiki",1)
	sak.out_item_namber("karta_kpiki",1)
	sak.out_item_namber("karta_tpiki",1)
	sak.out_item_namber("kuznec_note_code",1)
	sak.out_item_namber("kuznec_albom",1)
end

function koloda_akim_give()
	sak.create_items_actor("karta_10chervi",1)
end
function koloda_provodnik_give()
	sak.create_items_actor("karta_6buben",1)
end
function koloda_kulinar_give()
	sak.create_items_actor("karta_9piki",1)
end
function koloda_prapor_give()
	sak.create_items_actor("karta_9chervi",1)
end
function koloda_bes_give()
	sak.create_items_actor("karta_dchervi",1)
end
function koloda_adrenalin_give()
	sak.create_items_actor("karta_7buben",1)
end
function koloda_arhara_give()
	sak.create_items_actor("karta_dpiki",1)
end
function koloda_kalmyk_give()
	sak.create_items_actor("karta_6tref",1)
end
function koloda_den_start()
	sak.create_items_actor("wpn_colt_kc",1)
	sak.create_items_actor("ammo_11.43x23_fmj",10)
	local obj = alife():create("ohota_boar",vector():set(392.21145629883,4.0051069259644,445.46453857422),398003,3556)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Ìàò¸ðûé êàáàí")
	alife():create("boar_strong",vector():set(437.21762084961,1.9258989095688,445.77978515625),429526,3556)
	alife():create("boar_strong",vector():set(440.86434936523,1.3873192071915,427.04727172852),429499,3556)
	alife():create("boar_strong",vector():set(425.83676147461,0.87568128108978,405.50479125977),421500,3556)
	alife():create("boar_strong",vector():set(395.54327392578,0.70755302906036,410.95196533203),400169,3556)
	alife():create("boar_strong",vector():set(363.2419128418,0.43858739733696,422.07180786133),373791,3556)
	alife():create("boar_strong",vector():set(336.29425048828,2.5534195899963,413.90518188477),353636,3552)
	alife():create("boar_strong",vector():set(418.29501342773,1.7422803640366,430.98916625977),416473,3556)
	alife():create("boar_strong",vector():set(417.07962036133,4.8147306442261,448.91806030273),415536,3556)
end
function koloda_den_have()
	if db.actor:has_info("ohota_boar_dead") then
		db.actor:give_info_portion("koloda_den_have")
		return true
	else
		return false
	end
end
function koloda_den_give()
	sak.create_items_actor("karta_7piki",1)
	sak.create_items_actor("ammo_11.43x23_fmj",1)
end
function boar_metka_delete()
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"ohota_boar") then
	level.map_remove_object_spot(obj.id,"crlc_big")
	break
	end
	end
end
function koloda_vasily_give()
	sak.create_items_actor("karta_8buben",1)
end
function koloda_borov_give()
	sak.create_items_actor("karta_10tref",1)
end
function koloda_luber_give()
	sak.create_items_actor("karta_tchervi",1)
end
function koloda_arny_give()
	sak.create_items_actor("karta_8chervi",1)
end
function koloda_zahar_give()
	sak.create_items_actor("karta_9buben",1)
end
function koloda_ivancov_have_all()
	return
		new_dialog.item_much("guitar_a",1)
end	
function koloda_ivancov_give()
	sak.out_item_namber("guitar_a",1)
	sak.create_items_actor("karta_dtref",1)
end
function koloda_barmen_give()
	sak.create_items_actor("karta_vbuben",1)
	sak.create_items_actor("karta_7chervi",1)
	sak.create_items_actor("karta_kbuben",1)
	sak.create_items_actor("karta_7tref",1)
	sak.create_items_actor("karta_ttref",1)
end
function koloda_kruglov_give()
	sak.create_items_actor("karta_6piki",1)
end
function koloda_sak_give()
	sak.create_items_actor("karta_kchervi",1)
end
function koloda_krest_give()
	sak.create_items_actor("karta_vpiki",1)
end
function koloda_povar_give()
	sak.out_item_namber("vodka",4)
	sak.create_items_actor("karta_9tref",1)
end
function koloda_svoboda_give()
	sak.create_items_actor("karta_ktref",1)
end
function koloda_est_vodka()
	return 
		sak.have_item_namber("vodka",4)
end
function koloda_net_vodka()
	return 
		not sak.have_item_namber("vodka",4)
end
function koloda_desertir_have_all()
	return
		new_dialog.item_much("wpn_pbs-4_silencer",1)
end		
function koloda_desertir_give()
	sak.out_item_namber("wpn_pbs-4_silencer",1)
	sak.create_items_actor("karta_10buben",1)
	alife():create("cat_weak",vector():set(-246.00909423828,16.960470199585,60.992595672607),682,595)
	alife():create("cat_normal",vector():set(-217.70703125,4.9200263023376,38.640144348145),19399,536)
	alife():create("cat_strong",vector():set(-243.98336791992,16.470392227173,89.649856567383),1135,595)
	alife():create("cat_weak",vector():set(-236.91093444824,13.593313217163,118.62928771973),4069,594)
	alife():create("cat_normal",vector():set(-232.37373352051,14.223242759705,149.28567504883),6354,534)
	alife():create("cat_strong",vector():set(-197.72305297852,14.256797790527,162.11169433594),39687,524)
end

-- ÕÎÌß×ÅÑÒÂÎ Ó ÊÓÇÍÅÖÎÂÀ
function hamster_kuznec_over()
	return not (
		has_alife_info("taynik2_kuznec") and 
		has_alife_info("hamster_kuznec2_done") and 
		has_alife_info("taynik4_kuznec") and 
		has_alife_info("taynik3_kuznec") and
		has_alife_info("hamster_kuznec5_done") and
		has_alife_info("taynik6_kuznec") and
		has_alife_info("hamster_kuznec1_done") and
		has_alife_info("taynik10_kuznec")
	)
end

function hamster_kuznec1_have_all()
	return
		new_dialog.item_much("sergeant_counter",1)
end	
function hamster_kuznec1_have()
	if new_dialog.item_much("sergeant_counter",1) then
		db.actor:give_info_portion("hamster_kuznec1_have")
		return true
	else
		return false
	end
end
function hamster_kuznec1_done()
	sak.out_item_namber("sergeant_counter",1)
end

function hmuryi_zasada()
	alife():create("leshyi_bandit1",vector():set(69.093368530273,0.39569690823555,-142.38302612305),239740,397)
	alife():create("leshyi_bandit2",vector():set(85.139610290527,0.084193587303162,-135.67762756348),253533,397)
	alife():create("leshyi_bandit3",vector():set(65.076683044434,0.39531746506691,-164.51884460449),236202,289)
	alife():create("leshyi_bandit4",vector():set(24.325180053711,1.9946187734604,-134.55158996582),197303,290)
	alife():create("leshyi_bandit5",vector():set(40.650218963623,0.42514124512672,-94.732368469238),214362,291)
	alife():create("leshyi_bandit1",vector():set(74.661529541016,-0.7623228430748,-69.39818572998),244768,394)
	alife():create("hmuryi_npc",vector():set(87.048812866211,0.087786346673965,-146.52296447754),254709,412)
end
function hamster_kuznec2_have_all()
	return
		new_dialog.item_much("helm_teplovizor",1)
end
function hamster_kuznec2_have()
	if hamster_kuznec2_have_all() then
		db.actor:give_info_portion("hamster_kuznec2_have")
		return true
	else
		return false
	end
end
function hamster_kuznec2_done()
	sak.out_item_namber("helm_teplovizor",1)
end

function hamster_kuznec3_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_sr25_mk11_mod0_sk1_otdaca_ves",1) and
		new_dialog.item_much("ammo_7.62x51_ap",10)
end
function hamster_kuznec3_have()
	if hamster_kuznec3_have_all() then
		db.actor:give_info_portion("hamster_kuznec3_have")
		return true
	else
		return false
	end
end
function hamster_kuznec3_done()
	sak.out_item_namber("wpn_sr25_mk11_mod0_sk1_otdaca_ves",1)
	sak.out_item_namber("ammo_7.62x51_ap",10)
end

function hamster_kuznec4_spawn()
	alife():create("a_inventory_box58",vector():set(-305.2099609375,-6.999785900116,115.04824066162),38102,1761)
	akill_start_sound()
end
function checking_taken_item86(obj)
	if not has_alife_info("hamster_kuznec4_have") and obj:section()=="signal_box" then
		local snd = xr_sound.get_safe_sound_object([[zwuk\radiomayak]])
		snd:stop()
		db.actor:give_info_portion("hamster_kuznec4_have")
	end
end
function hamster_kuznec4_have_all()
	return
		new_dialog.item_much("signal_box",1)
end
function hamster_kuznec4_done()
	sak.out_item_namber("signal_box",1)
end

function hor_npc_dead()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ìàéîð, Õîðü ì¸ðòâ. ß îòûñêàë åãî íà Áîëîòàõ. Ñêèäûâàþ ñâî¸ ìåñòîïîëîæåíèå.".."".."\n", nil, nil, 15000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÊÓÇÍÅÖÎÂ:".."\\n".."%c[255,255,128,128]Îòëè÷íàÿ ðàáîòà, ñòàëêåð!".."".."\n", 15, nil, 15000)
end
function koiot_npc_dead()
	amk.start_timer("battle", 0, {"l06_rostok", 30, 1})
end

function hamster_kuznec6_have_all()
	return
		new_dialog.item_much("playboy1",1) and
		new_dialog.item_much("playboy2",1) and
		new_dialog.item_much("playboy3",1) and
		new_dialog.item_much("playboy4",1) and
		new_dialog.item_much("playboy5",1) and
		new_dialog.item_much("playboy6",1) and
		new_dialog.item_much("playboy7",1) and
		new_dialog.item_much("playboy8",1) and
		new_dialog.item_much("playboy9",1) and
		new_dialog.item_much("playboy11",1) and
		new_dialog.item_much("playboy12",1) and
		new_dialog.item_much("playboy13",1)
end
function hamster_kuznec6_have()
	if hamster_kuznec6_have_all() then
		db.actor:give_info_portion("hamster_kuznec6_have")
		return true
	else
		return false
	end
end
function hamster_kuznec6_done()
	sak.out_item_namber("playboy1",1)
	sak.out_item_namber("playboy2",1)
	sak.out_item_namber("playboy3",1)
	sak.out_item_namber("playboy4",1)
	sak.out_item_namber("playboy5",1)
	sak.out_item_namber("playboy6",1)
	sak.out_item_namber("playboy7",1)
	sak.out_item_namber("playboy8",1)
	sak.out_item_namber("playboy9",1)
	sak.out_item_namber("playboy11",1)
	sak.out_item_namber("playboy12",1)
	sak.out_item_namber("playboy13",1)
end

function kuznec_sucker_spawn()
	sak.create_items_actor("fake_wpn_knife",1)
	alife():create("kuznec_sucker",vector():set(-20.73020362854,2.4800570011139,89.489311218262),256235,86)
end

function hamster_kuznec8_have_all()
	return
		new_dialog.item_much("liker_baileys",10)
end
function hamster_kuznec8_have()
	if hamster_kuznec8_have_all() then
		db.actor:give_info_portion("hamster_kuznec8_have")
		return true
	else
		return false
	end
end
function hamster_kuznec8_done()
	sak.out_item_namber("liker_baileys",10)
end
function liker_spawn()
	alife():create("a_inventory_box1",vector():set(220.44319152832,-4.4578404426575,137.14222717285),54929,1199)
	alife():create("a_inventory_box1",vector():set(37.569343566895,1.021262049675,-51.432216644287),220626,1084)
	alife():create("a_inventory_box1",vector():set(-27.043056488037,-6.4230637550354,-16.747678756714),285458,1593)
	alife():create("a_inventory_box1",vector():set(-178.45097351074,3.5022687911987,-325.42401123047),50109,3365)
end

-- ÒÀÉÍÈÊÈ ÊÓÇÍÅÖÎÂÀ
function taynik_kuznec1_info()
	db.actor:give_info_portion("taynik1_kuznec"..tostring(math.random(2)))
end
function taynik_kuznec1_1_spawn()
	alife():create("a_inventory_box3",vector():set(123.43962097168,6.6301230476379,341.17449951172),427963,233)
end
function taynik_kuznec1_2_spawn()
	alife():create("a_inventory_box3",vector():set(32.637260437012,21.834377288818,156.37063598633),358866,97)
end	
function taynik_kuznec1_have()
	if new_dialog.item_much("karta_8tref",1) then
		db.actor:give_info_portion("taynik_kuznec1_have")
		return true
	else
		return false
	end
end

local taynik_kuznec2={
    {position={x=-78.750358581543,y=-0.13033118844032,z=116.92253112793},gv=84,lv=202169},
    {position={x=-63.262279510498,y=0.16362948715687,z=202.76342773438},gv=164,lv=210344}
}
function taynik_kuznec2_have()
	if new_dialog.item_much("karta_dbuben",1) then
		db.actor:give_info_portion("taynik_kuznec2_have")
		return true
	else
		return false
	end
end
function taynik_kuznec2_spawn(actor,npc,p1,p2)
    local a = taynik_kuznec2[math.random(table.getn(taynik_kuznec2))]
    local se_obj = alife():create("a_inventory_box4", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
end

function taynik_kuznec3_have()
	if new_dialog.item_much("karta_vtref",1) then
		db.actor:give_info_portion("taynik_kuznec3_have")
		return true
	else
		return false
	end
end
function taynik_kuznec3_spawn()
	alife():create("a_inventory_box5",vector():set(149.54742431641,3.76469373703,-223.22738647461),349173,927)
end
	
function taynik_kuznec4_have()
	if new_dialog.item_much("karta_kpiki",1) then
		db.actor:give_info_portion("taynik_kuznec4_have")
		return true
	else
		return false
	end
end
function taynik_kuznec4_spawn()
	alife():create("a_inventory_box6",vector():set(-199.0694732666,8.1113412399292,-298.42422485352),36972,689)
end

function taynik_kuznec5_info()
	db.actor:give_info_portion("taynik5_kuznec"..tostring(math.random(2)))
end
function taynik_kuznec5_1_spawn()
	alife():create("a_inventory_box7",vector():set(-114.99775695801,7.4299039840698,-222.6524810791),123678,552)
end
function taynik_kuznec5_2_spawn()
	alife():create("a_inventory_box7",vector():set(-176.77235412598,10.016658782959,-155.35186767578),60327,560)
end	
function taynik_kuznec5_have()
	if new_dialog.item_much("karta_6chervi",1) then
		db.actor:give_info_portion("taynik_kuznec5_have")
		return true
	else
		return false
	end
end
	
function taynik_kuznec6_have()
	if new_dialog.item_much("karta_vchervi",1) then
		db.actor:give_info_portion("taynik_kuznec6_have")
		return true
	else
		return false
	end
end
function taynik_kuznec6_spawn()
	alife():create("a_inventory_box8",vector():set(41.537700653076,9.9462509155273,54.984855651855),25247,2003)
end

function taynik_kuznec7_info()
	db.actor:give_info_portion("taynik7_kuznec"..tostring(math.random(2)))
end
function taynik_kuznec7_1_spawn()
	alife():create("taynik_kuznec7",vector():set(-128.86723327637,4.9985480308533,-204.93440246582),110680,621)
end
function taynik_kuznec7_2_spawn()
	alife():create("taynik_kuznec7",vector():set(-149.107421875,9.9987936019897,-196.31205749512),88780,627)
end	
function taynik_kuznec7_have()
	if new_dialog.item_much("karta_8piki",1) then
		db.actor:give_info_portion("taynik_kuznec7_have")
		return true
	else
		return false
	end
end
	
function taynik_kuznec8_have()
	if new_dialog.item_much("karta_tbuben",1) then
		db.actor:give_info_portion("taynik_kuznec8_have")
		return true
	else
		return false
	end
end
function taynik_kuznec8_spawn()
	alife():create("a_inventory_box9",vector():set(-37.72583770752,-2.5012285709381,-24.188243865967),2036,1962)
end
	
function taynik_kuznec9_have()
	if new_dialog.item_much("karta_10piki",1) then
		db.actor:give_info_portion("taynik_kuznec9_have")
		return true
	else
		return false
	end
end
function taynik_kuznec9_spawn()
	alife():create("a_inventory_box10",vector():set(1003.2965698242,0.90111553668976,-97.850746154785),449522,2395)
end

local taynik_kuznec10={
    {position={x=-126.79063415527,y=-1.0205173492432,z=-268.44802856445},gv=3241,lv=8266},
    {position={x=-148.20359802246,y=-1.0207840204239,z=-268.50067138672},gv=3238,lv=6901}
}
function taynik_kuznec10_have()
	if new_dialog.item_much("karta_tpiki",1) then
		db.actor:give_info_portion("taynik_kuznec10_have")
		return true
	else
		return false
	end
end
function taynik_kuznec10_spawn(actor,npc,p1,p2)
    local a = taynik_kuznec10[math.random(table.getn(taynik_kuznec10))]
    local se_obj = alife():create("a_inventory_box11", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
end

-- ÏËÎÂ ÄËß ÊÓËÈÍÀÐÀ
function plov_kulinar_have_all()
	return
		new_dialog.item_much("container_morkov",1) and
		new_dialog.item_much("container_ris",1)
end
function plov_kulinar_have()
	if plov_kulinar_have_all() then
		db.actor:give_info_portion("plov_kulinar_have")
		return true
	else
		return false
	end
end
function plov_kulinar_done()
	sak.out_item_namber("container_morkov",1)
	sak.out_item_namber("container_ris",1)
	aem_manager.manage_money(10000, "in")
	sak.create_items_actor("ammo_11.43x23_hydro",2)
	sak.create_items_actor("wpn_ump45",1)
	sak.create_items_actor("ammo_m209",2)
end
function plov_est_vodka()
	return 
		sak.have_item_namber("vodka",5)
end
function plov_net_vodka()
	return 
		not sak.have_item_namber("vodka",5)
end
function plov_spawn_container()
	sak.out_item_namber("vodka",5)
	alife():create("container_morkov",vector():set(324.44668579102,-47.485206604004,-184.05989074707),78774,2087)
	alife():create("container_ris",vector():set(327.84130859375,-47.524192810059,-206.96257019043),81138,2081)
	alife():create("voen_zombied1",vector():set(325.44668579102,-47.485206604004,-184.05989074707),78774,2087)
	alife():create("voen_zombied2",vector():set(328.84130859375,-47.524192810059,-206.96257019043),81138,2081)
	alife():create("bear",vector():set(393.75439453125,-47.450958251953,-217.5832824707),120890,2102)
end

local plov_points={
    {position={x=309.34143066406,y=-47.367248535156,z=-166.67620849609},gv=2086,lv=70419},
    {position={x=292.16119384766,y=-50.431686401367,z=-182.73564147949},gv=2084,lv=62076},
    {position={x=311.88995361328,y=-50.45532989502,z=-230.01058959961},gv=2078,lv=71822}
}
function checking_taken_item69(obj)
	if not has_alife_info("plov_spawn_container_xvatit") then 
	local a, se_obj
 	if (obj:section()=="container_morkov" and db.actor:object("container_ris") ~= nil) or (obj:section()=="container_ris" and db.actor:object("container_morkov") ~= nil) then
		alife():create("zombie_plague_komar",vector():set(393.75439453125,-47.450958251953,-217.5832824707),120890,2102)
		alife():create("zombie_plague_komar",vector():set(318.93539428711,-51.624526977539,-259.40112304688),75551,2076)
		alife():create("zombie_plague_komar",vector():set(375.48956298828,-50.591682434082,-136.09689331055),107108,2097)
		alife():create("zombie_plague_komar",vector():set(332.16790771484,-48.995876312256,-106.60717773438),83186,2093)
		for i=1,table.getn(plov_points) do
			a = plov_points[i]
			for i=1,1 do
				se_obj = alife():create("snork_stronger",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				db.actor:give_info_portion("plov_spawn_container_xvatit")
			end
 		end
	end
	end
end

-- ÈÍÑÒÐÓÌÅÍÒÛ ÄËß ÄÎËÃÎÂßÇÎÃÎ
function dolgovazyi_toolkit_have_all()
	return
		new_dialog.item_much("grub_toolkit",1)
end
function dolgovazyi_toolkit_have()
	if dolgovazyi_toolkit_have_all() then
		db.actor:give_info_portion("dolgovazyi_toolkit_have")
		return true
	else
		return false
	end
end
function dolgovazyi_toolkit_done()
	sak.out_item_namber("grub_toolkit",1)
	sak.create_items_actor("wpn_colt_arm",1)
end
local voen2_toolkit={
    {position={x=132.05836486816,y=-4.1732759094238,z=12.130970954895},gv=135,lv=435777},
    {position={x=111.5823059082,y=0.28668969869614,z=-23.681783676147},gv=121,lv=412994},
    {position={x=-17.64005279541,y=-7.1277565956116,z=-31.031572341919},gv=1593,lv=288137},
    {position={x=-51.489307403564,y=-5.8477749824524,z=-29.11990737915},gv=1605,lv=257838}
}
function voen2_toolkit_spawn(actor,npc,p1,p2)
    local a = voen2_toolkit[math.random(table.getn(voen2_toolkit))]
    local se_obj = alife():create("grub_toolkit", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
	alife():create("leshyi_bandit1",vector():set(274.63876342773,3.7384300231934,-139.68138122559),68311,1282)
	alife():create("leshyi_bandit2",vector():set(279.75830078125,3.8856129646301,-143.39678955078),69248,1171)
	alife():create("leshyi_bandit3",vector():set(309.47369384766,2.9723608493805,-144.90063476563),72068,1171)
	alife():create("leshyi_bandit4",vector():set(334.70700073242,2.4839911460876,-148.4388885498),74094,1284)
	alife():create("leshyi_bandit5",vector():set(348.96188354492,9.8883371353149,-182.7045135498),75832,1170)
	alife():create("leshyi_bandit1",vector():set(10.43399143219,4.845682144165,-283.91278076172),183663,261)
	alife():create("leshyi_bandit2",vector():set(42.207004547119,0.44683709740639,-273.49722290039),215428,262)
	alife():create("leshyi_bandit3",vector():set(40.43994140625,1.8850952386856,-277.86508178711),214122,262)
	alife():create("leshyi_bandit4",vector():set(35.787105560303,0.43984892964363,-288.30523681641),209138,253)
	alife():create("leshyi_bandit5",vector():set(29.637798309326,0.47008767724037,-263.66586303711),202363,262)
	spawn_restrictor.kontrik_vodka_sr1()
end

-- ÀÐÌÅÉÑÊÈÅ ÈÍÑÒÐÓÌÅÍÒÛ ÄËß ÄÎËÃÎÂßÇÎÃÎ
function plichko_toolkit()
	alife():create("a_inventory_box49",vector():set(-78.037445068359,-12.398366928101,-108.93358612061),2914,785)
	alife():create("m_poltergeist_dd",vector():set(-94.667411804199,-4.3921389579773,-143.45478820801),2000,807)
	alife():create("carlic",vector():set(-100.1869430542,-16.449365615845,-97.755973815918),1592,783)
	alife():create("carlic_weak",vector():set(-88.597434997559,-16.467784881592,-79.627365112305),2236,746)
	alife():create("polter_xray",vector():set(-88.597434997559,-16.467784881592,-79.627365112305),2236,746)
	alife():create("carlic_strong",vector():set(-60.026905059814,-16.462705612183,-37.801315307617),3871,743)
	alife():create("carlic_strong",vector():set(-60.026905059814,-16.462705612183,-37.801315307617),3871,743)
	alife():create("burer_build",vector():set(-107.95332336426,-16.461811065674,-33.024200439453),753,779)
	alife():create("burer_strong",vector():set(-70.537628173828,-4.0942406654358,-125.00444793701),3377,799)
	alife():create("electro_polter",vector():set(-70.537628173828,-4.0942406654358,-125.00444793701),3377,799)
end
function dolgovazyi_voen2_have_all()
	return
		new_dialog.item_much("voen2_toolkit",1)
end
function dolgovazyi_voen2_have()
	if dolgovazyi_voen2_have_all() then
		zasada_voen2_spawn()
		return true
	else
		return false
	end
end
function dolgovazyi_voen2_done()
	sak.out_item_namber("voen2_toolkit",1)
	sak.create_items_actor("ammo_5.45x39_fmj",1)
	sak.create_items_actor("ammo_5.56x45_ss190",1)
	sak.create_items_actor("ammo_12x70_buck",1)
end
function zasada_voen2_spawn()
	alife():create("zasada_tonnel_agro_3",vector():set(-107.86102294922,7.3839535713196,-136.98213195801),132140,696)
	alife():create("soldier_mines_regular",vector():set(-148.41178894043,1.1022133827209,-153.208984375),89557,668)
	alife():create("zasada_tonnel_agro_1",vector():set(-181.63943481445,0.50880897045135,-134.7906036377),55372,665)
	alife():create("zasada_blockpost_2",vector():set(-125.12927246094,-0.0059279501438141,-170.30180358887),114480,564)
	alife():create("zasada_tonnel_agro_3",vector():set(-107.78736114502,10.063331604004,11.19410610199),132349,527)
	alife():create("soldier_mines_veteran",vector():set(-72.374252319336,0.5106258392334,53.062473297119),168926,662)
	alife():create("soldier_mines_regular",vector():set(-47.998264312744,0.34889540076256,-39.416110992432),192862,695)
	alife():create("zasada_blockpost_1",vector():set(-37.004440307617,-0.0090819597244263,-9.8737907409668),203715,468)
	alife():create("zasada_tonnel_agro_2",vector():set(-93.630325317383,2.49462890625,49.597480773926),146681,653)
	alife():create("voen_zombied1",vector():set(160.48960876465,0.19881245493889,28.321744918823),386586,584)
	alife():create("voen_zombied2",vector():set(185.47811889648,2.8792362213135,31.284027099609),400730,497)
	alife():create("voen_zombied2",vector():set(163.93394470215,0.30064043402672,53.583347320557),388703,497)
	alife():create("voen_zombied1",vector():set(154.41540527344,0.34736767411232,8.0618295669556),382932,584)
	alife():create("voen_zombied2",vector():set(193.08906555176,-0.20005804300308,45.669494628906),404525,498)
	alife():create("voen_zombied2",vector():set(161.7727355957,1.3556709289551,-15.830598831177),387378,656)
	alife():create("m_controller_old",vector():set(185.86213684082,-0.20285484194756,40.648559570313),401105,497)
		db.actor:give_info_portion("dolgovazyi_voen2_have")
end

-- ÇÀÊÀÇ ÎÒ ÂÎÐÎÍÀ
function dolgovazyi_anomal_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_mp7a3_kalibr_ves",1) and 
		wawka_dialog.good_item_have_number("wpn_bizon_kalibr_ves",1) and 
		wawka_dialog.good_item_have_number("wpn_famas_p3_sk1_otdaca_ves",1) and 
		wawka_dialog.good_item_have_number("wpn_p90_ves",1) and 
		wawka_dialog.good_item_have_number("wpn_m16a2_sk1_otdaca_ves",1) and 
		wawka_dialog.good_item_have_number("wpn_m4_kalibr_ves",1) and 
		wawka_dialog.good_item_have_number("wpn_hk417_sk1_otdaca_ves",1) and 
		wawka_dialog.good_item_have_number("wpn_groza_m3",1)
end
function dolgovazyi_anomal_have()
	if dolgovazyi_anomal_have_all() then
		db.actor:give_info_portion("dolgovazyi_anomal_have")
		return true
	else
		return false
	end
end
function dolgovazyi_anomal_done()
	sak.out_item_namber("wpn_mp7a3_kalibr_ves",1)
	sak.out_item_namber("wpn_bizon_kalibr_ves",1)
	sak.out_item_namber("wpn_famas_p3_sk1_otdaca_ves",1)
	sak.out_item_namber("wpn_p90_ves",1)
	sak.out_item_namber("wpn_m16a2_sk1_otdaca_ves",1)
	sak.out_item_namber("wpn_m4_kalibr_ves",1)
	sak.out_item_namber("wpn_hk417_sk1_otdaca_ves",1)
	sak.out_item_namber("wpn_groza_m3",1)
	sak.create_items_actor("cube_chip",1)
	sak.create_items_actor("chertez_sayga",1)
	sak.create_items_actor("ammo_12x70_kart",3)
	sak.create_items_actor("wpn_ak103",1)
	kostya_dialog.give_ammo(3)
	table_treasure_l.treasure()
end

-- ×ÅÐÒÅÆÈ ÑÒÀÐÎÃÎ ÎÐÓÆÅÉÍÈÊÀ
function vasily_ak_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_sks_s",2) and 
		new_dialog.item_much("chertez_ak47",1) and 
		new_dialog.item_much("af_gravi",2) and 
		new_dialog.item_much("af_dummy_spring_red",1) and 
		db.actor:money()>=35000 
end
function vasily_fn_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_fn2000",2) and 
		new_dialog.item_much("chertez_fntrooper",1) and 
		new_dialog.item_much("af_gravi",2) and 
		new_dialog.item_much("af_dummy_spring_red",1) and 
		db.actor:money()>=35000 
end
function vasily_hostel_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_fn2000",1) and 
		wawka_dialog.good_item_have_number("wpn_gauss",1) and 
		new_dialog.item_much("chertez_hostel",1) and 
		new_dialog.item_much("af_electra_flash",2) and 
		db.actor:money()>=35000 
end
function vasily_sayga_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_saiga12c",1) and 
		wawka_dialog.good_item_have_number("wpn_sayga12_sk1",1) and 
		new_dialog.item_much("chertez_sayga",1) and 
		new_dialog.item_much("wpn_kollim",1) and 
		new_dialog.item_much("af_gravi",2) and 
		new_dialog.item_much("af_dummy_spring_red",1) and 
		db.actor:money()>=35000 
end
function vasily_zastava_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_zastava_m76",2) and 
		new_dialog.item_much("chertez_otboinik",1) and 
		new_dialog.item_much("af_gravi",2) and 
		new_dialog.item_much("af_dummy_spring_red",1) and 
		db.actor:money()>=35000 
end
function vasily_mossberg_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_mossberg590",2) and 
		new_dialog.item_much("chertez_mossberg",1) and 
		new_dialog.item_much("af_gravi",2) and 
		new_dialog.item_much("af_dummy_spring_red",1) and 
		db.actor:money()>=35000
end
function vasily_aug_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_aug_a1",1) and 
		new_dialog.item_much("chertez_aug",1) and 
		new_dialog.item_much("af_gravi",2) and 
		new_dialog.item_much("af_dummy_spring_red",1) and 
		new_dialog.item_much("wpn_addon_shotgun",2) and 
		new_dialog.item_much("wpn_addon_grenade_launcher_ag36",1) and 
		new_dialog.item_much("wpn_addon_grenade_launcher_m203",1) and 
		db.actor:money()>=35000
end

function vasily_chertez_have()
	if (db.actor:has_info("dolgovazyi_anomal_done") and db.actor:has_info("koloda_kuznec_have") and 
	     db.actor:has_info("borov_reid_done") and db.actor:has_info("dolg_peremirie_have") and 
	     db.actor:has_info("sklad_barrel_done") and db.actor:has_info("chertez_podarok_have") and 
	     db.actor:has_info("taynik_oruzeinik_have")) then 
			db.actor:give_info_portion("vasily_chertez_done")
	end 
end

function start_vasily1(first_speaker, second_speaker)
		aem_manager.manage_money(35000, "out")
		sak.out_item_namber("wpn_sks_s",2)
		sak.out_item_namber("chertez_ak47",1)
		sak.out_item_namber("af_gravi",2)
		sak.out_item_namber("af_dummy_spring_red",1)
	local gtime = amk.game_minutes()
	amk.save_variable("vasily_lekar1", gtime + math.random(23, 24) * 60)
end
function is_vasily_ready1(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("vasily_lekar1", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_vasily1(first_speaker, second_speaker)
	sak.create_items_actor("wpn_sks_cust",1)
	amk.del_variable("vasily_lekar1")
end

function start_vasily2(first_speaker, second_speaker)
		aem_manager.manage_money(35000, "out")
		sak.out_item_namber("wpn_fn2000",2)
		sak.out_item_namber("chertez_fntrooper",1)
		sak.out_item_namber("af_gravi",2)
		sak.out_item_namber("af_dummy_spring_red",1)
	local gtime = amk.game_minutes()
	amk.save_variable("vasily_lekar2", gtime + math.random(23, 24) * 60)
end
function is_vasily_ready2(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("vasily_lekar2", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_vasily2(first_speaker, second_speaker)
	sak.create_items_actor("wpn_fn2000_paratrooper",1)
	amk.del_variable("vasily_lekar2")
end

function start_vasily3(first_speaker, second_speaker)
		aem_manager.manage_money(35000, "out")
		sak.out_item_namber("wpn_fn2000",1)
		sak.out_item_namber("wpn_gauss",1)
		sak.out_item_namber("chertez_hostel",1)
		sak.out_item_namber("af_electra_flash",2)
	local gtime = amk.game_minutes()
	amk.save_variable("vasily_lekar3", gtime + math.random(23, 24) * 60)
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"keis_key_box") then
	alife():release(obj,true)
	break
	end
	end
end
function is_vasily_ready3(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("vasily_lekar3", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_vasily3(first_speaker, second_speaker)
	sak.create_items_actor("wpn_hostel",1)
	amk.del_variable("vasily_lekar3")
end

function start_vasily4(first_speaker, second_speaker)
		aem_manager.manage_money(35000, "out")
		sak.out_item_namber("wpn_saiga12c",1)
		sak.out_item_namber("wpn_sayga12_sk1",1)
		sak.out_item_namber("chertez_sayga",1)
		sak.out_item_namber("wpn_kollim",1)
		sak.out_item_namber("af_gravi",2)
		sak.out_item_namber("af_dummy_spring_red",1)
	local gtime = amk.game_minutes()
	amk.save_variable("vasily_lekar4", gtime + math.random(23, 24) * 60)
end
function is_vasily_ready4(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("vasily_lekar4", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_vasily4(first_speaker, second_speaker)
	sak.create_items_actor("wpn_sayga12k",1)
	amk.del_variable("vasily_lekar4")
end

function start_zastava_vasily(first_speaker, second_speaker)
		aem_manager.manage_money(35000, "out")
		sak.out_item_namber("wpn_zastava_m76",2)
		sak.out_item_namber("chertez_otboinik",1)
		sak.out_item_namber("af_gravi",2)
		sak.out_item_namber("af_dummy_spring_red",1)
	local gtime = amk.game_minutes()
	amk.save_variable("zastava_vasily", gtime + math.random(23, 24) * 60)
end
function is_zastava_vasily(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("zastava_vasily", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_zastava_vasily(first_speaker, second_speaker)
	sak.create_items_actor("wpn_zastava_m77",1)
	amk.del_variable("zastava_vasily")
end

function start_mossberg_vasily(first_speaker, second_speaker)
		aem_manager.manage_money(35000, "out")
		sak.out_item_namber("wpn_mossberg590",2)
		sak.out_item_namber("chertez_mossberg",1)
		sak.out_item_namber("af_gravi",2)
		sak.out_item_namber("af_dummy_spring_red",1)
	local gtime = amk.game_minutes()
	amk.save_variable("mossberg_vasily", gtime + math.random(23, 24) * 60)
end
function is_mossberg_vasily(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("mossberg_vasily", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_mossberg_vasily(first_speaker, second_speaker)
	sak.create_items_actor("wpn_m500_custom",1)
	amk.del_variable("mossberg_vasily")
end

function start_aug_vasily(first_speaker, second_speaker)
		aem_manager.manage_money(35000, "out")
		sak.out_item_namber("wpn_aug_a1",1)
		sak.out_item_namber("chertez_aug",1)
		sak.out_item_namber("af_gravi",2)
		sak.out_item_namber("af_dummy_spring_red",1)
		sak.out_item_namber("wpn_addon_shotgun",2)
		sak.out_item_namber("wpn_addon_grenade_launcher_ag36",1)
		sak.out_item_namber("wpn_addon_grenade_launcher_m203",1)
	local gtime = amk.game_minutes()
	amk.save_variable("aug_vasily", gtime + math.random(23, 24) * 60)
	local obj
    for a=1,65535,1 do
    obj=alife():object(a)
    if obj and string.find(obj:name(),"taynik_podarok") then
    alife():release(obj,true)
	break
    end
    end
end
function is_aug_vasily(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("aug_vasily", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_aug_vasily(first_speaker, second_speaker)
	sak.create_items_actor("wpn_addon_shotgun",1)
	sak.create_items_actor("wpn_aug_a2",1)
	amk.del_variable("aug_vasily")
end

-- ÎÕÎÒÀ ÍÀ ÏÑÅÂÄÎÑÎÁÀÊ
local voron_ohota={
    {position={x=-147.3277130127,y=0.33770313858986,z=10.082728385925},gv=318,lv=70696},
    {position={x=-163.02865600586,y=0.39847400784492,z=21.757024765015},gv=315,lv=56957},
    {position={x=-149.24879455566,y=0.36745873093605,z=-7.2384080886841},gv=318,lv=68812}
}
function voron_dogs_spawn()
	local a, se_obj
	alife():create("pseudodog_strong",vector():set(-147.3277130127,0.33770313858986,10.082728385925),70696,318)
	alife():create("pseudodog_strong",vector():set(-147.3277130127,0.33770313858986,11.358649253845),72365,318)
	alife():create("pseudodog_strong",vector():set(-163.02865600586,0.39847400784492,21.757024765015),56957,315)
	alife():create("pseudodog_strong",vector():set(-163.02865600586,0.39847400784492,21.757024765015),56957,315)
	alife():create("pseudodog_strong",vector():set(-149.24879455566,0.36745873093605,-7.2384080886841),68812,318)
		amk.start_timer("battle", 0, {"l02_garbage", 30, 1})
		for i=1,table.getn(voron_ohota) do
			a = voron_ohota[i]
			for i=1,4 do
				se_obj = alife():create("dog_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			end
 		end
end
function voron_dogs_done()
	sak.create_items_actor("ammo_12x70_buck",3)
	sak.create_items_actor("wpn_vepr545",1)
end
function voron_dogs_have(task, info)
     if db.actor:has_info("ohota_dog1_dead") and db.actor:has_info("ohota_dog2_dead") then 
		return db.actor:give_info_portion("voron_dogs_have")
     end
		return false
end

-- ÀÄÐÅÑ ÎÐÓÆÅÉÍÈÊÀ
function adres_chertez_have_all()
	return
		new_dialog.item_much("part_digitis_biblio",1) and 
		db.actor:has_info("ohota_biblik_done")
end
function adres_chertez_have()
	if adres_chertez_have_all() then
		db.actor:give_info_portion("adres_chertez_have")
		return true
	else
		return false
	end
end
function dragunof_npc_spawn()
	sak.out_item_namber("part_digitis_biblio",1)
	local obj = alife():create("dragunof_npc",vector():set(191.67535400391,2.8055994510651,212.01971435547),260495,2219)
	snp.set_stalker_story_id(obj,21003)
end

-- ÌÈÍÛ ÄËß ÄÜßÊÀ
function mines_dyak_have_all()
	return
		new_dialog.item_much("bomba_mina_n",20)
end
function mines_dyak_have()
	if mines_dyak_have_all() then
		db.actor:give_info_portion("mines_dyak_have")
		return true
	else
		return false
	end
end
function mines_dyak_done()
	sak.create_items_actor("wpn_mp153",1)
	sak.create_items_actor("ammo_12x70_kart",5)
	alife():create("volna_barrel",vector():set(541.85137939453,1.1423823833466,-82.919898986816),505977,3563)
	alife():create("volna_barrel",vector():set(526.22888183594,1.1099916696548,-95.24584197998),497796,3563)
	alife():create("volna_barrel",vector():set(520.75286865234,1.0855330228806,-27.168342590332),494254,3548)
	alife():create("volna_barrel",vector():set(545.37158203125,3.8476238250732,-44.32702255249),507675,3563)
	alife():create("volna_barrel",vector():set(523.68902587891,0.36229345202446,-61.176872253418),495990,3563)
	alife():create("amk_kanistra",vector():set(551.83544921875,2.6852452754974,-62.465179443359),509946,3563)
	alife():create("amk_kanistra",vector():set(551.83544921875,2.6852452754974,-62.465179443359),509946,3563)
	alife():create("amk_kanistra",vector():set(551.83544921875,2.6852452754974,-62.465179443359),509946,3563)
	alife():create("amk_kanistra",vector():set(551.83544921875,2.6852452754974,-62.465179443359),509946,3563)
	alife():create("amk_kanistra",vector():set(551.83544921875,2.6852452754974,-62.465179443359),509946,3563)
		amk.start_timer("battle", 0, {"marsh", 31, 1})
end
function ohota_est_kisty()
	return 
		sak.have_item_namber("part_digitis_biblio",1)
end
function ohota_net_kisty()
	return 
		not sak.have_item_namber("part_digitis_biblio",1)
end
function ohota_biblik_done()
	sak.create_items_actor("part_digitis_biblio",1)
end
function ohota_biblik_have(task, info)
     if db.actor:has_info("ohota_biblik1_dead") and db.actor:has_info("ohota_biblik2_dead") then 
		return db.actor:give_info_portion("ohota_biblik_have")
     end
		return false
end

-- ÎÑÈÍÎÅ ÃÍÅÇÄÎ
function convoi_sidor_spawn()
	alife():create("dyak_mines_box",vector():set(-177.01216125488,-0.0014179013669491,-169.55012512207),59614,652)
	alife():create("soldier_mines_veteran",vector():set(-183.09136962891,-0.0032258331775665,-175.5666809082),53243,666)
	alife():create("zasada_blockpost_2",vector():set(-171.63179016113,-0.0018327832221985,-170.09370422363),65377,652)
	alife():create("soldier_mines_regular",vector():set(-166.67433166504,-0.2034555375576,-184.88130187988),70444,556)
	alife():create("zasada_tonnel_agro_3",vector():set(-170.1548614502,5.3167057037354,-190.66078186035),66799,667)
	alife():create("soldier_mines_veteran",vector():set(-184.37963867188,5.3169646263123,-190.71520996094),52482,667)
	alife():create("zasada_tonnel_agro_2",vector():set(-184.259765625,5.3180122375488,-170.22346496582),52528,667)
	alife():create("zasada_tonnel_agro_3",vector():set(-169.94833374023,5.3174805641174,-181.29229736328),66823,667)
	alife():create("soldier_mines_regular",vector():set(-124.9266204834,-0.0044041275978088,-173.45797729492),115251,564)
	alife():create("zasada_blockpost_1",vector():set(-108.03829956055,0.55656754970551,-192.83270263672),132068,670)
	alife():create("zasada_tonnel_agro_2",vector():set(-178.22937011719,0.5575236082077,-132.3981628418),58246,665)
	alife():create("zasada_tonnel_agro_3",vector():set(-188.8299407959,-0.20083458721638,-168.70693969727),47568,558)
	alife():create("soldier_mines_veteran",vector():set(-185.09223937988,-0.0016607046127319,-166.7855682373),51793,558)
	alife():create("soldier_mines_regular",vector():set(-143.85737609863,-0.20207762718201,-221.2010345459),93974,553)
	alife():create("soldier_mines_veteran",vector():set(-144.73194885254,-0.0012685060501099,-201.32334899902),93263,650)
	alife():create("zasada_blockpost_3",vector():set(-156.73100280762,14.998293876648,-191.44047546387),80447,644)
	alife():create("soldier_mines_regular",vector():set(-178.46655273438,-0.20172062516212,-141.38903808594),58235,559)
	alife():create("zasada_tonnel_agro_2",vector():set(-155.91842651367,1.1017161607742,-149.86657714844),81247,668)
	alife():create("zasada_tonnel_agro_3",vector():set(-155.91842651367,1.1017161607742,-149.86657714844),81247,668)
	alife():create("soldier_mines_veteran",vector():set(-107.11489868164,7.3832154273987,-136.85882568359),132866,696)
	alife():create("soldier_mines_veteran",vector():set(-107.71276855469,7.3844218254089,-205.56942749023),132053,552)
	alife():create("soldier_mines_regular",vector():set(-186.84977722168,-0.0019687712192535,-222.92886352539),49649,555)
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-163.66780090332,-0.20163251459599,-213.43978881836),73278,554),"vehicle_btr", "scripts\\ohota\\btr.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-88.425201416016,-0.63169598579407,-174.09777832031),152178,438),"vehicle_btr", "scripts\\ohota\\btr.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-180.71640014648,0.16908565163612,-117.13092041016),56104,446),"vehicle_btr", "scripts\\ohota\\btr.ltx")
end
function ammo_sidor_outfit_money()
	return
		db.actor:money()>=35000
end
function ammo_sidor_outfit_give()
	sak.create_items_actor("meceniy_outfit_new",1)
	aem_manager.manage_money(35000, "out")
end
function ammo_sidor_have_all()
	return
		new_dialog.item_much("detonator",15) and 
		new_dialog.item_much("detonator_2",5) and 
		db.actor:has_info("mines_dyak_have")
end
function ammo_sidor_have()
	if ammo_sidor_have_all() then
		db.actor:give_info_portion("ammo_sidor_have")
		return true
	else
		return false
	end
end
function ammo_sidor_done()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("detonator",15)
	sak.out_item_namber("detonator_2",5)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.create_items_actor("wpn_acr",1)
	sak.create_items_actor("ammo_5.56x45_gd",2)
	sak.create_items_actor("grenade_fb",3)
	local obj
    for a=1,65535,1 do
    obj=alife():object(a)
    if obj and string.find(obj:name(),"dyak_mines_box") then
    alife():release(obj,true)
    break
    end
    end
end

-- ÈÍÑÒÐÓÌÅÍÒÛ ÄËß ÂÀÑÈËÈß
function vasily_toolkit_have_all()
	return
		new_dialog.item_much("tonk_toolkit",1) and
		new_dialog.item_much("akill_toolkit",1)
end
function vasily_toolkit_have()
	if vasily_toolkit_have_all() then
		db.actor:give_info_portion("vasily_toolkit_have")
		return true
	else
		return false
	end
end
function vasily_toolkit_done()
	sak.out_item_namber("tonk_toolkit",1)
	sak.out_item_namber("akill_toolkit",1)
	sak.create_items_actor("wpn_m4",1)
	sak.create_items_actor("ammo_5.56x45_ss190",1)
end

-- ÍÎ×ÍÀß ÎÕÎÒÀ
function night_ohota_have_all()
	return
		new_dialog.item_much("repair_item_outfit",3) and
		new_dialog.item_much("repair_item_weapon",3) and
		new_dialog.item_much("nv_good",1)
end
function night_ohota_time(actor, npc)
	return
		level.get_time_hours() >= 1 and level.get_time_hours() < 3
end
function night_ohota_have()
	if night_ohota_have_all() then
		db.actor:give_info_portion("night_ohota_have")
		return true
	else
		return false
	end
end
local night_ohota={
    {position={x=-48.65113067627,y=0.69836056232452,z=257.15365600586},gv=3399,lv=114943},
    {position={x=-93.456527709961,y=0.37086692452431,z=287.33569335938},gv=3388,lv=94084},
    {position={x=-59.700382232666,y=1.1549812555313,z=289.90414428711},gv=3402,lv=108258},
    {position={x=-46.008926391602,y=0.49958345293999,z=319.01986694336},gv=3393,lv=116541},
    {position={x=-23.406232833862,y=1.2403894662857,z=307.52917480469},gv=3402,lv=129033},
    {position={x=-63.010307312012,y=0.71384620666504,z=276.72909545898},gv=3402,lv=106167}
}
function night_ohota_give()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("repair_item_weapon",3)
	sak.out_item_namber("repair_item_outfit",3)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.create_items_actor("ammo_12x76_zhekan",3)
		local a, se_obj
	alife():create("kontrik_senator",vector():set(-47.415992736816,0.44350126385689,299.96798706055),115770,3402)
	alife():create("controller_babka",vector():set(-42.238235473633,-0.79973202943802,267.14822387695),118647,3402)
	alife():create("kontrik_labx16",vector():set(-66.48868560791,0.22260114550591,305.58486938477),104245,3402)
	alife():create("girl_zombied1",vector():set(-23.406232833862,1.2403894662857,307.52917480469),129033,3402)
	alife():create("voen_zombied2",vector():set(-23.406232833862,1.2403894662857,307.52917480469),129033,3402)
	alife():create("zombie_blow",vector():set(-23.406232833862,1.2403894662857,307.52917480469),129033,3402)
	alife():create("zombie_beee",vector():set(-23.406232833862,1.2403894662857,307.52917480469),129033,3402)
	alife():create("zombie_hell",vector():set(-23.406232833862,1.2403894662857,307.52917480469),129033,3402)
	alife():create("voen_zombied1",vector():set(-23.406232833862,1.2403894662857,307.52917480469),129033,3402)
	alife():create("zombie_plague_komar",vector():set(-23.406232833862,1.2403894662857,307.52917480469),129033,3402)
	alife():create("girl_zombied2",vector():set(-63.010307312012,0.71384620666504,276.72909545898),106167,3402)
		for i=1,table.getn(night_ohota) do
			a = night_ohota[i]
			for i=1,1 do
				se_obj = alife():create("yan_zombied_respawn_1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("yan_zombied_respawn_2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("yan_zombied_respawn_3",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("rad_zombied_respawn_1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
				se_obj = alife():create("rad_zombied_respawn_2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			end
 		end
end
function night_ohota_end(task, info)
     if level.get_time_hours() >= 1 and level.get_time_hours() < 5 and
	db.actor:has_info("kontrik_senator_dead") then
		db.actor:give_info_portion("night_ohota_end")
		return true
	else
		return false
	end
end
function night_ohota_done()
	alife():create("akill_toolkit",vector():set(-148.59489440918,5.1987357139587,180.3150177002),38958,1329)
	sak.create_items_actor("wpn_rpk74_sk1",1)
	table_treasure_l.treasure()
end

-- ÐÀÄÈÎÄÅÒÀËÈ ÄËß ÄÎÖÅÍÒÀ
function docent_detail_have_all()
	return
		new_dialog.item_much("akill_condensators",1) and 
		new_dialog.item_much("akill_kanifol",1) and 
		new_dialog.item_much("akill_transistors",1) and 
		new_dialog.item_much("akill_textolite",5) and 
		new_dialog.item_much("akill_wire",1)
end
function docent_detail_have()
	if docent_detail_have_all() then
		db.actor:give_info_portion("docent_detail_have")
		return true
	else
		return false
	end
end
function docent_detail_done()
	sak.out_item_namber("akill_condensators",1)
	sak.out_item_namber("akill_kanifol",1)
	sak.out_item_namber("akill_transistors",1)
	sak.out_item_namber("akill_textolite",5)
	sak.out_item_namber("akill_wire",1)
	sak.create_items_actor("tonk_toolkit",1)
	sak.create_items_actor("wpn_addon_acog_r",1)
	local obj
    for a=1,65535,1 do
    obj=alife():object(a)
    if obj and (string.find(obj:name(),"radiodetail_box2") or string.find(obj:name(),"radiodetail_box4")) then
    alife():release(obj,true)
    end
    end
end

-- ÎÁÐÀÇÖÛ ÄËß ÍÀÓÊÈ
local saharov_obrazec={
    {position={x=20.999996,y=-6.619059,z=-16.099998},gv=1151,lv=1554},
    {position={x=-92.451225280762,y=2.7269945144653,z=5.9352955818176},gv=2870,lv=18375},
    {position={x=-182.0979309082,y=20.749319076538,z=389.13494873047},gv=2968,lv=131547},
    {position={x=-60.026905059814,y=-16.462705612183,z=-37.801315307617},gv=743,lv=3871},
    {position={x=-65.49397277832,y=-21.890146255493,z=13.755535125732},gv=33,lv=2721}
}
function saharov_obrazec_start()
	alife():create("microscope",vector():set(6.5795521736145,-7.8233504295349,-13.003791809082),7641,2693)
	local a, se_obj
	for i=1,table.getn(saharov_obrazec) do
		a = saharov_obrazec[i]
		for i=1,1 do
			se_obj = alife():create("carlic",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("carlic_weak",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("carlic_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("karlito",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("scelet_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("vypolzen_red",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("poltergeist_build",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("m_poltergeist_dd",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("burer_build",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("electro_polter",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("polter_xray",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("tushkano_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("nosales",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
		end
 	end
end
function saharov_obrazec_have_all()
	return
		new_dialog.item_much("mutant_carlic_hand",11) and
		new_dialog.item_much("microscope",1)
end
function saharov_obrazec_have()
	if new_dialog.item_much("mutant_carlic_hand",11) then
		db.actor:give_info_portion("saharov_obrazec_have")
		return true
	else
		return false
	end
end
function saharov_microscope_have()
	if new_dialog.item_much("microscope",1) then
		db.actor:give_info_portion("saharov_microscope_have")
		return true
	else
		return false
	end
end
function saharov_obrazec_done()
	sak.out_item_namber("mutant_carlic_hand",11)
	sak.out_item_namber("microscope",1)
	sak.create_items_actor("wpn_apb762",1)
	sak.create_items_actor("ammo_gauss",3)
	sak.create_items_actor("arc_art_box_1basic",1)
	alife():create("radiodetail_box2",vector():set(-127.55987548828,6.5642719268799,-199.17449951172),110705,621)
	alife():create("akill_condensators",vector():set(-172.21669006348,2.4356098175049,-273.50692749023),55209,3367)
	alife():create("akill_transistors",vector():set(306.9521484375,-38.351680755615,-23.128293991089),69058,1930)
	alife():create("radiodetail_box4",vector():set(-16.996397018433,16.994888305664,123.02976989746),174744,354)
	alife():create("akill_kanifol",vector():set(30.662132263184,-10.855993270874,-273.17456054688),54304,1480)
end

-- ÏÎÈÑÊÈ ÏÐÎÒÎÒÈÏÀ ÁÐÎÍÅÊÎÑÒÞÌÀ
function new_prototip_have_all()
	return
		new_dialog.item_much("gagarin_outfit",1)
end
function new_prototip_have()
	if new_prototip_have_all() then
		db.actor:give_info_portion("new_prototip_have")
		return true
	else
		return false
	end
end
function new_prototip_done()
	sak.out_item_namber("gagarin_outfit",1)
	sak.create_items_actor("grenade_sg",2)
	sak.create_items_actor("ammo_12x76_dart",2)
	sak.create_items_actor("ammo_12x70_kart",2)
end
function old_prototip_have_all()
	return
		wawka_dialog.good_item_have_number("militaryspec_outfit",1)
end
function start_vasily5(first_speaker, second_speaker)
		sak.out_item_namber("militaryspec_outfit",1)
	local gtime = amk.game_minutes()
	amk.save_variable("vasily_lekar5", gtime + math.random(11, 12) * 60)
end
function is_vasily_ready5(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("vasily_lekar5", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_vasily5(first_speaker, second_speaker)
	sak.create_items_actor("gagarin_outfit_m1",1)
	amk.del_variable("vasily_lekar5")
end

-- ÂÎÅÍÍÀß ÓÃÐÎÇÀ
function sviblov_ugroza_have_all()
	return
		new_dialog.item_much("secret_prikaz1",1) and 
		new_dialog.item_much("major_navigator",1)
end
function sviblov_ugroza_have()
	if sviblov_ugroza_have_all() then
		db.actor:give_info_portion("sviblov_ugroza_have")
		return true
	else
		return false
	end
end
function sviblov_ugroza_done()
	sak.out_item_namber("secret_prikaz1",1)
	sak.out_item_namber("major_navigator",1)
	sak.create_items_actor("ammo_7.62x51_fmj",2)
	sak.create_items_actor("ammo_7.62x51_ap",2)
	alife():create("a_inventory_box36",vector():set(172.45440673828,12.033090591431,529.86395263672),238546,3484)
	alife():create("major_kiselev",vector():set(178.68118286133,12.274962425232,532.15295410156),239674,3484)
	alife():create("agro_elite_sniper1",vector():set(186.58837890625,13.594690322876,586.36590576172),249116,3487)
	alife():create("agro_elite_sniper2",vector():set(164.94111633301,9.5983371734619,574.56854248047),232959,3487)
	alife():create("agro_elite_soldier",vector():set(163.52575683594,6.1710906028748,508.34552001953),232026,3485)
	alife():create("agro_elite_soldier",vector():set(232.3688659668,11.078146934509,524.51342773438),282357,3484)
	alife():create("agro_elite_soldier",vector():set(162.10740661621,10.919805526733,534.69158935547),231236,3484)
	alife():create("agro_elite_soldier",vector():set(168.39401245117,10.945503234863,531.71594238281),235352,3484)
	alife():create("agro_elite_soldier",vector():set(175.25430297852,12.144932746887,530.98895263672),239674,3484)
	alife():create("agro_elite_soldier",vector():set(119.45362854004,10.738885879517,531.17657470703),207550,3484)
	alife():create("agro_elite_soldier",vector():set(135.97129821777,10.796214103699,534.49462890625),217239,3484)
	alife():create("agro_elite_soldier",vector():set(178.5399017334,11.089466094971,536.83685302734),242859,3484)
		amk.start_timer("battle", 0, {"marsh", 30, 1})
end
function sms_from_adrenalin()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÀÄÐÅÍÀËÈÍ:".."\\n".."%c[255,255,128,128]Âíèìàíèå âñåì ñòàëêåðàì! Ñðî÷íî íóæíà âàøà ïîìîùü! Ïîõîæå, ÷òî âîåííûå ïëàíèðóþò îòáèòü öåíòðàëüíûé êîìïëåêñ íà Àãðîïðîìå. Âîçìîæíî, áóäåò áðîíåòåõíèêà. Íàñ î÷åíü ìàëî, íà ñ÷åòó êàæäûé ñòâîë. Êòî íàõîäèòñÿ ïîáëèçîñòè, ïîñïåøèòå.".."".."\n", nil, nil, 20000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end

-- ÎÁÎÐÎÍÀ ÊÎÌÏËÅÊÑÀ
function sms_and_elite()
	sak.create_items_actor("ammo_7.62x39_fmj",3)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Âíèìàíèå! Ñîëäàòû çäåñü! Çàìåòèë ñíàéïåðà íà êðûøå.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("agr_stalker_veteran",vector():set(29.193832397461,4.8235249519348,10.753555297852),291945,461)
	alife():create("agr_stalker_regular",vector():set(36.191497802734,9.255485534668,9.6114292144775),291945,461)
	alife():create("gar_stalker_respawn_1",vector():set(60.590728759766,-0.20246955752373,5.7361927032471),297342,462)
	alife():create("gar_stalker_respawn_2",vector():set(6.7301149368286,0.0055676698684692,3.636745929718),247299,478)
	alife():create("agr_stalker_veteran",vector():set(-18.480335235596,5.2261633872986,9.8059635162354),222127,484)
	alife():create("agro_elite_soldier",vector():set(63.078994750977,-0.20018222928047,21.842514038086),299348,461)
	alife():create("agro_elite_soldier",vector():set(47.278644561768,-0.20052656531334,31.10094833374),284839,463)
	alife():create("agro_elite_soldier",vector():set(25.650547027588,-0.20100492238998,31.631187438965),265283,463)
	alife():create("agro_elite_soldier",vector():set(15.513795852661,0.98150289058685,39.599838256836),255466,490)
	alife():create("agro_elite_soldier",vector():set(8.0816431045532,-0.20169301331043,33.396873474121),248709,477)
	alife():create("agro_elite_soldier",vector():set(-7.2284851074219,-0.2010949999094,45.450382232666),233175,475)
	alife():create("agro_elite_rpg",vector():set(-26.682174682617,-0.005758136510849,-7.2615804672241),213941,466)
	alife():create("agro_elite_rpg",vector():set(80.709007263184,-0.062407344579697,38.976570129395),315834,423)
	alife():create("agro_elite_sniper2",vector():set(0.3126049041748,11.756846427917,4.0536603927612),240382,487)
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(103.17711639404,0.29608789086342,52.956630706787),337406,494),"vehicle_btr", "scripts\\ohota\\ohota_btr1.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-77.605987548828,0.68026804924011,-15.450466156006),163135,660),"vehicle_btr", "scripts\\ohota\\ohota_btr2.ltx")
	amk.start_timer("battle", 0, {"l03_agroprom", 30, 1})
end
function btr_elite_spawn()
	alife():create("agr_soldier_regular",vector():set(-64.518898010254,0.16922131180763,-27.173097610474),176737,456)
	alife():create("agr_soldier_veteran",vector():set(-50.698783874512,-0.0058537423610687,-14.656023025513),190915,474)
	alife():create("agro_elite_soldier",vector():set(-47.253238677979,0.2051685154438,2.2540948390961),193510,474)
	alife():create("agr_soldier_veteran",vector():set(-71.907958984375,0.26722732186317,-30.180442810059),168811,456)
	alife():create("agr_soldier_regular",vector():set(-53.960502624512,-0.0083908438682556,8.1545209884644),187554,474)
	alife():create("agro_elite_soldier",vector():set(100.67513275146,-0.14655031263828,40.001415252686),335364,494)
	alife():create("agr_soldier_regular",vector():set(86.001525878906,0.29959085583687,62.218788146973),321186,494)
	alife():create("agr_soldier_veteran",vector():set(98.401290893555,1.6747087240219,65.08228302002),333369,494)
	alife():create("agro_elite_soldier",vector():set(93.400871276855,0.10019782185555,19.24564743042),327846,587)
	alife():create("agr_soldier_veteran",vector():set(86.923858642578,-0.0078054964542389,37.177715301514),321815,423)
	alife():create("soldier_mines_regular",vector():set(238.42492675781,0.31565216183662,-11.948183059692),423388,416)
	alife():create("soldier_mines_veteran",vector():set(242.51605224609,0.96377217769623,1.7235007286072),424599,416)
	alife():create("zasada_tonnel_agro_2",vector():set(249.4091796875,0.31185111403465,-12.791911125183),426822,416)
	alife():create("zasada_tonnel_agro_3",vector():set(285.88833618164,0.37548074126244,0.69025629758835),434239,693)
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(225.92903137207,0.31297436356544,-5.1353206634521),418721,567),"vehicle_btr", "scripts\\ohota\\btr.ltx")
end
function adrenalin_oborona_have(task, info)
     if db.actor:has_info("major_lisicyn_dead") and db.actor:has_info("agro_elite_sniper1_dead") and 
	db.actor:has_info("agro_elite_sniper2_dead") and db.actor:has_info("ohota_btr1_dead") and 
	db.actor:has_info("ohota_btr2_dead") then
		return db.actor:give_info_portion("adrenalin_oborona_have") and 
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÀÄÐÅÍÀËÈÍ:".."\\n".."%c[255,255,128,128]Ïîõîæå, ýòî âñå. Ìå÷åíûé, íàéäè è îáûùè êîìàíäèðà. Ìîæåò, îòûùåøü ÷òî-íèáóäü.".."".."\n", nil, nil, 30000)
     end
		return false
end
function adrenalin_oborona_done()
	sak.create_items_actor("ammo_23x76_shrap",4)
end
function marsh_blokpost_have(task, info)
     if db.actor:has_info("major_kiselev_dead") and db.actor:has_info("agro_elite_sniper1_dead") and 
	db.actor:has_info("agro_elite_sniper2_dead") then
		return db.actor:give_info_portion("marsh_blokpost_have")
     end
		return false
end

-- Â ÒÛËÓ ÂÐÀÃÀ
function checking_taken_item71(obj)
 	if not has_alife_info("marsh_razvedchik_start") and obj:section()=="secret_prikaz2" then 
	alife():create("marsh_razvedchik",vector():set(-279.17050170898,15.223833084106,22.865720748901),7075,3351)
	alife():create("zasada_tonnel_agro_2",vector():set(2.9714560508728,1.1295989751816,457.1383972168),143883,3459)
	alife():create("zasada_tonnel_agro_3",vector():set(21.592445373535,1.0812460184097,443.7712097168),147969,3459)
	alife():create("soldier_mines_veteran",vector():set(-12.847694396973,1.0670496225357,440.56420898438),139768,3459)
		db.actor:give_info_portion("marsh_razvedchik_start")
	end
end
function marsh_razvedchik_have_all()
	return
		new_dialog.item_much("secret_prikaz2",1) and 
		new_dialog.item_much("major_navigator",1)
end
function marsh_razvedchik_done()
	sak.out_item_namber("secret_prikaz2",1)
	sak.out_item_namber("major_navigator",1)
	sak.create_items_actor("arhara_obman14",1)
	sak.create_items_actor("ammo_7.62x54_7h14",1)
	sak.create_items_actor("ammo_7.62x54_ap",1)
	sak.create_items_actor("ammo_7.62x54_7h1",1)
	table_treasure_l.treasure()
end

-- ÍÎÂÛÉ ÃÐÀÂÈÊÎÑÒÞÌ
function new_gravikostum_est()
	local outfit = db.actor:item_in_slot(6)
	if outfit and outfit:section() == "soldier_outfit" then
		return true
	else
		return false
	end
end
function new_gravikostum_have_all()
	return
		new_dialog.item_much("soldier_outfit",1) and
		new_dialog.item_much("af_pero",6) and
		new_dialog.item_much("af_armor_3",1) and
		db.actor:money()>=35000
end
function new_gravikostum_have()
	if new_gravikostum_have_all() then
		db.actor:give_info_portion("new_gravikostum_have")
		return true
	else
		return false
	end
end
function start_vasily6(first_speaker, second_speaker)
		aem_manager.manage_money(35000, "out")
		sak.out_item_namber("soldier_outfit",1)
		sak.out_item_namber("af_pero",6)
		sak.out_item_namber("af_armor_3",1)
	local gtime = amk.game_minutes()
	amk.save_variable("vasily_lekar6", gtime + math.random(23, 24) * 60)
end
function is_vasily_ready6(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("vasily_lekar6", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_vasily6(first_speaker, second_speaker)
	sak.create_items_actor("akill_soldier_outfit",1)
	amk.del_variable("vasily_lekar6")
end

-- ÐÀÖÈÈ ÄËß ÄÎËÃÀ
function new_radios_have_all()
	return
		new_dialog.item_much("akill_radio",8)
end
function new_radios_have()
	if new_radios_have_all() then
		db.actor:give_info_portion("new_radios_have")
		return true
	else
		return false
	end
end
function new_radios_done()
	sak.out_item_namber("akill_radio",8)
	sak.create_items_actor("af_kvazar",1)
	sak.create_items_actor("wpn_scar_snip",1)
	kostya_dialog.give_ammo(3)
end
function new_radios_sms()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Àäðåíàëèí, ìíå íóæíû íàä¸æíûå ðàöèè, 8 øòóê. Ó òåáÿ åñòü òàêèå?".."".."\n", nil, nil, 15000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÀÄÐÅÍÀËÈÍ:".."\\n".."%c[255,255,128,128]Íåò, íî çíàþ, ãäå ðàçäîáûòü. Èíôîðìàöèÿ íå áåñïëàòíàÿ. Åñëè èíòåðåñíî, òî çàõîäè, îáãîâîðèì öåíó.".."".."\n", 15, nil, 15000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function akill_radio_give()
	local obj = alife():create("a_inventory_box13",vector():set(-347.76409912109,-12.440266609192,383.40518188477),7980,1847)
	local sobj = alife():create("a_inventory_box13",vector():set(-101.33255767822,1.2451028823853,158.93103027344),44892,1317)
	level.map_add_object_spot_ser(obj.id, "treasure", "Òàéíèê íà¸ìíèêîâ")
	level.map_add_object_spot_ser(sobj.id, "treasure", "Òàéíèê íà¸ìíèêîâ")
end
function akill_radio_have()
	return
		db.actor:money()>=45000
end
function akill_radio_not_have()
	return
		db.actor:money()<=45000 
end
function akill_radio_money()
	aem_manager.manage_money(45000, "out")
end

-- ÎÐÓÆÈÅ ÄËß ÃÐÓÏÏÛ ÊÀËÈÍÈÍÀ
function weapons_kalinin_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_vint14",1) and
		wawka_dialog.good_item_have_number("wpn_g41",1) and
		wawka_dialog.good_item_have_number("wpn_g3",1) and
		wawka_dialog.good_item_have_number("wpn_sig550",1) and 
		wawka_dialog.good_item_have_number("wpn_m4_a3",1) and
		wawka_dialog.good_item_have_number("wpn_m4a1",1) and
		wawka_dialog.good_item_have_number("wpn_sbr",1) and
		new_dialog.item_much("wpn_addon_scope1",1) and
		new_dialog.item_much("wpn_hensoldt_scope",1) and
		new_dialog.item_much("wpn_addon_sil_762_ar",1) and
		new_dialog.item_much("wpn_addon_sil_556_ar",4) and
		new_dialog.item_much("wpn_addon_grenade_launcher_m203",4) and
		new_dialog.item_much("wpn_addon_acog",4)
end
function weapons_kalinin_have()
	if weapons_kalinin_have_all() then
		db.actor:give_info_portion("weapons_kalinin_have")
		return true
	else
		return false
	end
end
function weapons_kalinin_done()
	sak.out_item_namber("wpn_vint14",1)
	sak.out_item_namber("wpn_g41",1)
	sak.out_item_namber("wpn_g3",1)
	sak.out_item_namber("wpn_sig550",1)
	sak.out_item_namber("wpn_m4_a3",1)
	sak.out_item_namber("wpn_m4a1",1)
	sak.out_item_namber("wpn_sbr",1)
	sak.out_item_namber("wpn_addon_scope1",1)
	sak.out_item_namber("wpn_hensoldt_scope",1)
	sak.out_item_namber("wpn_addon_sil_762_ar",1)
	sak.out_item_namber("wpn_addon_sil_556_ar",4)
	sak.out_item_namber("wpn_addon_grenade_launcher_m203",4)
	sak.out_item_namber("wpn_addon_acog",4)
	sak.create_items_actor("af_propeller",1)
	sak.create_items_actor("grenade_m61",5)
	kostya_dialog.give_ammo(6)
end

-- ÏÍÂ ÄËß ÊÀËÈÍÈÍÀ
function kalinin_voen1_have_all()
	return
		new_dialog.item_much("nv_bad",8)
end
function kalinin_voen1_have()
	if new_dialog.item_much("nv_bad",8) then
		db.actor:give_info_portion("kalinin_voen1_have")
		return true
	else
		return false
	end
end
function kalinin_voen1_done()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("nv_bad",8)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.create_items_actor("wpn_sks_s",1)
	sak.create_items_actor("ammo_7.62x39_ap",1)
	sak.create_items_actor("ammo_7.62x39_fmj",1)
	sak.create_items_actor("grenade_m61",5)
	alife():create("a_inventory_box14",vector():set(11.591503143311,9.1839332580566,-40.820812225342),189889,1053)
end
function taynik_bandit_td_have()
	if new_dialog.item_much("af_pylesos",1) then
		db.actor:give_info_portion("taynik_bandit_td_have")
		return true
	else
		return false
	end
end

-- ÓÑËÓÃÀ ÇÀ ÓÑËÓÃÓ
function sherstuk_mayak_spawn()
	local obj = alife():create("a_inventory_box40",vector():set(-181.14698791504,7.2314772605896,86.747451782227),30672,1322)
	alife():create("snork_jumper",vector():set(-206.22518920898,0.79953229427338,93.175064086914),25413,1373)
	alife():create("snork_nosach",vector():set(-209.70092773438,1.3991112709045,119.49594116211),24633,1369)
	alife():create("snork_jumper",vector():set(-184.12603759766,0.015335232019424,104.41861724854),29886,1324)
	alife():create("snork_nosach",vector():set(-182.34576416016,-0.039156407117844,120.99468994141),30304,1324)
	alife():create("zombie_hell",vector():set(-182.34576416016,-0.039156407117844,120.99468994141),30304,1324)
	alife():create("zombie_blow",vector():set(-182.34576416016,-0.039156407117844,120.99468994141),30304,1324)
	alife():create("voen_zombied1",vector():set(-182.34576416016,-0.039156407117844,120.99468994141),30304,1324)
	alife():create("voen_zombied2",vector():set(-182.34576416016,-0.039156407117844,120.99468994141),30304,1324)
	alife():create("zombie_plague_komar",vector():set(-182.34576416016,-0.039156407117844,120.99468994141),30304,1324)
	akill_start_sound()
end
function checking_taken_item81(obj)
	if not has_alife_info("sherstuk_ammo_have") and obj:section()=="af_mayak" then
		local snd = xr_sound.get_safe_sound_object([[zwuk\monitor_pulsa]])
		snd:stop()
		db.actor:give_info_portion("sherstuk_ammo_have")
	end
end
function sherstuk_ammo_have_all()
	return
		new_dialog.item_much("af_mayak",1)
end
function sherstuk_ammo_done()
	sak.out_item_namber("af_mayak",1)
	sak.create_items_actor("nv_bad",7)
	sak.create_items_actor("military_outfit",1)
	sak.create_items_actor("grenade_rgd5",3)
end

-- ÎÕÎÒÀ ÍÀ ÏÑÅÂÄÎÃÈÃÀÍÒÎÂ
function ohota_gigant_start()
	sak.create_items_actor("wpn_vepr12_m1",1)
	sak.create_items_actor("ammo_12x70_kart",6)
	alife():create("gigant_big_strong",vector():set(86.165328979492,-7.3672394752502,-306.68692016602),502245,2821)
	alife():create("gigant_big_strong",vector():set(97.367881774902,-7.8483538627625,-287.57049560547),517806,2824)
	alife():create("gigant_big_strong",vector():set(128.9190826416,-7.2936978340149,-291.45223999023),562322,2831)
	alife():create("gigant_big_strong",vector():set(151.00158691406,-4.8957295417786,-324.62225341797),593627,2831)
	alife():create("gigant_big_strong",vector():set(109.08979797363,-7.594434261322,-322.044921875),534472,2831)
	alife():create("gigant_big_strong",vector():set(86.165328979492,-7.3672394752502,-306.68692016602),502245,2821)
	alife():create("gigant_big_strong",vector():set(97.367881774902,-7.8483538627625,-287.57049560547),517806,2824)
	alife():create("gigant_big_strong",vector():set(128.9190826416,-7.2936978340149,-291.45223999023),562322,2831)
	alife():create("gigant_big_strong",vector():set(151.00158691406,-4.8957295417786,-324.62225341797),593627,2831)
	alife():create("gigant_big_strong",vector():set(109.08979797363,-7.594434261322,-322.044921875),534472,2831)
	spawn_restrictor.gigant_ohota_sr1()
end
function ohota_gigant_have(task, info)
     if db.actor:has_info("ohota_gigant1_dead") and db.actor:has_info("ohota_gigant2_dead") then 
		return db.actor:give_info_portion("ohota_gigant_have")
     end
		return false
end

-- ÄÎÌ ÄÓÕÎÂ
function ohota_polter_bitva()
	alife():create("ohota_polter_flame",vector():set(-307.23669433594,-22.18186378479,208.25445556641),37070,1788)
	alife():create("ohota_polter_tele",vector():set(-307.50021362305,-22.188982009888,215.30061340332),37078,1795)
	amk.start_timer("battle", 0, {"l07_military", 32, 1})
	db.actor:give_info_portion("ohota_polter_spawn")
end
function ohota_polter_battle1()
	alife():create("ohota_polter1",vector():set(-307.23669433594,-22.18186378479,208.25445556641),37070,1788)
	alife():create("ohota_polter_tele",vector():set(-307.50021362305,-22.188982009888,215.30061340332),37078,1795)
end
function ohota_polter_battle2()
	alife():create("ohota_polter_flame",vector():set(-307.23669433594,-22.18186378479,208.25445556641),37070,1788)
	alife():create("ohota_polter2",vector():set(-307.50021362305,-22.188982009888,215.30061340332),37078,1795)
end
function ohota_polter_battle3()
	alife():create("ohota_polter_flame",vector():set(-307.23669433594,-22.18186378479,208.25445556641),37070,1788)
	alife():create("ohota_polter_tele",vector():set(-307.50021362305,-22.188982009888,215.30061340332),37078,1795)
	alife():create("ohota_polter_flame",vector():set(-307.50021362305,-22.188982009888,215.30061340332),37078,1795)
end
function ohota_polter_battle4()
	alife():create("ohota_polter_tele",vector():set(-307.50021362305,-22.188982009888,215.30061340332),37078,1795)
	alife():create("ohota_polter_tele",vector():set(-307.50021362305,-22.188982009888,215.30061340332),37078,1795)
	alife():create("ohota_polter3",vector():set(-302.36279296875,-22.183567047119,217.58489990234),41063,1788)
end
function souls_house_have(task, info)
      if level.get_time_hours() >= 0 and level.get_time_hours() < 5 and 
	db.actor:has_info("ohota_polter1_dead") and 
	db.actor:has_info("ohota_polter2_dead") and 
	db.actor:has_info("ohota_polter3_dead") then
		 db.actor:give_info_portion("souls_house_have")
		return true
     end
		return false
end
function souls_house_done()
	sak.create_items_actor("wpn_lr300_m1",1)
	sak.create_items_actor("ammo_7.62x51_fmj",2)
	sak.create_items_actor("ammo_kumul_82",2)
	sak.create_items_actor("ammo_357_ap_mag",2)
	sak.create_items_actor("af_prisoska",1)
end

-- ÏÎÄÀÐÎÊ ÎÒ ÄÐÓÃÀ
function krest_zapas_start()
	alife():create("fire_flesh",vector():set(316.13983154297,-0.3046216070652,270.15603637695),1431780,2906)
	alife():create("flesh_strong",vector():set(351.15307617188,5.9127821922302,292.24005126953),1496573,2906)
	alife():create("flesh_normal",vector():set(328.48944091797,1.0403182506561,231.64562988281),1453076,2906)
	alife():create("boar_strong",vector():set(270.4768371582,-2.3529646396637,245.21286010742),1347802,2906)
	alife():create("flesh_swamp",vector():set(273.98956298828,39.978477478027,135.2054901123),1356423,2906)
	alife():create("kikimora",vector():set(328.54861450195,40.160064697266,133.15277099609),1452937,2906)
	alife():create("boar_strong",vector():set(401.34829711914,44.926761627197,183.15808105469),1592429,2906)
	alife():create("zanoza_strong",vector():set(427.40972900391,36.455467224121,253.8200378418),1644984,2906)
	alife():create("flesh_swamp",vector():set(425.75933837891,45.415664672852,188.09371948242),1640746,2906)
	alife():create("boar_strong",vector():set(424.89526367188,45.826156616211,136.72761535645),1639296,2906)
	alife():create("flesh_normal",vector():set(377.48886108398,42.598751068115,128.57138061523),1545926,2906)
	alife():create("zanoza_strong",vector():set(447.39193725586,49.637638092041,125.79145812988),1683283,2906)
	alife():create("kikimora",vector():set(236.87199401855,42.623237609863,86.791938781738),1285727,2902)
	alife():create("flesh_swamp",vector():set(168.45291137695,25.817138671875,44.449935913086),1164096,2902)
	alife():create("kikimora",vector():set(326.26196289063,41.564826965332,104.27828979492),1449073,2906)
	alife():create("boar_strong",vector():set(389.03756713867,43.208671569824,219.00268554688),1568983,2906)
	alife():create("flesh_swamp",vector():set(390.5107421875,37.714553833008,313.17727661133),1571903,2906)
	alife():create("zanoza_strong",vector():set(324.58770751953,0.027334243059158,281.36557006836),1446818,2906)
	alife():create("spider",vector():set(425.75933837891,45.415664672852,188.09371948242),1640746,2906)
	alife():create("spider",vector():set(424.89526367188,45.826156616211,136.72761535645),1639296,2906)
	alife():create("spider",vector():set(377.48886108398,42.598751068115,128.57138061523),1545926,2906)
	alife():create("spider",vector():set(447.39193725586,49.637638092041,125.79145812988),1683283,2906)
	alife():create("spider",vector():set(236.87199401855,42.623237609863,86.791938781738),1285727,2902)
	alife():create("medkit",vector():set(371.36206054688,43.298843383789,127.72512817383),1535088,2906)
	alife():create("conserva",vector():set(371.6413269043,34.790504455566,163.4001159668),1535139,2906)
	alife():create("energy_drink",vector():set(328.75085449219,13.512313842773,200.31150817871),1454325,2906)
	alife():create("bandage",vector():set(325.33679199219,0.079628020524979,246.4118347168),1448017,2906)
end
function krest_zapas_have_all()
	return
		new_dialog.item_much("zajigalka",1)
end
function krest_zapas_have()
	if new_dialog.item_much("zajigalka",1) then
		db.actor:give_info_portion("krest_zapas_have")
		return true
	else
		return false
	end
end
function krest_zapas_done()
	sak.out_item_namber("zajigalka",1)
	sak.create_items_actor("flaska",1)
	sak.create_items_actor("af_pero",1)
	sak.create_items_actor("ammo_7.62x51_fmj",3)
end

-- ÊÎËËÅÊÖÈß ÍÎÆÅÉ
function zahar_knifes_have_all()
	return
		new_dialog.item_much("fake_wpn_bat_a",1) and
		new_dialog.item_much("fake_wpn_bat_b",1) and
		new_dialog.item_much("fake_wpn_elf",1) and
		new_dialog.item_much("fake_wpn_knif3",1) and
		new_dialog.item_much("fake_wpn_knifa",1) and
		new_dialog.item_much("fake_wpn_knife",1) and
		new_dialog.item_much("fake_wpn_knife_m",1) and
		new_dialog.item_much("fake_wpn_knife_n",1) and
		new_dialog.item_much("fake_wpn_knife_new",1)
end
function zahar_knifes_have()
	if zahar_knifes_have_all() then
		db.actor:give_info_portion("zahar_knifes_have")
		return true
	else
		return false
	end
end
function zahar_knifes_done(first_speaker, second_speaker)
	dialogs.relocate_item_section(second_speaker, "fake_wpn_bat_a","out")
	dialogs.relocate_item_section(second_speaker, "fake_wpn_bat_b","out")
	dialogs.relocate_item_section(second_speaker, "fake_wpn_elf","out")
	dialogs.relocate_item_section(second_speaker, "fake_wpn_knif3","out")
	dialogs.relocate_item_section(second_speaker, "fake_wpn_knifa","out")
	dialogs.relocate_item_section(second_speaker, "fake_wpn_knife","out")
	dialogs.relocate_item_section(second_speaker, "fake_wpn_knife_m","out")
	dialogs.relocate_item_section(second_speaker, "fake_wpn_knife_n","out")
	dialogs.relocate_item_section(second_speaker, "fake_wpn_knife_new","out")
	local obj = alife():create("a_inventory_box15",vector():set(205.93951416016,9.9083366394043,-81.311653137207),351590,2884)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Òàéíèê Çàõàðà")
	sak.create_items_actor("ammo_12x70_buck",2)
	kostya_dialog.give_ammo(2)
end
function taynik_zahar_zb_have()
	if new_dialog.item_much("af_glass",1) then
		db.actor:give_info_portion("taynik_zahar_zb_have")
		return true
	else
		return false
	end
end

-- ÎÕÎÒÀ ÍÀ ÁÞÐÅÐÎÂ
function ohota_burer_spawn()
	sak.create_items_actor("grenade_f1",3)
	alife():create("a_inventory_box16",vector():set(-45.421314239502,-20.130048751831,2.2290256023407),1097,2787)
	alife():create("burer_build",vector():set(-20.209642410278,-9.5499639511108,-62.3046875),3362,2664)
	alife():create("burer_strong",vector():set(-22.558933258057,-9.5510425567627,-3.7865118980408),3040,2666)
	alife():create("carlic",vector():set(-34.867771148682,-9.4181346893311,11.902038574219),1869,2779)
	alife():create("m_poltergeist_dd",vector():set(-21.079565048218,-8.9908857345581,7.0712966918945),3317,2674)
	alife():create("controller_flame",vector():set(-23.347814559937,-6.3932785987854,29.6207447052),2996,2677)
	alife():create("burer_strong",vector():set(0.36885321140289,-9.980396270752,29.171632766724),6213,2682)
	alife():create("electro_polter",vector():set(0.36885321140289,-9.980396270752,29.171632766724),6213,2682)
	alife():create("carlic_weak",vector():set(20.22745513916,-8.9927139282227,23.328691482544),8667,2687)
	alife():create("burer_normal",vector():set(-0.4420240521431,-8.9907741546631,11.224540710449),5760,2782)
	alife():create("burer_electro",vector():set(1.7839338779449,-8.9927768707275,0.24970605969429),6577,2691)
	alife():create("polter_xray",vector():set(-2.7486691474915,-9.2884979248047,-45.296340942383),5168,2694)
	alife():create("burer_build",vector():set(13.559127807617,-19.945425033569,-1.8773000240326),8215,2698)
	alife():create("m_controller_act",vector():set(-0.50992548465729,-23.695829391479,-1.65585064888),5738,2703)
	alife():create("carlic_strong",vector():set(-30.475255966187,-22.793901443481,11.189882278442),2239,2706)
	alife():create("burer_normal",vector():set(-36.928607940674,-23.461269378662,-24.221174240112),1638,2707)
	alife():create("burer_electro",vector():set(-36.928607940674,-23.461269378662,-24.221174240112),1638,2707)
	alife():create("burer_strong",vector():set(-55.520431518555,-23.590776443481,-6.8187646865845),596,2712)
	alife():create("burer_electro",vector():set(-55.520431518555,-23.590776443481,-6.8187646865845),596,2712)
	alife():create("carlic",vector():set(-65.49397277832,-21.890146255493,13.755535125732),33,2721)
	alife():create("m_poltergeist_dd",vector():set(-55.631908416748,-21.893695831299,32.144191741943),628,2728)
	alife():create("burer_strong",vector():set(-38.413951873779,-21.836103439331,56.577217102051),1565,2737)
	alife():create("burer_build",vector():set(-0.28238514065742,-21.90581703186,53.711162567139),6015,2753)
	alife():create("carlic_weak",vector():set(6.1462187767029,-19.461484909058,36.478893280029),7479,2764)
	alife():create("ohota_burer1",vector():set(3.3891303539276,-19.462400436401,25.016645431519),6970,2768)
	alife():create("ohota_burer2",vector():set(17.224361419678,-23.526176452637,18.573528289795),8454,2773)
end
function ohota_burer_done()
	sak.out_item_namber("device_pda_npc",1)
end
function ohota_burer_have()
	if new_dialog.item_much("af_sandstown",1) then
		db.actor:give_info_portion("ohota_burer_have")
		return true
	else
		return false
	end
end
function ohota_burer2_have(task, info)
     if db.actor:has_info("ohota_burer1_dead") and db.actor:has_info("ohota_burer2_dead") then 
		return db.actor:give_info_portion("ohota_burer2_have")
     end
		return false
end

-- ÄÎÁÛÒÛÉ ÒÐÎÔÅÉ
function lukash_counter_have_all()
	return
		new_dialog.item_much("army_counter",100)
end
function lukash_counter_have()
	if lukash_counter_have_all() then
		db.actor:give_info_portion("lukash_counter_have")
		return true
	else
		return false
	end
end
function lukash_counter_done()
	sak.out_item_namber("army_counter",100)
	archievements.acv_count_event("acv_inkv", 200, "Èíêâèçèòîð", 100) 
	sak.create_items_actor("wpn_awp_m1",1)
	sak.create_items_actor("ammo_7.62x51_fmj",2)
	sak.create_items_actor("ammo_7.62x51_ap",2)
end
function lukash_counter_new_all()
	return
		new_dialog.item_much("army_counter",10)
end
function lukash_counter_new()
	sak.out_item_namber("army_counter",10)
	archievements.acv_count_event("acv_inkv", 200, "Èíêâèçèòîð", 10) 
	kostya_dialog.give_ammo(2)
end

-- ÎÕÎÒÀ ÇÀ ÐÅÄÊÈÌÈ ÀÐÒÅÔÀÊÒÀÌÈ
function dragunov_ohota_have_all()
	return
		new_dialog.item_much("treasure_item",1) and
		new_dialog.item_much("af_kokon",1) and
		new_dialog.item_much("af_prisoska",1) and
		new_dialog.item_much("af_sandstown",1) and
		new_dialog.item_much("af_pylesos",1) and
		new_dialog.item_much("af_glass",1) and
		new_dialog.item_much("af_fontan",1) and
		new_dialog.item_much("af_fallen_angel",1) and
		new_dialog.item_much("af_vinograd",1) and
		new_dialog.item_much("af_parazit",1) and
		new_dialog.item_much("af_propeller",1) and
		new_dialog.item_much("af_kvazar",1) and
		new_dialog.item_much("af_kletka",1)
end
function dragunov_ohota_have()
	if dragunov_ohota_have_all() then
		db.actor:give_info_portion("dragunov_ohota_have")
		return true
	else
		return false
	end
end
function dragunov_ohota_done()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",1)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.out_item_namber("af_kokon",1)
	sak.out_item_namber("af_prisoska",1)
	sak.out_item_namber("af_sandstown",1)
	sak.out_item_namber("af_pylesos",1)
	sak.out_item_namber("af_glass",1)
	sak.out_item_namber("af_fontan",1)
	sak.out_item_namber("af_fallen_angel",1)
	sak.out_item_namber("af_vinograd",1)
	sak.out_item_namber("af_parazit",1)
	sak.out_item_namber("af_propeller",1)
	sak.out_item_namber("af_kvazar",1)
	sak.out_item_namber("af_kletka",1)
	sak.create_items_actor("cube_chip",1)
	sak.create_items_actor("wpn_gauss_ves",1)
	sak.create_items_actor("ammo_super_gauss",2)
	sak.create_items_actor("ammo_gauss",2)
	sak.create_items_actor("grenade_he",2)
end
function fotograf_npc_spawn()
	local obj = alife():create("fotograf_npc",vector():set(-407.95184326172,0.62288904190063,69.41822052002),166298,2889)
	snp.set_stalker_story_id(obj,21004)
end
function taynik_monolita_have_all()
	return
		new_dialog.item_much("af_black_hole",1)
end

-- ÈÌÅÍÍÎÉ ÀÂÒÎÌÀÒ
function dragunov_aks_have_all()
	return
		new_dialog.item_much("wpn_aks74m_kalibr_ves",1)
end
function dragunov_aks_have()
	if db.actor:has_info("karas_npc_dead") and 
	   new_dialog.item_much("wpn_aks74m_kalibr_ves",1) then
		db.actor:give_info_portion("dragunov_aks_have")
		return true
	else
		return false
	end
end
function dragunov_aks_done()
	sak.out_item_namber("wpn_aks74m_kalibr_ves",1)
	sak.create_items_actor("wpn_addon_scope_pks07",1)
	alife():create("keis_key_box",vector():set(159.20246887207,6.890106678009,-262.7746887207),358951,964)
end
function dragunov_aks_sms()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÑÂÈÁËÎÂ:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, ó ìåíÿ åñòü ê òåáå äåëî. Ñðî÷íî çàãëÿíè íà íàøó áàçó.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("leshyi_bandit1",vector():set(297.81408691406,7.1496467590332,-154.15211486816),330070,3531)
	alife():create("leshyi_bandit2",vector():set(284.07559204102,7.441086769104,-157.04704284668),319689,3531)
	alife():create("leshyi_bandit3",vector():set(263.83279418945,0.40186950564384,-177.79507446289),304908,3510)
	alife():create("leshyi_bandit4",vector():set(312.12225341797,0.782066822052,-139.35441589355),338524,3531)
	alife():create("leshyi_bandit5",vector():set(274.86441040039,0.21310499310493,-158.58847045898),312753,3510)
	alife():create("leshyi_bandit1",vector():set(245.62600708008,0.45670399069786,-158.94512939453),292156,3510)
	alife():create("leshyi_bandit3",vector():set(288.98052978516,0.14892143011093,-136.62162780762),323756,3531)
	alife():create("leshyi_bandit4",vector():set(301.77676391602,0.61620819568634,-123.46356201172),333006,3531)
	alife():create("leshyi_bandit5",vector():set(263.75067138672,0.50497233867645,-138.96139526367),304929,3510)
	alife():create("leshyi_bandit1",vector():set(288.04934692383,0.24698320031166,-184.44281005859),322551,3510)
	spawn_restrictor.dragunov_aks_sr1()
end
function dragunov_aks_bitva()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Âíèìàíèå âñåì! Ñâèáëîâ äàë äîáðî íà øòóðì öåðêâè. Íà÷èíàåì àòàêó íåìåäëåííî!".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("marsh_nebo_ambush3",vector():set(318.37463378906,5.7243494987488,-117.82424926758),343067,3533)
	alife():create("marsh_nebo_ambush2",vector():set(306.25885009766,5.5076637268066,-109.77501678467),336287,3533)
	alife():create("marsh_nebo_ambush4",vector():set(256.11981201172,0.50955975055695,-89.207511901855),301996,3520)
	alife():create("marsh_nebo_ambush1",vector():set(240.98599243164,0.61257827281952,-102.07641601563),292194,3520)
	alife():create("marsh_nebo_ambush3",vector():set(226.71560668945,0.65364229679108,-136.65046691895),280818,3510)
	alife():create("marsh_nebo_ambush2",vector():set(221.1099395752,0.80675899982452,-175.4446105957),276434,3502)
	alife():create("marsh_nebo_ambush1",vector():set(232.71397399902,0.19705471396446,-192.23670959473),286914,3510)
	alife():create("marsh_nebo_ambush4",vector():set(342.17001342773,1.3266495466232,-133.17677307129),355779,3537)
	alife():create("marsh_nebo_ambush3",vector():set(274.09143066406,0.001604288816452,-76.634490966797),313384,3522)
	alife():create("marsh_nebo_ambush3",vector():set(318.37463378906,5.7243494987488,-117.82424926758),343067,3533)
	alife():create("marsh_nebo_ambush2",vector():set(306.25885009766,5.5076637268066,-109.77501678467),336287,3533)
	alife():create("marsh_nebo_ambush4",vector():set(256.11981201172,0.50955975055695,-89.207511901855),301996,3520)
	alife():create("karas_npc",vector():set(284.04605102539,7.3344683647156,-163.35525512695),319676,3531)
end

-- ÏÎÁÅÃ ÈÇ ÇÎÍÛ
function fotograf_pobeg_have_all()
	return
		new_dialog.item_much("treasure_item",10) and
		new_dialog.item_much("af_black_angel",1) and
		new_dialog.item_much("af_phantom",1) and
		new_dialog.item_much("af_serafim",1) and
		new_dialog.item_much("af_kol_4",1) and
		db.actor:money()>=80000 
end
function fotograf_pobeg_have()
	if fotograf_pobeg_have_all() then
		db.actor:give_info_portion("fotograf_pobeg_have")
		return true
	else
		return false
	end
end
function fotograf_pobeg_done()
	aem_manager.manage_money(80000, "out")
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",10)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.out_item_namber("af_black_angel",1)
	sak.out_item_namber("af_phantom",1)
	sak.out_item_namber("af_serafim",1)
	sak.out_item_namber("af_kol_4",1)
	sak.create_items_actor("af_fontan",1)
	sak.create_items_actor("wpn_sayga_al",1)
	alife():create("a_inventory_box17",vector():set(-136.82847900391,-1.4783505344391,-58.367412567139),183239,1621)
end
function taynik_fotograf_as_have()
	if new_dialog.item_much("af_vinograd",1) then
		db.actor:give_info_portion("taynik_fotograf_as_have")
		return true
	else
		return false
	end
end

-- ÄÎÃÎÂÎÐ Ñ ÂÎÅÍÍÛÌÈ
function kuznec_dogovor_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_k98",1) and
		wawka_dialog.good_item_have_number("wpn_ppsh41_sk2",1) and
		wawka_dialog.good_item_have_number("wpn_m1891_30_scope",1) and
		wawka_dialog.good_item_have_number("wpn_mg42",1) and
		wawka_dialog.good_item_have_number("wpn_tt33",1) and
		wawka_dialog.good_item_have_number("wpn_mp40",1) and
		wawka_dialog.good_item_have_number("wpn_stg44",1) and
		wawka_dialog.good_item_have_number("wpn_mkb_42",1) and
		wawka_dialog.good_item_have_number("wpn_pps43",1) and
		wawka_dialog.good_item_have_number("wpn_sks_s",1) and
		wawka_dialog.good_item_have_number("wpn_svt40",1) and
		wawka_dialog.good_item_have_number("wpn_mauser_red9",1) and
		db.actor:money()>=30000
end
function kuznec_dogovor_have()
	if kuznec_dogovor_have_all() then
		db.actor:give_info_portion("kuznec_dogovor_have")
		return true
	else
		return false
	end
end
function kuznec_dogovor_done()
	aem_manager.manage_money(30000, "out")
	sak.out_item_namber("wpn_k98",1)
	sak.out_item_namber("wpn_ppsh41_sk2",1)
	sak.out_item_namber("wpn_m1891_30_scope",1)
	sak.out_item_namber("wpn_mg42",1)
	sak.out_item_namber("wpn_tt33",1)
	sak.out_item_namber("wpn_mp40",1)
	sak.out_item_namber("wpn_stg44",1)
	sak.out_item_namber("wpn_mkb_42",1)
	sak.out_item_namber("wpn_pps43",1)
	sak.out_item_namber("wpn_sks_s",1)
	sak.out_item_namber("wpn_svt40",1)
	sak.out_item_namber("wpn_mauser_red9",1)
	sak.create_items_actor("militaryspec_outfit",1)
	kostya_dialog.give_ammo(6)
end

-- ÇÀÏÀÑÍÎÉ ÔÎÒÎÀÏÏÀÐÀÒ
function fotograf_fotik_have_all()
	return
		new_dialog.item_much("photo_device",1)
end
function fotograf_fotik_have()
	if fotograf_fotik_have_all() then
		db.actor:give_info_portion("fotograf_fotik_have")
		return true
	else
		return false
	end
end
function fotograf_fotik_done()
	sak.out_item_namber("photo_device",1)
	sak.create_items_actor("af_vyvert",1)
	sak.create_items_actor("af_blood",1)
	sak.create_items_actor("art_acumm",2)
	alife():create("zaton_vermaht1",vector():set(-109.55820465088,24.086793899536,-385.96350097656),720070,3678)
	alife():create("zaton_vermaht2",vector():set(-149.6328125,22.788049697876,-386.83715820313),642573,3669)
	alife():create("zaton_vermaht3",vector():set(-146.54298400879,20.481004714966,-370.07312011719),649766,3678)
	alife():create("zaton_vermaht4",vector():set(-134.06587219238,24.176916122437,-390.08483886719),674230,3669)
	alife():create("zaton_vermaht8",vector():set(-126.62144470215,24.108348846436,-401.40603637695),687546,3678)
	alife():create("zaton_vermaht1",vector():set(-134.47601318359,27.277276992798,-390.83547973633),672873,3678)
	alife():create("zaton_vermaht2",vector():set(-134.02899169922,24.567722320557,-405.97320556641),674207,3678)
	alife():create("zaton_vermaht3",vector():set(-143.53344726563,24.219144821167,-417.25305175781),655380,3678)
	alife():create("zaton_vermaht4",vector():set(-140.82057189941,23.575323104858,-433.35092163086),661065,3678)
	alife():create("zaton_vermaht8",vector():set(-146.46844482422,23.762807846069,-481.24652099609),648239,3669)
end
local fotik_gigant={
    {position={x=361.50482177734,y=-1.4434212446213,z=14.408556938171},gv=2902,lv=1515039},
    {position={x=357.71752929688,y=-4.481321811676,z=-33.042999267578},gv=2902,lv=1508300},
    {position={x=324.28698730469,y=3.2489845752716,z=-83.607513427734},gv=2902,lv=1445079},
    {position={x=290.90008544922,y=-2.7463383674622,z=-51.736503601074},gv=2902,lv=1385012},
    {position={x=338.1298828125,y=-6.8442978858948,z=-20.24405670166},gv=2902,lv=1471062}
}
function fotik_gigant_spawn()
	local a, se_obj
	se_obj = alife():create("a_inventory_box18",vector():set(324.58978271484,-6.4117212295532,-15.256425857544),1445175,2902)
	se_obj = alife():create("gigant_jumper_normal",vector():set(361.50482177734,-1.4434212446213,14.408556938171),1515039,2902)
	se_obj = alife():create("gigant_virus_strong",vector():set(361.50482177734,-1.4434212446213,14.408556938171),1515039,2902)
		for i=1,table.getn(fotik_gigant) do
			a = fotik_gigant[i]
			for i=1,2 do
				se_obj = alife():create("gigant_big_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			end
 		end
end

-- ÄÅÒÅÊÒÎÐ ÀÐÒÅÔÀÊÒÎÂ
function fotograf_detector_have_all()
	return
		new_dialog.item_much("det_artefact_indy",1) and
		new_dialog.item_much("detector_simple",1)
end
function fotograf_detector_have()
	if fotograf_detector_have_all() then
		db.actor:give_info_portion("fotograf_detector_have")
		return true
	else
		return false
	end
end
function fotograf_detector_done()
	sak.out_item_namber("det_artefact_indy",1)
	sak.out_item_namber("detector_simple",1)
	sak.create_items_actor("liker_baileys",1)
	sak.create_items_actor("af_gravi",1)
	sak.create_items_actor("af_mincer_meat",1)
end
function fotograf_detector_sms()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÛÑÛÉ:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, åñòü äåëî. Çàãëÿíè â Áàð.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end

-- ÇÀÊÀÇ ÎÒ ÎÒØÅËÜÍÈÊÀ
function otshelnik_prosba_have_all()
	return
		new_dialog.item_much("repair_item_weapon",30) and
		new_dialog.item_much("repair_item_outfit",30)
end
function otshelnik_prosba_have()
	if otshelnik_prosba_have_all() then
		db.actor:give_info_portion("otshelnik_prosba_have")
		return true
	else
		return false
	end
end
function otshelnik_prosba_done()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("repair_item_weapon",30)
	sak.out_item_namber("repair_item_outfit",30)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.create_items_actor("mutant_burer_cocoon",1)
	sak.create_items_actor("mutant_zombie_cocoon",1)
	sak.create_items_actor("mutant_psydog_cocoon",1)
	sak.create_items_actor("mutant_cat_cocoon",1)
	kostya_dialog.give_ammo(7)
	sak.create_items_actor("cube_chip",1)
end

-- ÏÎÈÑÊÈ ÊËÀÄÀ
function klad_labirint_have_all()
	return
		new_dialog.item_much("money",7) and
		new_dialog.item_much("money1",7) and
		new_dialog.item_much("money2",7) and
		new_dialog.item_much("money3",7)
end
function klad_labirint_have()
	if klad_labirint_have_all() then
		db.actor:give_info_portion("klad_labirint_have")
		return true
	else
		return false
	end
end
function klad_labirint_done()
	sak.out_item_namber("money",7)
	sak.out_item_namber("money1",7)
	sak.out_item_namber("money2",7)
	sak.out_item_namber("money3",7)
	sak.create_items_actor("det_artefact_indy",1)
	sak.create_items_actor("ammo_357_ap_mag",3)
	aem_manager.manage_money(15000, "in")
end
function klad_labirint_spawn()
	alife():create("a_inventory_box19",vector():set(-166.79165649414,28.24934387207,388.24057006836),138455,2971)
	alife():create("carlic",vector():set(-182.0979309082,20.749319076538,389.13494873047),131547,2968)
	alife():create("carlic_strong",vector():set(-179.65631103516,20.39778137207,445.51089477539),132531,2969)
	alife():create("carlic_weak",vector():set(-101.86251831055,23.483583450317,472.60949707031),151722,2975)
	alife():create("carlic",vector():set(-207.74885559082,13.039009094238,465.69430541992),112411,2955)
	alife():create("zombie_hell15",vector():set(-207.74885559082,13.039009094238,465.69430541992),112411,2955)
	alife():create("carlic_strong",vector():set(-143.29502868652,16.194150924683,363.0417175293),144674,2974)
	alife():create("carlic_weak",vector():set(-151.41226196289,14.866993904114,282.33514404297),143311,2972)
	alife():create("carlic",vector():set(-232.81378173828,16.424907684326,235.45999145508),95669,2956)
	alife():create("zombie_hell15",vector():set(-232.81378173828,16.424907684326,235.45999145508),95669,2956)
	alife():create("zombie_beee",vector():set(-232.81378173828,16.424907684326,235.45999145508),95669,2956)
	alife():create("carlic_strong",vector():set(-309.40969848633,16.475608825684,233.1244354248),41615,2920)
	alife():create("carlic_weak",vector():set(-327.04119873047,16.712629318237,168.2600402832),30355,2922)
	alife():create("carlic",vector():set(-232.37702941895,16.325147628784,150.05372619629),96133,2950)
	alife():create("vypolzen_red",vector():set(-101.86251831055,23.483583450317,472.60949707031),151722,2975)
	alife():create("vypolzen_red",vector():set(-207.74885559082,13.039009094238,465.69430541992),112411,2955)
	alife():create("vypolzen_red",vector():set(-151.41226196289,14.866993904114,282.33514404297),143311,2972)
	alife():create("vypolzen_red",vector():set(-309.40969848633,16.475608825684,233.1244354248),41615,2920)
	alife():create("vypolzen_red",vector():set(-232.37702941895,16.325147628784,150.05372619629),96133,2950)
end

-- ÏÎÈÑÊÈ ÊËÀÄÀ Â ÎÏ
function klad_op_have_all()
	return
		new_dialog.item_much("money",10) and
		new_dialog.item_much("money1",10) and
		new_dialog.item_much("money2",10) and
		new_dialog.item_much("money3",10) and
		new_dialog.item_much("vodka",1)
end
function klad_op_have()
     if klad_op_have_all() then
		return db.actor:give_info_portion("klad_op_have") and 
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Êàæåòñÿ, âíóòðè áóòûëêè ÷òî-òî åñòü. Íàäî ïîêàçàòü ýòî Ëûñîìó.".."".."\n", nil, nil, 30000)
     end
		return false
end
function klad_op_zvuk()
	local snd_obj = xr_sound.get_safe_sound_object([[material\bottle\collide\bottle_break_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function klad_op_done()
	sak.out_item_namber("money",10)
	sak.out_item_namber("money1",10)
	sak.out_item_namber("money2",10)
	sak.out_item_namber("money3",10)
	sak.out_item_namber("vodka",1)
	sak.create_items_actor("ammo_kumul_82",5)
	sak.create_items_actor("wpn_ak109",1)
	aem_manager.manage_money(30000, "in")
	alife():create("a_inventory_box21",vector():set(-310.78189086914,35.633766174316,-155.2646484375),342190,3672)
	alife():create("karlito",vector():set(-303.94918823242,23.623178482056,-199.04792785645),339425,3671)
	alife():create("bear",vector():set(-347.77029418945,22.674238204956,-171.49975585938),259278,3662)
	alife():create("fracture_karlik",vector():set(-294.04278564453,20.550548553467,-132.43006896973),358459,3672)
	alife():create("bear",vector():set(-266.66064453125,21.250759124756,-162.40148925781),409463,3672)
	alife():create("fracture_master",vector():set(-306.90948486328,12.077053070068,-163.10101318359),334194,3672)
	alife():create("new_electro_chimera",vector():set(-340.2262878418,13.273699760437,-190.79002380371),272594,3664)
	alife():create("fire_chimera",vector():set(-340.2262878418,13.273699760437,-190.79002380371),272594,3664)
	alife():create("chimera_black",vector():set(-340.2262878418,13.273699760437,-190.79002380371),272594,3664)
	alife():create("chimera_weak",vector():set(-340.2262878418,13.273699760437,-190.79002380371),272594,3664)
	alife():create("zombie_hell15",vector():set(-306.90948486328,12.077053070068,-163.10101318359),334194,3672)
	alife():create("zombie_plague_komar",vector():set(-306.90948486328,12.077053070068,-163.10101318359),334194,3672)
	alife():create("zombie_beee",vector():set(-306.90948486328,12.077053070068,-163.10101318359),334194,3672)
	alife():create("zombie_hell",vector():set(-306.90948486328,12.077053070068,-163.10101318359),334194,3672)
end
function klad_op_spawn()
	alife():create("a_inventory_box20",vector():set(56.983715057373,-13.500636100769,-183.79080200195),966743,2908)
end
function taynik_sosnodub_have()
	if new_dialog.item_much("wpn_oicw",1) and 
	   not has_alife_info("taynik_sosnodub_have") then
		taynik_sosnodub_done()
		return true
	else
		return false
	end
end
function taynik_sosnodub_done()
	amk.start_timer("battle", 0, {"zaton", 31, 1})
	db.actor:give_info_portion("taynik_sosnodub_have")
end

-- "ÏÐÈÂÅÒ" ÎÒ ÑÈÄÎÐÎÂÈ×À
function checking_taken_item74(obj)
 	if not has_alife_info("privet_leshyi_have") and obj:section()=="leshyi_zapiska" then 
		alife():create("leshyi_npc",vector():set(170.89424133301,-7.0578765869141,-19.888999938965),621479,2835)
		alife():create("leshyi_bandit1",vector():set(168.52163696289,-7.0580596923828,-15.305109977722),618534,2835)
		alife():create("leshyi_bandit2",vector():set(178.1795501709,-7.0567584037781,-16.194412231445),632181,2835)
		alife():create("leshyi_bandit3",vector():set(178.79475402832,-6.6582517623901,9.2152214050293),632209,2835)
		alife():create("leshyi_bandit4",vector():set(168.49775695801,-6.6566486358643,6.5646781921387),618554,2835)
		alife():create("leshyi_bandit5",vector():set(174.86761474609,-2.4074790477753,9.5171775817871),627323,2835)
		alife():create("leshyi_bandit1",vector():set(180.46069335938,-7.2091641426086,1.1223248243332),635064,2835)
		alife():create("leshyi_bandit3",vector():set(126.15158081055,-7.0611681938171,14.384387969971),558791,2828)
		alife():create("leshyi_bandit4",vector():set(107.19969177246,-6.6024541854858,1.733579158783),531906,2827)
		alife():create("leshyi_bandit1",vector():set(106.20582580566,-2.2979583740234,0.0033310714643449),530931,2826)
		alife():create("leshyi_bandit3",vector():set(91.986717224121,-6.6077628135681,-22.174350738525),510573,2823)
		alife():create("leshyi_bandit4",vector():set(87.962982177734,-7.1580018997192,-22.652351379395),505641,2820)
		alife():create("leshyi_bandit5",vector():set(106.02322387695,-7.0581035614014,-66.41577911377),529898,2830)
		alife():create("leshyi_bandit2",vector():set(161.39569091797,-7.0426430702209,-42.30489730835),608730,2833)
		alife():create("leshyi_bandit3",vector():set(125.49365997314,-5.8641409873962,-14.874564170837),557765,2828)
		alife():create("leshyi_bandit4",vector():set(100.72306060791,-7.1568956375122,21.828031539917),523134,2828)
		alife():create("leshyi_bandit5",vector():set(130.34938049316,-7.5069713592529,-2.8155074119568),564601,2832)
		db.actor:give_info_portion("privet_leshyi_have")
	end
end
function privet_leshyi_have_all()
     if new_dialog.item_much("leshyi_zapiska",1) then 
		return true
     end
		return false
end
function privet_leshyi_done()
	sak.create_items_actor("af_kletka",1)
	sak.create_items_actor("wpn_val_m1",1)
	sak.create_items_actor("grenade_he",2)
	sak.create_items_actor("ammo_7.92x33_ap",2)
end

-- ÄÅØÈÔÐÎÂÊÀ ÏÄÀ
function docent_art_start()
	amk.start_timer("battle", 0, {"l05_bar", 32, 1})
	alife():create("voen_zombied1",vector():set(397.14346313477,17.778539657593,-300.98376464844),91320,1288)
	alife():create("voen_zombied2",vector():set(411.27487182617,16.994920730591,-289.15612792969),97306,1287)
	alife():create("voen_zombied2",vector():set(376.97875976563,17.894651412964,-303.6887512207),85425,1288)
	alife():create("voen_zombied1",vector():set(383.81951904297,15.221883773804,-321.83071899414),85668,1288)
	alife():create("voen_zombied2",vector():set(404.37612915039,15.652374267578,-321.07525634766),94641,1288)
	alife():create("voen_zombied2",vector():set(412.71704101563,16.921503067017,-278.34072875977),97703,1287)
	alife():create("m_controller_old_fat",vector():set(404.37612915039,15.652374267578,-321.07525634766),94641,1288)
end
function docent_art_money()
	aem_manager.manage_money(30000, "in")
end
function docent_art_have_all()
	return
		new_dialog.item_much("device_pda_npc",30) and
		new_dialog.item_much("deshifrator",1)
end
function docent_art_have()
	if docent_art_have_all() then
		db.actor:give_info_portion("docent_art_have")
		return true
	else
		return false
	end
end
function docent_art_done()
	sak.out_item_namber("device_pda_npc",30)
	sak.out_item_namber("deshifrator",1)
	sak.create_items_actor("wpn_kollim_sig",1)
	alife():create("a_inventory_box22",vector():set(-118.96826171875,-1.28731471300125,-184.96755981445),96550,269)
	alife():create("leshyi_bandit1",vector():set(-126.57862854004,-2.5450894832611,-223.10491943359),89213,269)
	alife():create("leshyi_bandit2",vector():set(-99.513191223145,-2.5961546897888,-224.07862854004),112656,271)
	alife():create("leshyi_bandit3",vector():set(-95.81356048584,-2.6014096736908,-215.65609741211),115175,268)
	alife():create("leshyi_bandit4",vector():set(-92.607864379883,-2.5890889167786,-196.82476806641),117497,270)
	alife():create("leshyi_bandit5",vector():set(-107.91365814209,-1.7399921417236,-191.16123962402),104521,269)
	alife():create("leshyi_bandit1",vector():set(-79.695411682129,-2.602038860321,-200.60913085938),125279,268)
	alife():create("leshyi_bandit3",vector():set(-56.217914581299,-2.3277642726898,-201.14300537109),138410,267)
end
function survival_quest_sms()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÈÑÒÎ×ÍÈÊ ÍÅÈÇÂÅÑÒÅÍ:".."\\n".."%c[255,255,128,128]Íàêîíåö-òî òû çäåñü. Ïîñìîòðèì, êàê òû óìååøü âûæèâàòü â Çîíå. Ó÷òè, åñëè ïîòåðÿåøü ìíîãî êðîâè, òî èñïûòàíèå áóäåò ñ÷èòàòüñÿ ïðîâàëåííûì.".."".."\n", nil, "nodata", 15000)
end
function survival_quest_sms2()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÈÑÒÎ×ÍÈÊ ÍÅÈÇÂÅÑÒÅÍ:".."\\n".."%c[255,255,128,128]Åñëè òû åù¸ æèâ, òî íàéä¸øü äåøèôðàòîð ó îäíîãî èç çîìáèðîâàííûõ.".."".."\n", nil, "nodata", 15000)
end
function survival_quest_start()
	alife():create("yan_zombied_respawn_2",vector():set(59.47342300415,0.038744121789932,-55.371047973633),70449,1443)
	alife():create("yan_zombied_respawn_1",vector():set(82.237930297852,0.012164682149887,-40.389144897461),82751,1515)
	alife():create("yan_zombied_respawn_2",vector():set(87.233200073242,0.12449660897255,5.4182996749878),85257,1513)
	alife():create("yan_zombied_respawn_3",vector():set(81.771514892578,0.28407225012779,31.163845062256),82502,1512)
	alife():create("yan_zombied_respawn_1",vector():set(61.901023864746,1.6060225963593,40.470378875732),69786,1511)
	alife():create("yan_zombied_respawn_2",vector():set(24.076595306396,0.1032127737999,27.972040176392),56699,1510)
	alife():create("yan_zombied_respawn_3",vector():set(12.909405708313,0.024675518274307,-0.95522046089172),45367,1502)
	alife():create("yan_zombied_respawn_1",vector():set(20.844173431396,0.13887485861778,-35.456031799316),49311,1506)
	alife():create("yan_zombied_respawn_2",vector():set(-15.112379074097,0.033203691244125,19.654655456543),33182,1501)
	alife():create("yan_zombied_respawn_3",vector():set(-10.873892784119,0.20947405695915,-31.665788650513),34751,1444)
end
function zombie_module_spawn()
	alife():create("zombie_module",vector():set(83.252334594727,0.039838552474976,-55.477195739746),76398,1516)
end
function check_actor_health()
	if has_alife_info("survival_quest_start") and not has_alife_info("survival_quest_done") 
	   and db.actor.health <= 0.35 then
		db.actor:give_info_portion("survival_quest_fail")
	end
end
function survival_quest_present()
	if not has_alife_info("survival_quest_fail") then
	return news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÈÑÒÎ×ÍÈÊ ÍÅÈÇÂÅÑÒÅÍ:".."\\n".."%c[255,255,128,128]Ìîæåøü ïîçäðàâèòü ñåáÿ, òû ïðîø¸ë èñïûòàíèå. Ïðåçåíò íàéä¸øü íà êðûøå ôàáðèêè. Íå ïðîùàþñü...".."".."\n", nil, "nodata", 15000) and
		alife():create("a_inventory_box57",vector():set(2.3563969135284,20.731647491455,-6.8848581314087),40088,1525)
	end
		return false
end

-- ÎÁÎÐÎÍÀ ÀÍÃÀÐÀ
function borov_reid_have()
	return
		db.actor:money()>=60000
end
function borov_reid_done()
	sak.create_items_actor("chertez_ak47",1)
	amk.start_timer("battle", 0, {"l04_darkvalley", 30, 1})
	spawn_restrictor.survival_quest_sr1()
end
function angar_prapor_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_rpk74_sk1",1) and
		new_dialog.item_much("ammo_5.45x39_ap",10)
end
function angar_prapor_have()
	sak.out_item_namber("wpn_rpk74_sk1",1)
	sak.out_item_namber("ammo_5.45x39_ap",10)
end
function angar_fanat_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_ak74",3) and
		wawka_dialog.good_item_have_number("wpn_spas12",2) and
		new_dialog.item_much("wpn_addon_scope",3) and
		new_dialog.item_much("grenade_rgd5",5)
end
function angar_fanat_have()
	sak.out_item_namber("wpn_ak74",3)
	sak.out_item_namber("wpn_spas12",2)
	sak.out_item_namber("wpn_addon_scope",3)
	sak.out_item_namber("grenade_rgd5",5)
end
function angar_oborona_have()
	sak.create_items_actor("bomba_mina_n",4)
	sak.create_items_actor("wpn_cz550",1)
	sak.create_items_actor("ammo_7.62x51_fmj",1)
	sak.create_items_actor("nv_bad",1)
end
function angar_oborona_time(actor, npc)
	return
		level.get_time_hours() >= 2 and level.get_time_hours() < 3
end
function angar_oborona_done()
	aem_manager.manage_money(2500, "in")
	sak.create_items_actor("wpn_addon_scope_hanter",1)
	sak.create_items_actor("ammo_12x76_zhekan",3)
	sak.create_items_actor("ammo_11.43x23_hydro",2)
end
function angar_oborona_sms()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÑÀÍÜÊÀ ÏÓËÅÌ¨Ò×ÈÊ:".."\\n".."%c[255,255,128,128]Áàíäèòû íà ïîäõîäå. Îíè îêðóæèëè àíãàð ñî âñåõ ñòîðîí.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function angar_oborona_spawn()
	alife():create("agr_stalker_veteran",vector():set(-49.186462402344,0.39957222342491,55.987121582031),142628,334)
	alife():create("agr_stalker_regular",vector():set(-43.96036529541,0.35907337069511,51.939361572266),145368,331)
	alife():create("agr_stalker_veteran",vector():set(16.222635269165,0.41036728024483,-13.51725769043),189037,293)
	alife():create("agr_stalker_regular",vector():set(-38.328983306885,0.39966174960136,-28.883615493774),149033,295)
	alife():create("agr_stalker_veteran",vector():set(-102.7635269165,0.66469609737396,35.83028793335),110365,326)
	alife():create("agr_stalker_veteran",vector():set(-124.64529418945,1.6523455381393,11.629037857056),91496,319)
	alife():create("agr_stalker_regular",vector():set(-132.23976135254,0.40678569674492,34.101539611816),83639,327)
	alife():create("agr_stalker_veteran",vector():set(-117.56446838379,1.5212051868439,-31.830913543701),98060,320)
	alife():create("osada_dolg1",vector():set(-89.8173828125,12.63027381897,21.887935638428),119529,319)
	alife():create("osada_dolg1",vector():set(-89.675994873047,12.628579139709,-1.8792606592178),119508,319)
	alife():create("osada_dolg2",vector():set(-110.54351043701,6.0870733261108,15.681230545044),104825,319)
	amk.start_timer("battle", 0, {"l02_garbage", 31, 1})
end
function angar_oborona_end()
	alife():create("leshyi_bandit4",vector():set(-212.07516479492,1.2664262056351,-9.4555263519287),22806,308)
	alife():create("leshyi_bandit5",vector():set(-197.40759277344,0.44144752621651,-27.717519760132),31239,306)
	alife():create("leshyi_bandit1",vector():set(-171.81567382813,0.39870086312294,-39.396820068359),50158,302)
	alife():create("leshyi_bandit2",vector():set(-154.95417785645,1.3778030872345,-61.994304656982),63970,301)
	alife():create("leshyi_bandit3",vector():set(-172.81382751465,10.345505714417,-78.374114990234),60391,301)
	alife():create("leshyi_bandit4",vector():set(-195.74993896484,7.8930325508118,9.1861639022827),32128,308)
	alife():create("leshyi_bandit5",vector():set(-185.01321411133,0.43974307179451,24.695819854736),39849,315)
	alife():create("leshyi_bandit1",vector():set(-171.16905212402,0.44809213280678,41.429214477539),50250,315)
	alife():create("leshyi_bandit3",vector():set(-217.78190612793,0.38482025265694,7.1179285049438),19964,314)
	alife():create("leshyi_bandit4",vector():set(-117.11577606201,0.30110028386116,73.164123535156),98852,336)
	alife():create("leshyi_bandit5",vector():set(-81.825042724609,1.9755865335464,65.433540344238),124284,336)
	alife():create("leshyi_bandit1",vector():set(-4.3398432731628,4.429883480072,84.229217529297),172007,332)
	alife():create("leshyi_bandit3",vector():set(43.16654586792,4.6041078567505,48.846839904785),217057,294)
	alife():create("leshyi_bandit4",vector():set(44.371284484863,0.69214200973511,-37.549003601074),217696,292)
	alife():create("leshyi_bandit5",vector():set(18.787431716919,0.35532918572426,-52.56143951416),191654,292)
	alife():create("leshyi_bandit1",vector():set(-5.3619074821472,8.6287908554077,-85.073135375977),177326,296)
	alife():create("leshyi_bandit3",vector():set(-78.791641235352,0.40068677067757,-51.838813781738),125766,298)
	alife():create("baron_npc",vector():set(-211.66831970215,0.4060865342617,-22.24983215332),23191,307)
end

-- ÒÀÉÍÈÊ ËÅØÅÃÎ
function checking_taken_item75(obj)
 	if not has_alife_info("taynik_leshyi_start") and obj:section()=="docs_x7" then 
		alife():create("a_inventory_box23",vector():set(106.04250335693,1.45752228307724,-5.2345976829529),530926,2826)
		alife():create("taynik_liker_pusto",vector():set(106.04250335693,0.73452228307724,-5.2345976829529),530926,2826)
		alife():create("taynik_liker_pusto",vector():set(106.04250335693,1.06452228307724,-5.2345976829529),530926,2826)
		db.actor:give_info_portion("taynik_leshyi_start")
	end
end
function taynik_leshyi_have()
	if new_dialog.item_much("flash_leshyi",1) then
		db.actor:give_info_portion("taynik_leshyi_have")
		return true
	else
		return false
	end
end

-- ÅÄÀ ÄËß ÄÐÓÆÊÀ
function drug_food_start()
	alife():create("flesh_strong",vector():set(178.91175842285,-1.5980509519577,188.47444152832),329213,378)
	alife():create("boar_strong",vector():set(185.10971069336,0.33160206675529,166.86299133301),333223,378)
	alife():create("flesh_normal",vector():set(183.02699279785,0.4892238676548,140.87889099121),331663,375)
	alife():create("flesh_weak",vector():set(201.57862854004,1.2793530225754,121.40798950195),344327,377)
	alife():create("zanoza_strong",vector():set(222.90544128418,1.9013909101486,141.1403503418),356439,377)
	alife():create("boar_strong",vector():set(228.26295471191,-0.77162909507751,160.19985961914),358730,381)
	alife():create("molerat",vector():set(234.51748657227,-1.8888775110245,192.61190795898),361344,379)
	alife():create("flesh_swamp",vector():set(217.86793518066,-1.2978644371033,211.10697937012),354163,379)
	alife():create("flesh_weak",vector():set(263.48767089844,0.25917890667915,192.4058380127),374437,382)
	alife():create("boar_strong",vector():set(265.21203613281,1.7463804483414,157.5192565918),375251,382)
	alife():create("molerat",vector():set(258.46572875977,1.4809355735779,113.2981262207),372235,380)
	alife():create("boar_strong",vector():set(274.02746582031,2.7981507778168,129.9561920166),378156,257)
	alife():create("quest_flesh",vector():set(282.13131713867,1.4087533950806,150.99514770508),380281,257)
	alife():create("flesh_swamp",vector():set(284.39877319336,0.80606818199158,176.77682495117),380677,382)
end
function drug_food_have_all()
	return
		new_dialog.item_much("druzok_flesh",1)
end
function druzok_flesh_spawn()
	local obj,pos,lv,gv
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and obj:section_name() == "quest_flesh" then
		pos = obj.position
		lv = obj.m_level_vertex_id
		gv = obj.m_game_vertex_id
		alife():release(obj,true)
		alife():create("druzok_flesh",pos,lv,gv)
	return
	end
	end
end
function drug_food_done()
	sak.out_item_namber("druzok_flesh",1)
	sak.create_items_actor("wpn_fnp45tcl",1)
	sak.create_items_actor("ammo_11.43x23_fmj",2)
	sak.create_items_actor("grenade_fb",2)
end

-- ÈÇÄÅËÈÅ ¹58
function izdelie_gp_have_start()
	return
		new_dialog.item_much("flash_leshyi",1) and
		new_dialog.item_much("docs_x7",1)
end
function izdelie_gp_start()
	sak.out_item_namber("flash_leshyi",1)
	sak.out_item_namber("leshyi_zapiska",1)
	sak.out_item_namber("docs_x7",1)
	local obj
    for a=1,65535,1 do
    obj=alife():object(a)
    if obj and string.find(obj:name(),"taynik_liker_pusto") then
    alife():release(obj,true)
    end
    end
end
function izdelie_gp_have_all()
	return
		new_dialog.item_much("prototip_gp",1) and
		new_dialog.item_much("flash_akill",1) and
		new_dialog.item_much("flash_phantom",1) and
		new_dialog.item_much("flash_sledopyt",1) and
		new_dialog.item_much("flash_partizan",1) and
		new_dialog.item_much("flash_virus",1)
end
function izdelie_gp_have()
	if izdelie_gp_have_all() then
		db.actor:give_info_portion("izdelie_gp_have")
		return true
	else
		return false
	end
end
function izdelie_gp_done()
	sak.out_item_namber("prototip_gp",1)
	sak.out_item_namber("flash_akill",1)
	sak.out_item_namber("flash_phantom",1)
	sak.out_item_namber("flash_sledopyt",1)
	sak.out_item_namber("flash_partizan",1)
	sak.out_item_namber("flash_virus",1)
end
function akill_npc_spawn()
	local obj = alife():create("akill_npc",vector():set(133.46839904785,4.9044389724731,-188.2385559082),361172,3765)
	snp.set_stalker_story_id(obj,21005)
end

-- ÏÎÈÑÊ ÊÎÌÏËÅÊÒÓÞÙÈÕ
function new_gp_have_all()
	return
		new_dialog.item_much("af_electra_flash",3) and
		new_dialog.item_much("af_dummy_battery",3) and
		new_dialog.item_much("art_acumm",6) and
		wawka_dialog.good_item_have_number("wpn_gauss",2) and
		db.actor:money()>=100000
end
function new_gp_have()
	if new_gp_have_all() then
		db.actor:give_info_portion("new_gp_have")
		return true
	else
		return false
	end
end
function start_docent1(first_speaker, second_speaker)
		aem_manager.manage_money(100000, "out")
		sak.out_item_namber("af_electra_flash",3)
		sak.out_item_namber("af_dummy_battery",3)
		sak.out_item_namber("art_acumm",6)
		sak.out_item_namber("wpn_gauss",2)
	local gtime = amk.game_minutes()
	amk.save_variable("docent_lekar1", gtime + math.random(47, 48) * 60)
end
function is_docent_ready1(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("docent_lekar1", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_docent1(first_speaker, second_speaker)
	sak.create_items_actor("wpn_gungauss_gp",1)
	amk.del_variable("docent_lekar1")
end

-- ÍÅÈÇÂÅÑÒÍÛÉ ÏÐÎÒÎÒÈÏ
function unknown_gp_spawn()
	alife():create("a_inventory_box25",vector():set(-11.105089187622,-1.564589381218,187.26519775391),88421,2195)
	alife():create("monolith_x8_master",vector():set(-5.4549088478088,-5.1615281105042,199.62127685547),95280,2195)
	alife():create("tank_spawn_zasada3",vector():set(-20.254056930542,0.094709575176239,205.79547119141),78804,2195)
	alife():create("monolith_x8_master",vector():set(-27.1100730896,4.6919727325439,182.5355682373),72230,2196)
	alife():create("monolith_x8_veteran",vector():set(5.1370339393616,3.9414644241333,205.8507232666),108119,2198)
	alife():create("monolith_x8_veteran",vector():set(-9.2928457260132,2.6016325950623,205.87742614746),90746,2198)
	alife():create("tank_spawn_zasada6",vector():set(15.180354118347,5.0889501571655,185.23834228516),120549,2201)
	alife():create("monolith_x8_veteran",vector():set(36.62296295166,5.1029000282288,176.19929504395),147254,2201)
	alife():create("monolith_x8_regular",vector():set(24.689512252808,5.418749332428,152.39947509766),132373,2199)
	alife():create("tank_x003",vector():set(-20.589935302734,5.4224190711975,152.90463256836),78717,2190)
	alife():create("monolith_x8_regular",vector():set(-15.569437026978,-0.0056719481945038,159.35527038574),83955,2202)
	alife():create("monolith_x8_master",vector():set(20.533470153809,-0.0016123950481415,165.76240539551),126907,2188)
	alife():create("monolith_x8_regular",vector():set(30.531719207764,-9.0748071670532e-005,182.82455444336),140793,2186)
	alife():create("monolith_x8_veteran",vector():set(-38.116172790527,1.136048078537,173.83325195313),60979,2193)
	alife():create("tank_spawn_zasada7",vector():set(-15.467745780945,-0.0019986629486084,214.03558349609),84035,2198)
	alife():create("monolith_x8_veteran",vector():set(26.006340026855,5.4206199645996,213.8335723877),134385,2127)
	alife():create("monolith_x8_veteran",vector():set(60.519596099854,5.4224214553833,217.17687988281),172305,2127)
	alife():create("monolith_x8_regular",vector():set(46.393684387207,-0.00054842233657837,214.98785400391),158028,2127)
	alife():create("monolith_x8_regular",vector():set(-32.419162750244,3.6537408828735,138.62358093262),67181,2207)
	spawn_restrictor.zasada_monolit_sr1()
end
function unknown_gp_have()
	if new_dialog.item_much("prototip_gp",1) then
		db.actor:give_info_portion("unknown_gp_have")
		return true
	else
		return false
	end
end

-- ÒÀÉÍÈÊ ÂÈÐÓÑÀ
function taynik_virus_spawn()
	alife():create("a_inventory_box26",vector():set(44.535286712646,9.080931186676,-13.347667694092),5307,1538)
	alife():create("m_poltergeist_dd",vector():set(131.6530456543,30.645900726318,-17.424798965454),7288,1543)
	alife():create("controller_flame",vector():set(131.6530456543,30.645900726318,-17.424798965454),7288,1543)
	alife():create("polter_xray",vector():set(131.6530456543,30.645900726318,-17.424798965454),7288,1543)
	alife():create("m_controller_act",vector():set(150.52813720703,30.586736679077,-17.308082580566),7897,1541)
	alife():create("electro_polter",vector():set(150.52813720703,30.586736679077,-17.308082580566),7897,1541)
	alife():create("burer_build",vector():set(150.52813720703,30.586736679077,-17.308082580566),7897,1541)
end
function taynik_virus_have()
	if new_dialog.item_much("virus_soft",3) then
		db.actor:give_info_portion("taynik_virus_have")
		return true
	else
		return false
	end
end

-- ÕÀÊÅÐÑÊÈÉ ÑÎÔÒ
function haker_soft_have_all()
	return
		new_dialog.item_much("virus_soft",3)
end
function haker_soft_have()
	if haker_soft_have_all() then
		db.actor:give_info_portion("haker_soft_have")
		return true
	else
		return false
	end
end
function haker_soft_done()
	sak.out_item_namber("virus_soft",3)
end

-- ÒÀÉÍÈÊ ÔÀÍÒÎÌÀ
function taynik_phantom_spawn()
	alife():create("a_inventory_box27",vector():set(92.107612609863,3.3955521583557,-47.576251983643),42813,1952)
	alife():create("bw_killers1",vector():set(-30.950088500977,-0.67104947566986,-50.799564361572),1378,1961)
	alife():create("bw_killers2",vector():set(2.4548625946045,0.10906511545181,-28.540210723877),11427,1991)
	alife():create("bw_sniper",vector():set(89.905136108398,5.6282997131348,-71.794075012207),40213,1979)
	alife():create("bw_sniper",vector():set(89.718864440918,5.4216675758362,-1.358274936676),40305,1983)
	alife():create("bw_killers1",vector():set(77.195350646973,3.2626099586487,92.718521118164),36454,2006)
	alife():create("bw_killers2",vector():set(79.568634033203,0.093498587608337,11.978182792664),37237,2009)
	alife():create("bw_killers1",vector():set(29.099678039551,3.1446318626404,66.709411621094),20204,2000)
	alife():create("bw_killers2",vector():set(62.483901977539,-4.3903832435608,-42.503608703613),31385,1985)
	alife():create("bw_killers1",vector():set(-2.3984875679016,-0.30256789922714,5.1910519599915),9900,2026)
	alife():create("bw_killers2",vector():set(-12.723071098328,-1.7010530233383,60.39026260376),6773,2019)
	alife():create("bw_killers1",vector():set(-29.797197341919,4.9551138877869,92.834419250488),3425,2015)
	alife():create("bw_killers2",vector():set(10.691960334778,-1.8013492822647,31.307958602905),14124,2013)
	alife():create("bw_killers1",vector():set(110.51007843018,5.4718084335327,81.407196044922),46812,1944)
	alife():create("bw_killers2",vector():set(73.398864746094,0.31867542862892,-93.160903930664),34956,1956)
end
function taynik_phantom_have()
	if new_dialog.item_much("flash_phantom",1) then
		db.actor:give_info_portion("taynik_phantom_have")
		return true
	else
		return false
	end
end

-- ÏÎ ÑËÅÄÀÌ ÑËÅÄÎÏÛÒÀ
function sledopyt_sled_sound()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Àêèëë, íà¸ìíèêè âñ¸-òàêè äîáðàëèñü äî Ñëåäîïûòà. Ïðîñòè! ß íå óñïåë åãî ñïàñòè...".."".."\n", nil, nil, 15000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÀÊÈËË:".."\\n".."%c[255,255,128,128]Ýòî íå òâîÿ âèíà! Åñëè òû ðàñêâèòàëñÿ ñ åãî óáèéöàìè, çíà÷èò îí îòîìù¸í...".."".."\n", 15, nil, 15000)
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\village]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function sledopyt_sled_have()
	if new_dialog.item_much("flash_sledopyt",1) then
		db.actor:give_info_portion("sledopyt_sled_have")
		return true
	else
		return false
	end
end
function sledopyt_npc_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÑËÅÄÎÏÛÒ:".."\\n".."%c[255,255,128,128]Ñòàëêåðû, âûðó÷àéòå! Íà¸ìíèêè çàæàëè íà õóòîðå, âîçëå èõ çàñòàâû. Äîëãî íå...".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	local sobj = alife():create("sledopyt_npc",vector():set(-192.42304992676,-16.033847808838,369.64874267578),132962,1859)
		   sobj:on_death()
	alife():create("bw_killers1",vector():set(-173.3773651123,-16.263069152832,370.19671630859),149073,1859)
	alife():create("bw_killers2",vector():set(-178.01596069336,-16.108985900879,373.69961547852),145460,1859)
	alife():create("bw_killers1",vector():set(-166.77406311035,-16.272266387939,374.24673461914),155119,1859)
	alife():create("bw_killers2",vector():set(-165.10092163086,-12.713300704956,369.89151000977),156290,1859)
	alife():create("bw_killers1",vector():set(-179.80102539063,-16.127227783203,367.40914916992),143647,1859)
	alife():create("bw_killers2",vector():set(-185.06985473633,-12.890445709229,379.77239990234),139418,1859)
	alife():create("bw_killers1",vector():set(-189.84063720703,-16.034019470215,366.79531860352),135291,1859)
	alife():create("bw_killers2",vector():set(-144.05990600586,-17.168827056885,373.80187988281),175603,1826)
	alife():create("bw_killers1",vector():set(-134.56510925293,-15.714462280273,358.97875976563),184397,1827)
	alife():create("bw_killers2",vector():set(-187.4867401123,-15.034154891968,393.71752929688),137073,1855)
	alife():create("bw_sniper",vector():set(-223.60800170898,-0.40419745445251,425.95498657227),107057,1852)
	alife():create("bw_killers1",vector():set(-177.1127166748,-3.2972362041473,427.47537231445),146106,1856)
end

-- ÂÑÒÐÅ×À ÑÎ ÑÌÅÐÒÜÞ
function poisk_partizan_have()
	if new_dialog.item_much("flash_partizan",1) then
		db.actor:give_info_portion("poisk_partizan_have")
		return this.partizan_mercenary()
	end
		return false
end
function partizan_mutant()
	alife():create("electro_polter",vector():set(-12.416123390198,4.1900625228882,8.5180635452271),1424,1126)
	alife():create("carlic",vector():set(-12.416123390198,4.1900625228882,8.5180635452271),1424,1126)
	alife():create("burer_build",vector():set(10.953026771545,4.2020349502563,-11.491123199463),4400,1114)
	alife():create("carlic_weak",vector():set(18.472032546997,4.189284324646,-1.1360087394714),5542,1118)
	alife():create("polter_xray",vector():set(11.938904762268,-16.346408843994,36.84806060791),4582,1160)
	alife():create("m_poltergeist_normal_tele",vector():set(-36.125297546387,-10.817167282104,4.2718844413757),339,1147)
	alife():create("carlic_strong",vector():set(-36.125297546387,-10.817167282104,4.2718844413757),339,1147)
	alife():create("poltergeist_build",vector():set(9.9650049209595,-12.429022789001,25.305057525635),4222,1155)
	alife():create("m_poltergeist_strong_flame",vector():set(9.9650049209595,-12.429022789001,25.305057525635),4222,1155)
	alife():create("m_poltergeist_dd",vector():set(25.41007232666,-10.820795059204,-24.038774490356),6463,1139)
	alife():create("karlito",vector():set(25.41007232666,-10.820795059204,-24.038774490356),6463,1139)
end
function partizan_mercenary()
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\village]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Àêèëë, òâîè îïàñåíèÿ îïðàâäàëèñü. Ïàðòèçàí ì¸ðòâ, íî îí óñïåë ïðèõâàòèòü ñ ñîáîé ñâîåãî óáèéöó.".."".."\n", nil, nil, 15000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÀÊÈËË:".."\\n".."%c[255,255,128,128]Áåäíÿãà! Íå ñòîèëî ìíå ïîñûëàòü åãî îäíîãî... Ñïàñèáî, ÷òî ñîîáùèë. Âûáèðàéñÿ îòòóäà.".."".."\n", 15, nil, 15000)
	alife():create("bloodsucker_strong",vector():set(-6.3057293891907,-10.81400680542,-4.2778701782227),1962,1150)
	alife():create("bw_killers1",vector():set(-2.0991082191467,9.3142890930176,-2.0549886226654),2795,1109)
	alife():create("bw_killers2",vector():set(-0.28828701376915,9.3209676742554,-10.492329597473),2678,1109)
	alife():create("bw_killers1",vector():set(-8.0149784088135,9.1753435134888,1.0336874723434),1847,1110)
	alife():create("bw_killers2",vector():set(0.19216385483742,4.1894574165344,0.50359565019608),2803,1124)
	alife():create("bw_killers1",vector():set(-9.7322216033936,4.1900596618652,-4.570629119873),1669,1166)
	alife():create("bw_killers2",vector():set(6.2308015823364,4.2013063430786,-8.124062538147),3627,1114)
end

-- ÈÇÓÌÐÓÄÍÀß ÂÑÏÛØÊÀ
function izumrud_electra_have_all()
	return
		new_dialog.item_much("af_electra_green",1)
end
function izumrud_electra_have()
	if new_dialog.item_much("af_electra_green",1) then
		db.actor:give_info_portion("izumrud_electra_have")
		return true
	else
		return false
	end
end
function izumrud_electra_done()
	sak.out_item_namber("af_electra_green",1)
	sak.create_items_actor("ammo_7.62x54_7h1",1)
	sak.create_items_actor("ammo_7.62x54_7h14",1)
	sak.create_items_actor("ammo_7.62x54_ap",1)
	sak.create_items_actor("grenade_m61",3)
	local obj = alife():create("a_inventory_box28",vector():set(433.66345214844,42.448131561279,1.3459589481354),1643588,3693)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Òàéíèê Àêèëëà")
	alife():create("vypolzen",vector():set(380.93081665039,34.312866210938,-25.52170753479),1594410,3691)
	alife():create("kikimora",vector():set(380.96740722656,34.311134338379,-49.323657989502),1594380,3691)
	alife():create("vypolzen_red",vector():set(423.30099487305,36.260082244873,-47.326370239258),1659651,3693)
	alife():create("vypolzen",vector():set(428.85882568359,36.259914398193,-28.115724563599),1669716,3693)
	alife():create("kikimora",vector():set(417.18362426758,36.262554168701,0.027595184743404),1649851,3691)
	alife():create("vypolzen_red",vector():set(409.28900146484,39.448154449463,-6.7179384231567),1638607,3693)
	alife():create("vypolzen",vector():set(463.408203125,36.997497558594,37.142185211182),1722926,3693)
	alife():create("kikimora",vector():set(451.01052856445,36.144714355469,-60.086837768555),1704789,3693)
	alife():create("vypolzen_red",vector():set(449.59448242188,36.682800292969,-17.031827926636),1702785,3693)
	alife():create("bear",vector():set(417.18362426758,36.262554168701,0.027595184743404),1649851,3691)
	alife():create("fracture_master",vector():set(409.28900146484,39.448154449463,-6.7179384231567),1638607,3693)
	alife():create("karlito",vector():set(463.408203125,36.997497558594,37.142185211182),1722926,3693)
	alife():create("fracture_karlik",vector():set(445.98480224609,34.684955596924,65.774307250977),1697618,3693)
	alife():create("karlito",vector():set(451.01052856445,36.144714355469,-60.086837768555),1704789,3693)
	alife():create("fire_chimera",vector():set(449.59448242188,36.682800292969,-17.031827926636),1702785,3693)
	alife():create("new_electro_chimera",vector():set(380.93081665039,34.312866210938,-25.52170753479),1594410,3691)
	alife():create("chimera_black",vector():set(380.93081665039,34.312866210938,-25.52170753479),1594410,3691)
	alife():create("chimera_weak",vector():set(380.93081665039,34.312866210938,-25.52170753479),1594410,3691)
	alife():create("bibliotekar",vector():set(380.96740722656,34.311134338379,-49.323657989502),1594380,3691)
	alife():create("bibliotekar_black",vector():set(423.30099487305,36.260082244873,-47.326370239258),1659651,3693)
	alife():create("zombie_hell15",vector():set(417.18362426758,36.262554168701,0.027595184743404),1649851,3691)
	alife():create("zombie_plague_komar",vector():set(417.18362426758,36.262554168701,0.027595184743404),1649851,3691)
	alife():create("zombie_blow",vector():set(417.18362426758,36.262554168701,0.027595184743404),1649851,3691)
end

-- ÒÀÉÍÈÊ ÀÊÈËËÀ
function taynik_akill_have()
	if new_dialog.item_much("flash_akill",1) then
		db.actor:give_info_portion("taynik_akill_have")
		return true
	else
		return false
	end
end
function taynik_akill_done_all()
	return
		wawka_dialog.good_item_have_number("wpn_vihlop",1) and 
		new_dialog.item_much("ammo_12.7x108",5)
end
function taynik_akill_done()
	sak.out_item_namber("wpn_vihlop",1)
	sak.out_item_namber("ammo_12.7x108",5)
	table_treasure_l.treasure()
	alife():create("bw_killers1",vector():set(-241.58294677734,9.3622379302979,57.937065124512),13224,1391)
	alife():create("bw_killers2",vector():set(-226.69563293457,9.3625974655151,52.123279571533),19485,1391)
	alife():create("bw_killers1",vector():set(-245.08151245117,4.556468963623,55.112503051758),11579,1389)
	alife():create("bw_killers2",vector():set(-239.58734130859,4.5587882995605,60.502174377441),14245,1389)
	alife():create("bw_killers1",vector():set(-226.41487121582,4.5573120117188,53.18766784668),19766,1388)
	alife():create("bw_killers2",vector():set(-88.619789123535,4.0843372344971,137.55511474609),46718,1421)
	alife():create("bw_killers1",vector():set(-88.635612487793,4.0837731361389,127.00863647461),46688,1421)
	alife():create("bw_killers2",vector():set(-104.85443878174,-13.973083496094,-219.47677612305),44844,1436)
	alife():create("bw_killers1",vector():set(-26.493534088135,-1.4931893348694,-168.66409301758),63478,1432)
	alife():create("bw_killers2",vector():set(-61.168823242188,-16.900272369385,-207.05506896973),54247,1408)
	alife():create("bw_killers1",vector():set(-71.294494628906,-2.1623413562775,-245.37890625),53583,1433)
	alife():create("bw_killers2",vector():set(-180.93504333496,1.5350049734116,-284.6686706543),35304,1434)
	alife():create("bw_killers1",vector():set(-146.91304016113,-9.146671295166,-279.51574707031),39203,1435)
	alife():create("bw_killers2",vector():set(-25.857038497925,-0.38267600536346,-200.45237731934),63557,1432)
	alife():create("bw_killers1",vector():set(-37.54182434082,0.4095461666584,-226.94415283203),60909,1433)
	alife():create("bw_sniper",vector():set(-35.369243621826,0.40939536690712,-224.18801879883),61439,1433)
end

-- ÍÎÂÛÉ ÐÅÖÅÏÒ
function izumrud_recept_start()
	sak.create_items_actor("gold_art",1)
end
function izumrud_recept_have()
	if db.actor:has_info("izumrud_recept_have") then
--		db.actor:give_info_portion("izumrud_recept_have")
		return true
	else
		return false
	end
end
function izumrud_recept_done()
	sak.create_items_actor("ammo_gauss",2)
end

-- ÏÎÄ ÏÐÈÖÅËÎÌ
function mercenary_dogovor_all()
	return
		new_dialog.item_much("wpn_gungauss_gp",1)
end
function akill_vision_have_all()
	return
		new_dialog.item_much("wpn_addon_scope_m1",1)
end
function akill_vision_have()
	if new_dialog.item_much("wpn_addon_scope_m1",1) then
		db.actor:give_info_portion("akill_vision_have")
		return true
	else
		return false
	end
end
function akill_vision_done()
	sak.out_item_namber("wpn_addon_scope_m1",1)
	sak.create_items_actor("ammo_5.56x45_gd",3)
end

-- ÑÄÅËÊÀ Ñ ÍÀ¨ÌÍÈÊÀÌÈ
function mercenary_upiter_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÀÊÈËË:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, ÿ íà ïîçèöèè. Âèæó íà¸ìíèêà, îí â ìàíñàðäå. Âðàæåñêîé àêòèâíîñòè íà òåððèòîðèè çàâîäà íå íàáëþäàåòñÿ. Ìîé Âûõëîï íàöåëåí íà ãîëîâó êîìàíäèðà. Òåáå ëèøü íóæíî ïîäàòü ñèãíàë, åñëè ÷òî-òî ïîéä¸ò íå òàê.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("bw_killers3",vector():set(336.33117675781,34.305438995361,-257.18374633789),1252781,3743)
end
function bw_killers_hit()
	db.actor.health = -0.35
	local obj
	for a=1,65535,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"bw_killers3") then
            local h = hit()
            h.power = 0.2
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0
            h.draftsman = db.actor
            h.type = hit.explosion
            obj:hit (h)
	break
	end
	end
end
function mercenary_dogovor_sms()
	local snd_obj = xr_sound.get_safe_sound_object([[weapons\hk417\hk417_silent]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("bw_killers1",vector():set(315.54443359375,34.592735290527,-236.4345703125),1223834,3743)
	alife():create("bw_killers2",vector():set(344.63232421875,27.977117538452,-232.91343688965),1265491,3743)
	alife():create("bw_killers1",vector():set(351.09191894531,34.258846282959,-274.92819213867),1275731,3743)
	alife():create("bw_killers2",vector():set(290.2737121582,27.073230743408,-241.8630065918),1190336,3743)
	alife():create("bw_killers1",vector():set(266.37118530273,26.812082290649,-267.5940246582),1159546,3743)
	alife():create("bw_killers2",vector():set(399.03298950195,33.639190673828,-240.13204956055),1344176,3743)
	alife():create("bw_killers1",vector():set(392.68048095703,28.118801116943,-240.78186035156),1334929,3743)
	alife():create("bw_killers2",vector():set(410.53955078125,26.746599197388,-269.28134155273),1363038,3743)
	alife():create("bw_killers1",vector():set(483.52969360352,27.205156326294,-248.12442016602),1475508,3747)
		amk.start_timer("battle", 0, {"jupiter", 31, 1})
end
function mercenary_dogovor_spawn()
	alife():create("bw_killers2",vector():set(398.94888305664,27.542314529419,-381.34115600586),1344105,3745)
	alife():create("bw_killers1",vector():set(420.63455200195,27.544065475464,-367.89416503906),1380301,3745)
	alife():create("bw_killers2",vector():set(407.48065185547,24.219427108765,-374.52490234375),1358267,3745)
	alife():create("bw_killers1",vector():set(391.61972045898,31.082635879517,-363.42272949219),1332887,3745)
	alife():create("bw_killers2",vector():set(396.53323364258,30.978698730469,-393.1337890625),1339873,3745)
	alife():create("bw_sniper",vector():set(420.56164550781,31.185722351074,-366.96884155273),1380305,3745)
	alife():create("bw_killers2",vector():set(398.33050537109,30.979372024536,-356.89587402344),1343059,3745)
	alife():create("bw_killers1",vector():set(351.74795532227,27.541589736938,-404.83236694336),1275568,3745)
	alife():create("bw_killers2",vector():set(343.60971069336,27.542961120605,-378.5364074707),1264286,3745)
	alife():create("bw_killers1",vector():set(343.83380126953,27.543962478638,-358.52941894531),1264301,3745)
	alife():create("bw_killers2",vector():set(302.21038818359,27.543909072876,-316.97564697266),1206158,3745)
	alife():create("bw_killers1",vector():set(322.5256652832,31.46404838562,-311.77700805664),1233514,3745)
	alife():create("bw_killers2",vector():set(342.48355102539,27.542757034302,-302.81530761719),1262226,3745)
	alife():create("bw_killers1",vector():set(358.32089233398,27.541967391968,-342.94366455078),1285555,3745)
	alife():create("bw_killers2",vector():set(313.15646362305,21.926578521729,-315.95016479492),1220098,3745)
	local sobj = alife():create("phantom_npc",vector():set(350.76330566406,20.540166854858,-312.07778930664),1274632,3745)
	sobj:on_death()
end
function checking_taken_item76(obj)
 	if not has_alife_info("mercenary_dogovor_find") and obj:section()=="phantom_counter" then 
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÀÊÈËË:".."\\n".."%c[255,255,128,128]Ìåíÿ ñåðü¸çíî çàöåïèëî, èõ ñíàéïåð îêàçàëñÿ õèòðåå. Äàëüøå ïðèêðûâàòü íå ñìîãó. ß âîçâðàùàþñü â ïðà÷å÷íóþ, âñòðåòèìñÿ òàì. Íàäåþñü, Ôàíòîì åù¸ æèâ. Íà çàìåòêó: âîçëå ïðîõîäíîé çàâîäà îáíàðóæèë áîëüøóþ ñòàþ ñîáàê. Øàêàëû ñáåæàëèñü, ïðåäâêóøàÿ ñâåæóþ äîáû÷ó. Áóäü îñòîðîæåí!".."".."\n", nil, nil, 20000)
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\village]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("oboroten",vector():set(399.69006347656,27.980760574341,-195.76663208008),1345520,3743)
	alife():create("bloodsucker_mil",vector():set(405.17465209961,39.338569641113,-203.75227355957),1354903,3743)
	alife():create("pseudodog_strong",vector():set(317.09948730469,28.538303375244,-135.92318725586),1225861,3741)
	alife():create("dog_sil_hill",vector():set(317.09948730469,28.538303375244,-135.92318725586),1225861,3741)
	alife():create("dog_green",vector():set(317.09948730469,28.538303375244,-135.92318725586),1225861,3741)
	alife():create("dog_strong",vector():set(317.09948730469,28.538303375244,-135.92318725586),1225861,3741)
	alife():create("volkodav",vector():set(373.57650756836,28.498300552368,-149.70045471191),1308653,3741)
	alife():create("dog_sil_hill",vector():set(373.57650756836,28.498300552368,-149.70045471191),1308653,3741)
	alife():create("dog_green",vector():set(373.57650756836,28.498300552368,-149.70045471191),1308653,3741)
	alife():create("dog_strong",vector():set(373.57650756836,28.498300552368,-149.70045471191),1308653,3741)
	alife():create("pseudodog_big",vector():set(300.40380859375,28.034646987915,-177.52261352539),1203341,3739)
	alife():create("dog_sil_hill",vector():set(300.40380859375,28.034646987915,-177.52261352539),1203341,3739)
	alife():create("dog_green",vector():set(300.40380859375,28.034646987915,-177.52261352539),1203341,3739)
	alife():create("dog_strong",vector():set(300.40380859375,28.034646987915,-177.52261352539),1203341,3739)
	alife():create("pseudodog_strong",vector():set(331.67251586914,26.861604690552,-124.9005279541),1246667,3741)
	alife():create("dog_sil_hill",vector():set(331.67251586914,26.861604690552,-124.9005279541),1246667,3741)
	alife():create("dog_green",vector():set(331.67251586914,26.861604690552,-124.9005279541),1246667,3741)
	alife():create("dog_strong",vector():set(331.67251586914,26.861604690552,-124.9005279541),1246667,3741)
	alife():create("volkodav",vector():set(245.04093933105,28.025003433228,-191.11239624023),1131803,3739)
	alife():create("dog_sil_hill",vector():set(245.04093933105,28.025003433228,-191.11239624023),1131803,3739)
	alife():create("dog_green",vector():set(245.04093933105,28.025003433228,-191.11239624023),1131803,3739)
	alife():create("dog_strong",vector():set(245.04093933105,28.025003433228,-191.11239624023),1131803,3739)
		amk.start_timer("battle", 0, {"jupiter", 32, 1})
		db.actor:give_info_portion("mercenary_dogovor_find")
	end
end
function mercenary_dogovor_have_all()
	return
		new_dialog.item_much("phantom_counter",1)
end
function mercenary_dogovor_done()
	sak.out_item_namber("phantom_counter",1)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÍÀ¨ÌÍÈÊÈ:".."\\n".."%c[255,255,128,128]Ñòàëêåðû, ïðà÷å÷íàÿ îêðóæåíà. Ó âàñ 60 ñåêóíä, ÷òîáû ñëîæèòü îðóæèå è îòäàòü íàì ïðîòîòèï.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end

-- Â ÇÀÏÀÄÍÅ
function mercenary_zapadny_spawn()
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\tribal_war]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	sak.create_items_actor("bomba_mina_b",6)
	alife():create("bw_killers1",vector():set(148.42127990723,-0.4908119738102,-222.09062194824),377811,3765)
	alife():create("bw_killers2",vector():set(164.1895904541,-0.50909554958344,-216.36053466797),393530,3765)
	alife():create("bw_killers1",vector():set(123.29258728027,-0.50726723670959,-197.70455932617),349250,3765)
	alife():create("bw_killers2",vector():set(120.91704559326,-0.41540160775185,-165.24201965332),347014,3765)
	alife():create("bw_killers1",vector():set(164.1895904541,-0.50909554958344,-216.36053466797),393530,3765)
	alife():create("bw_killers2",vector():set(174.50177001953,-0.42227536439896,-158.50352478027),403871,3765)
	alife():create("bw_killers1",vector():set(186.52203369141,-0.3016744852066,-193.65168762207),416260,3765)
	alife():create("bw_killers2",vector():set(120.85457611084,6.4601635932922,-160.97233581543),343452,3765)
	alife():create("bw_killers1",vector():set(171.92633056641,12.129076957703,-150.93116760254),377173,3765)
	alife():create("bw_killers2",vector():set(93.454879760742,3.7210249900818,-167.93734741211),345646,3765)
		amk.start_timer("battle", 0, {"pripyat", 30, 1})
end
function mercenary_zapadny_done()
	sak.create_items_actor("wpn_20w_vintorez",1)
	sak.create_items_actor("ammo_9x39_sp5",2)
	sak.create_items_actor("grenade_f1_double",3)
	sak.create_items_actor("grenade_fb",3)
	spawn_restrictor.zasada_bw_sr1()
end

-- ÍÎÆ ÀÊÈËËÀ
function knife_akill_have_all()
	return
		new_dialog.item_much("fake_wpn_knif4",1)
end
function knife_akill_have()
	if knife_akill_have_all() then
		db.actor:give_info_portion("knife_akill_have")
		return true
	else
		return false
	end
end
function knife_akill_start()
	aem_manager.manage_money(10000, "in")
	alife():create("oboroten",vector():set(-148.1863861084,-1.2828983068466,-146.16809082031),69716,2882)
	alife():create("oboroten",vector():set(-148.1863861084,-1.2828983068466,-146.16809082031),69716,2882)
	alife():create("bloodsucker_mil",vector():set(-199.84088134766,-0.2078532576561,-121.52265167236),29582,2882)
	alife():create("bloodsucker_child",vector():set(-218.55897521973,-0.00085055828094482,40.292552947998),15261,2881)
	alife():create("voen_zombied1",vector():set(-123.09496307373,9.1040058135986,101.61030578613),90668,2881)
	alife():create("voen_zombied2",vector():set(-123.09496307373,9.1040058135986,101.61030578613),90668,2881)
	alife():create("voen_zombied1",vector():set(-123.09496307373,9.1040058135986,101.61030578613),90668,2881)
	alife():create("voen_zombied2",vector():set(-123.09496307373,9.1040058135986,101.61030578613),90668,2881)
	alife():create("psyonik",vector():set(-123.09496307373,9.1040058135986,101.61030578613),90668,2881)
	alife():create("psyonik",vector():set(-123.09496307373,9.1040058135986,101.61030578613),90668,2881)
	alife():create("psyonik",vector():set(-123.09496307373,9.1040058135986,101.61030578613),90668,2881)
	alife():create("zombie_hell15",vector():set(-218.55897521973,-0.00085055828094482,40.292552947998),15261,2881)
	alife():create("zombie_hell15",vector():set(-123.09496307373,9.1040058135986,101.61030578613),90668,2881)
end
function knife_akill_spawn()
	alife():create("knife_sucker",vector():set(-40.158676147461,-0.29254990816116,-115.78495025635),155462,2882)
	alife():create("bloodsucker_strong",vector():set(-13.008541107178,0.11160925030708,-103.07540130615),177065,2882)
	alife():create("bloodsucker_strong",vector():set(-9.8757839202881,4.5757155418396,-133.67631530762),179911,2882)
	alife():create("bloodsucker_strong",vector():set(-76.278495788574,0.00092652440071106,-127.35501098633),125877,2882)
	alife():create("pseudodog_strong",vector():set(-148.1863861084,-1.2828983068466,-146.16809082031),69716,2882)
	alife():create("pseudodog_big",vector():set(-148.1863861084,-1.2828983068466,-146.16809082031),69716,2882)
	alife():create("kikimora",vector():set(-199.84088134766,-0.2078532576561,-121.52265167236),29582,2882)
	alife():create("kikimora",vector():set(-156.7587890625,-8.1400318145752,-38.052062988281),63467,2882)
	alife():create("kikimora",vector():set(-218.55897521973,-0.00085055828094482,40.292552947998),15261,2881)
	alife():create("volkodav",vector():set(-123.09496307373,9.1040058135986,101.61030578613),90668,2881)
	alife():create("kikimora",vector():set(-41.817581176758,0.21861359477043,60.903793334961),154515,2881)
end
function knife_akill_done(first_speaker, second_speaker)
	dialogs.relocate_item_section(second_speaker, "fake_wpn_knif4","out")
	sak.create_items_actor("medkit_army",2)
	sak.create_items_actor("grenade_gd-05",3)
	sak.create_items_actor("ammo_12.7x108",2)
	sak.create_items_actor("grenade_f1_double",2)
	alife():create("bw_killers4",vector():set(203.16683959961,18.064163208008,-10.036685943604),431615,3768)
	alife():create("bw_killers5",vector():set(186.52844238281,12.247560501099,46.502082824707),416432,3770)
	alife():create("bw_killers1",vector():set(208.06393432617,11.566049575806,-28.407091140747),434827,3768)
	alife():create("bw_killers2",vector():set(198.34063720703,11.5658826828,-19.849338531494),426918,3768)
	alife():create("bw_killers1",vector():set(230.76312255859,11.566522598267,27.955200195313),450675,3768)
	alife():create("bw_killers2",vector():set(199.41653442383,6.3972482681274,-8.9310054779053),428143,3768)
	alife():create("bw_killers1",vector():set(210.88467407227,4.5501461029053,-0.83958184719086),437016,3768)
	alife():create("bw_killers2",vector():set(221.5147857666,0.54580581188202,7.806441783905),444197,3768)
	alife():create("bw_killers1",vector():set(191.9613494873,2.5015387535095,45.804046630859),421716,3770)
	alife():create("bw_killers2",vector():set(175.71250915527,0.65644145011902,22.637405395508),405605,3768)
	alife():create("bw_killers1",vector():set(185.18139648438,0.54681992530823,55.587249755859),415732,3770)
	alife():create("bw_killers2",vector():set(195.8154296875,4.4483947753906,53.198638916016),425222,3770)
	alife():create("bw_killers1",vector():set(180.10768127441,4.4422183036804,32.898048400879),410141,3768)
	alife():create("bw_killers2",vector():set(174.43673706055,10.299598693848,19.127319335938),403254,3768)
end

-- ÎÕÎÒÀ ÍÀ ÑÍÀÉÏÅÐÀ
function ohota_sniper_have(task, info)
     if db.actor:has_info("bw_sniper1_dead") and db.actor:has_info("bw_sniper2_dead") then 
		return db.actor:give_info_portion("ohota_sniper_have")
     end
		return false
end
function ohota_sniper_have_all()
	return
		new_dialog.item_much("wpn_hk417_sk1",1)
end
function ohota_sniper_done(first_speaker, second_speaker)
	sak.out_item_namber("wpn_hk417_sk1",1)
	sak.create_items_actor("grenade_f1_double",3)
	dialogs.relocate_item_section(second_speaker, "fake_wpn_knif4","in")
end
function ohota_sniper_sms(first_speaker, second_speaker)
	sak.out_item_namber("wpn_hk417_sk1",1)
	dialogs.relocate_item_section(second_speaker, "fake_wpn_knif4","in")
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÎÏÅÐÀÒÎÐ ÑÂßÇÈ:".."\\n".."%c[255,255,128,128]Çà èñïîëüçîâàíèå íåëåãàëüíîãî ÏÎ âû îøòðàôîâàíû íà 10000 ðóáëåé. Äåíüãè àâòîìàòè÷åñêè ñíèìóòñÿ ñ âàøåãî ñ÷¸òà.".."".."\n", nil, nil, 30000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ìäà, íàäî áû ñõîäèòü ê Äîöåíòó è íàêîñòûëÿòü åìó.".."".."\n", 16, nil, 25000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	aem_manager.manage_money(10000, "out")
	db.actor:disable_info_portion("haker_soft_pda")
end

-- ÊÅÉÑ ÎÐÓÆÅÉÍÈÊÀ
function keis_oruzeinik_have()
	if new_dialog.item_much("keis_key",2) and 
	   new_dialog.item_much("chertez_keis",1) then
		keis_oruzeinik_done()
		return true
	else
		return false
	end
end
function keis_oruzeinik_done()
	sak.out_item_namber("keis_key",2)
	sak.out_item_namber("chertez_keis",1)
	sak.create_items_actor("device_pda_npc",1)
	sak.create_items_actor("wpn_hk417_camo",1)
	sak.create_items_actor("ammo_7.62x51_ap",2)
	db.actor:give_info_portion("keis_oruzeinik_have")
end

-- ÎÕÎÒÀ ÍÀ ÎÁÎÐÎÒÍÅÉ
function ohota_wolf_spawn()
	sak.create_items_actor("ammo_7.62x54r",1)
	local obj = alife():create("chertez_keis",vector():set(-380.8268737793,7.398063659668,404.12860107422),87748,3703)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Âîë÷üå ëîãîâî")
end
function checking_taken_item77(obj)
 	if not has_alife_info("keis_oruzeinik_find") and obj:section()=="chertez_keis" then
	local snd_obj = xr_sound.get_safe_sound_object([[monsters\sound_wolf]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ààç, òû ÷òî-òî ïåðåïóòàë. Çäåñü íåò íèêîãî...".."".."\n", nil, nil, 30000)
	amk.start_timer("battle", 0, {"jupiter", 30, 1})
		alife():create("chimera_wolf",vector():set(-323.72576904297,17.113107681274,430.48370361328),168873,3703)
		alife():create("chimera_wolf",vector():set(-265.06134033203,-0.8081442117691,443.29257202148),267006,3711)
		alife():create("chimera_wolf",vector():set(-270.30285644531,-0.4198077917099,442.90960693359),258780,3711)
		alife():create("chimera_wolf",vector():set(-256.65518188477,3.4395008087158,411.7629699707),280964,3703)
		alife():create("chimera_wolf",vector():set(-246.47827148438,0.82017338275909,441.82043457031),299334,3711)
		alife():create("chimera_wolf",vector():set(-239.65963745117,2.5905842781067,428.95098876953),311478,3711)
		alife():create("white_wolf",vector():set(-251.99440002441,4.6567387580872,369.94879150391),289425,3703)
		db.actor:give_info_portion("keis_oruzeinik_find")
	end
end
function ohota_wolf_done()
    sak.create_items_actor("keis_key",1)
    sak.create_items_actor("ammo_23x76_shrap",3)
	local obj
    for a=1,65535,1 do
    obj=alife():object(a)
    if obj and string.find(obj:name(),"white_wolf") then
    alife():release(obj,true)
    break
    end
    end
end
function ohota_wolf_have(task, info)
     if db.actor:has_info("ohota_wolf1_dead") and db.actor:has_info("ohota_wolf2_dead") then 
		return db.actor:give_info_portion("ohota_wolf_have")
     end
		return false
end

-- ÒÀÉÍÈÊ ÎÐÓÆÅÉÍÈÊÀ
function taynik_oruzeinik_spawn()
	alife():create("a_inventory_box29",vector():set(324.62593164063,34.768546295166,-225.35032653809),1235592,3743)
end
function taynik_oruzeinik_have()
	if new_dialog.item_much("chertez_hostel",1) then
		db.actor:give_info_portion("taynik_oruzeinik_have")
		return true
	else
		return false
	end
end

-- ×ÓÆÎÉ ÑÐÅÄÈ ÑÂÎÈÕ
function dolg_peremirie_done()
	sak.create_items_actor("wpn_sv98",1)
	sak.create_items_actor("ammo_7.62x54_ap",1)
	sak.create_items_actor("ammo_7.62x54_7h14",1)
	sak.create_items_actor("ammo_7.62x54_7h1",1)
end
function svoboda_peremirie_have_all()
	return
		new_dialog.item_much("wpn_zastava_m77",1) and
		new_dialog.item_much("device_pda_npc",1)
end
function svoboda_peremirie_have()
	if svoboda_peremirie_have_all() then
		db.actor:give_info_portion("svoboda_peremirie_have")
		return true
	else
		return false
	end
end
function svoboda_peremirie_done()
	sak.out_item_namber("wpn_zastava_m77",1)
	sak.out_item_namber("device_pda_npc",1)
	sak.create_items_actor("chertez_otboinik",1)
	sak.create_items_actor("ammo_7.62x54_ap",3)
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"a_inventory_box62") then
	level.map_add_object_spot_ser(obj.id, "treasure", "Òàéíèê âîðèøêè")
	break
	end
	end
end
function prapor_peremirie()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÃÐÀ×:".."\\n".."%c[255,255,128,128]Âíèìàíèå! Ñòàÿ ñîáàê ïðèáëèæàåòñÿ ê íàøåìó áëîêïîñòó. Âñåì îòêðûòü îãîíü!".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("pseudodog_strong",vector():set(41.923477172852,0.7761105298996,249.45614624023),216019,361)
	alife():create("dog_strong",vector():set(41.923477172852,0.7761105298996,249.45614624023),216019,361)
	alife():create("pseudodog_strong",vector():set(67.135902404785,1.6380740404129,248.72256469727),238305,361)
	alife():create("psy_dog",vector():set(67.135902404785,1.6380740404129,248.72256469727),238305,361)
	alife():create("pseudodog_strong",vector():set(75.341102600098,0.93986558914185,233.73303222656),245649,361)
	alife():create("dog_strong",vector():set(75.341102600098,0.93986558914185,233.73303222656),245649,361)
	alife():create("pseudodog_strong",vector():set(71.715927124023,1.8078030347824,216.76107788086),241998,360)
	alife():create("dog_strong",vector():set(59.486465454102,0.39864405989647,200.6372833252),231828,360)
	alife():create("pseudodog_strong",vector():set(30.549160003662,0.3970482647419,184.50723266602),204503,358)
	alife():create("pseudodog_strong",vector():set(79.963363647461,1.7897566556931,204.26058959961),249240,363)
	alife():create("psy_dog",vector():set(79.963363647461,1.7897566556931,204.26058959961),249240,363)
	alife():create("pseudodog_strong",vector():set(56.592071533203,0.3988234102726,179.17944335938),229242,358)
	alife():create("dog_strong",vector():set(56.592071533203,0.3988234102726,179.17944335938),229242,358)
		amk.start_timer("battle", 0, {"l02_garbage", 32, 1})
end
function borov_peremirie()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÓÊÀØ:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, ñèãíàë îò ìàÿ÷êà ïðîïàë. Â ïîñëåäíèé ðàç îí ïåëåíãîâàë ñ Àãðîïðîìà, èç öåíòðàëüíîãî êîìïëåêñà. Äàëüøå ñàì. Óäà÷è â ïîèñêàõ!".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("leshyi_bandit1",vector():set(93.847518920898,4.3497581481934,130.76100158691),261031,372)
	alife():create("leshyi_bandit2",vector():set(113.95712280273,-4.1736807823181,161.4801940918),277915,374)
	alife():create("leshyi_bandit3",vector():set(125.15713500977,-0.34235778450966,192.02653503418),286703,365)
	alife():create("leshyi_bandit4",vector():set(105.50216674805,8.1998348236084,170.63862609863),272003,363)
	alife():create("leshyi_bandit5",vector():set(105.57238769531,8.1891965866089,161.46002197266),270879,364)
end
function adrenalin_peremirie()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Äîê, åñëè ê âàì çàÿâèòñÿ ñòàëêåð ñ âèíòîâêîé Zastava è â áðîíèêå ñ ïðîòèâîãàçîì, òî ïîñòàðàéòåñü çàäåðæàòü åãî. Îí - âîð, ïîýòîìó áóäüòå âíèìàòåëüíû.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function klesh_npc_spawn()
	sak.create_items_actor("medkit",2)
	local obj = alife():create("klesh_npc",vector():set(-81.709320068359,0.01024854183197,269.99203491211),53490,2164)
	local tbl = amk.read_stalker_params(obj)
	tbl.sid = 21006
	tbl.health = 1
	tbl.updhealth = 0.1
	amk.write_stalker_params(tbl, obj)
end
function delete_klesh_npc()
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"klesh_npc") then
	alife():release(obj,true)
	break
	end
	end
end
function hameleon_spawn()
	alife():create("a_inventory_box62",vector():set(130.78228088379,3.8700365447998,210.7000213623),938498,3732)
	alife():create("hameleon_npc",vector():set(160.15698242188,1.2625328302383,217.37896728516),989807,3732)
	alife():create("leshyi_bandit1",vector():set(137.85934448242,2.8676948547363,190.57604980469),943326,3732)
	alife():create("leshyi_bandit2",vector():set(121.26349639893,3.0832099914551,195.30030822754),922687,3732)
	alife():create("leshyi_bandit3",vector():set(120.06140136719,3.1193594932556,209.41902160645),921496,3732)
	alife():create("leshyi_bandit4",vector():set(131.97058105469,1.8561922311783,224.83433532715),942155,3732)
	alife():create("leshyi_bandit5",vector():set(145.24028015137,3.2873153686523,225.83239746094),963851,3732)
	alife():create("leshyi_bandit1",vector():set(146.81561279297,1.3016885519028,204.95561218262),967264,3732)
	alife():create("leshyi_bandit2",vector():set(137.68411254883,1.5553395748138,206.67185974121),951891,3732)
	alife():create("leshyi_bandit3",vector():set(230.25608825684,-12.25048828125,190.05108642578),1110092,3738)
	alife():create("leshyi_bandit4",vector():set(224.35945129395,-25.449560165405,157.33508300781),1104474,3740)
	alife():create("leshyi_bandit5",vector():set(158.66235351563,-15.32009601593,70.070220947266),987229,3730)
	alife():create("leshyi_bandit3",vector():set(217.61143493652,-25.450353622437,144.41041564941),1085190,3732)
end

-- ÎÕÎÒÀ ÍÀ ÕÈÌÅÐ
function ohota_himera_spawn()
	sak.create_items_actor("ammo_gauss",3)
	sak.create_items_actor("ammo_12x76_zhekan",5)
	alife():create("chimera_weak",vector():set(121.0626373291,0.75061547756195,373.23590087891),228969,2157)
	alife():create("chimera_x_ray",vector():set(111.2544708252,-0.25725439190865,351.86077880859),222438,2157)
	alife():create("electro_chimera",vector():set(98.501480102539,-0.84192538261414,362.82287597656),209830,2157)
	alife():create("chimera_normal",vector():set(74.245971679688,0.87036883831024,341.85437011719),186012,2157)
	alife():create("fire_chimera",vector():set(53.135761260986,1.0702795982361,385.88806152344),165808,2270)
	alife():create("new_electro_chimera",vector():set(15.713806152344,0.30491551756859,377.18023681641),120814,2260)
	alife():create("chimera_strong",vector():set(-18.87043762207,-0.77357816696167,371.73748779297),80511,2156)
	alife():create("chimera_x_ray",vector():set(-55.891212463379,0.62898659706116,363.0270690918),45103,2156)
	alife():create("chimera_weak",vector():set(-29.425003051758,0.91067540645599,339.21966552734),70330,2156)
	alife():create("chimera_black",vector():set(-37.810279846191,1.0343061685562,394.78033447266),61256,2156)
	spawn_restrictor.himera_ohota_sr1()
end
function ohota_himera_done()
	sak.create_items_actor("wpn_val_m2",1)
	sak.create_items_actor("ammo_9x39_sp5",1)
end
function ohota_himera_have(task, info)
     if db.actor:has_info("ohota_himera1_dead") and db.actor:has_info("ohota_himera2_dead") then 
		return db.actor:give_info_portion("ohota_himera_have")
     end
		return false
end

-- ÐÀÐÈÒÅÒÍÎÅ ÎÐÓÆÈÅ
function taynik_gila_have_all()
	return
		new_dialog.item_much("af_pudd_3",1) and
		new_dialog.item_much("wpn_addon_pu_scope",1) and
		new_dialog.item_much("player",1) and
		db.actor:has_info("info_amk_recipt_titan_kolobok")
end
function taynik_gila_have()
	sak.out_item_namber("af_pudd_3",1)
	sak.out_item_namber("wpn_addon_pu_scope",1)
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("player",1)
	db.actor:disable_info_portion("biznes_remove_special_item")
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÑÈÄÎÐÎÂÈ×:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, åñòü íîâîå çàäàíèå. Åñëè òåáå èíòåðåñíî, òî çàãëÿíè êî ìíå â áóíêåð.".."".."\n", nil, "trader", 15000)
	alife():create("a_inventory_box30",vector():set(132.84297180176,10.013258934021,-182.93154907227),331000,926)
	alife():create("bloodsucker_mil",vector():set(97.995475769043,-2.1159904003143,-201.94618225098),293068,928)
	alife():create("oboroten",vector():set(129.0484161377,0.16450992226601,-202.78294372559),325946,928)
	alife():create("bloodsucker_effector",vector():set(166.98896789551,0.45414808392525,-205.57498168945),367959,927)
	alife():create("oboroten",vector():set(124.29865264893,-3.0213623046875,-175.46685791016),321743,925)
end
function taynik_gila_done()
	if new_dialog.item_much("wpn_svt40",2) then
		db.actor:give_info_portion("taynik_gila_done")
		return true
	else
		return false
	end
end

-- ÒÀÉÍÈÊ ÁÀÍÄÈÒÀ Â Õ-18
function raritet_ykut_have_all()
	return
		db.actor:money()>=16000
end
function raritet_ykut_give()
	aem_manager.manage_money(16000, "out")
	sak.create_items_actor("wpn_m1891_30_scope",1)
end
function taynik_bandit_x18_have()
	if wawka_dialog.good_item_have_number("wpn_pps43",2) then
		db.actor:give_info_portion("taynik_bandit_x18_have")
		return true
	else
		return false
	end
end
function grom_npc_spawn()
	alife():create("bloodsucker_hell",vector():set(204.2498626709,7.6741051673889,-235.0611114502),137526,1459)
	local obj = alife():create("grom_npc",vector():set(27.641338348389,-10.942045211792,-280.30341186523),54978,1480)
	local tbl = amk.read_stalker_params(obj)
	tbl.sid = 21008
	tbl.health = 1
	tbl.updhealth = 0.1
	amk.write_stalker_params(tbl, obj)
end

-- ÏÐÎÒÈÂÎßÄÈÅ ÄËß ÃÐÎÌÀ
function grom_npc_hit()
	local obj
	for a=1,65535,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"grom_npc") then
            local h = hit()
            h.power = 10
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0
            h.draftsman = obj
            h.type = hit.strike
            obj:hit (h)
	break
	end
	end
end
function grom_poison_start()
	alife():create("zanoza_strong",vector():set(-37.977313995361,-0.77621936798096,197.82099914551),157494,2883)
	alife():create("zanoza_strong",vector():set(134.33282470703,-0.00040236115455627,59.530170440674),296401,2885)
	alife():create("zanoza_strong",vector():set(163.15162658691,-0.0033996403217316,-112.05535125732),319101,2884)
	alife():create("zanoza_strong",vector():set(-9.3974199295044,11.23003578186,-14.778720855713),180623,2882)
	alife():create("zanoza_strong",vector():set(-201.86605834961,-5.4160709381104,3.2039270401001),27960,2881)
	alife():create("zanoza_strong",vector():set(360.30374145508,-49.012420654297,-325.11083984375),98348,2068)
	alife():create("zanoza_strong",vector():set(465.07382202148,-52.622299194336,-202.62730407715),152400,2059)
	alife():create("zanoza_strong",vector():set(360.30374145508,-49.012420654297,-325.11083984375),98348,2068)
	alife():create("zanoza_strong",vector():set(465.07382202148,-52.622299194336,-202.62730407715),152400,2059)
	alife():create("vypolzen",vector():set(-37.977313995361,-0.77621936798096,197.82099914551),157494,2883)
	alife():create("vypolzen",vector():set(134.33282470703,-0.00040236115455627,59.530170440674),296401,2885)
	alife():create("vypolzen",vector():set(163.15162658691,-0.0033996403217316,-112.05535125732),319101,2884)
	alife():create("vypolzen",vector():set(-9.3974199295044,11.23003578186,-14.778720855713),180623,2882)
	alife():create("vypolzen",vector():set(-201.86605834961,-5.4160709381104,3.2039270401001),27960,2881)
	alife():create("vypolzen_red",vector():set(360.30374145508,-49.012420654297,-325.11083984375),98348,2068)
	alife():create("vypolzen_red",vector():set(465.07382202148,-52.622299194336,-202.62730407715),152400,2059)
	alife():create("vypolzen_red",vector():set(360.30374145508,-49.012420654297,-325.11083984375),98348,2068)
	alife():create("vypolzen_red",vector():set(465.07382202148,-52.622299194336,-202.62730407715),152400,2059)
end
function grom_poison_have_all()
	return
		new_dialog.item_much("flower_ameliya",1) and
		new_dialog.item_much("mushroom",1) and
		new_dialog.item_much("mutant_zanoza_leg",2) and
		new_dialog.item_much("mutant_krovosos_jaw",2)
end
function grom_poison_have()
	if grom_poison_have_all() then
		db.actor:give_info_portion("grom_poison_have")
		return true
	else
		return false
	end
end
function den_poison()
	sak.create_items_actor("bomba_small",5)
	sak.create_items_actor("detonator",2)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."Ë¸íüêà Ñèâàðü:".."\\n".."%c[255,255,128,128]Îãî! Ñþäà áåæèò òàáóí ìóòàíòîâ. Âèäèìî èõ êòî-òî ñïóãíóë. Ðàñ÷åõëèòå ñòâîëû, æèâåå!".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("boar_strong",vector():set(381.9997253418,2.8477914333344,240.14302062988),389464,3546)
	alife():create("spider",vector():set(381.9997253418,2.8477914333344,240.14302062988),389464,3546)
	alife():create("rotan",vector():set(377.41180419922,3.3592522144318,270.40106201172),385785,3540)
	alife():create("tushkano_strong",vector():set(391.32922363281,3.7337937355042,284.58444213867),396715,3540)
	alife():create("vypolzen",vector():set(391.32922363281,3.7337937355042,284.58444213867),396715,3540)
	alife():create("flesh_swamp",vector():set(405.70031738281,3.3201088905334,290.41818237305),407462,3549)
	alife():create("rotan",vector():set(405.70031738281,3.3201088905334,290.41818237305),407462,3549)
	alife():create("flesh_normal",vector():set(431.84643554688,2.4884872436523,281.34634399414),425778,3549)
	alife():create("vypolzen",vector():set(431.84643554688,2.4884872436523,281.34634399414),425778,3549)
		amk.start_timer("battle", 0, {"marsh", 32, 1})
end
function kalmyk_poison_have()
	return
		new_dialog.item_much("bomba_small",5) and
		new_dialog.item_much("detonator",2)
end
function kalmyk_poison()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("bomba_small",5)
	sak.out_item_namber("detonator",2)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.create_items_actor("flower_ameliya",1)
end
function start_doc_poison(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	amk.save_variable("doc_poison", gtime + math.random(4, 4) * 60)
	sak.out_item_namber("flower_ameliya",1)
	sak.out_item_namber("mushroom",1)
	sak.out_item_namber("mutant_zanoza_leg",2)
	sak.out_item_namber("mutant_krovosos_jaw",2)
end
function is_doc_poison(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("doc_poison", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_doc_poison(first_speaker, second_speaker)
	sak.create_items_actor("anti_poison",1)
	amk.del_variable("doc_poison")
	alife():create("chimera_x_ray",vector():set(408.07000732422,-48.601119995117,34.707225799561),128921,1922)
	alife():create("chimera_weak",vector():set(394.8444519043,-50.000492095947,11.658631324768),121548,1864)
	alife():create("chimera_strong",vector():set(358.22021484375,-51.085666656494,-13.143290519714),97509,1928)
	alife():create("electro_chimera",vector():set(334.88632202148,-49.156196594238,-1.5512464046478),84368,1928)
	alife():create("chimera_black",vector():set(334.88632202148,-49.156196594238,-1.5512464046478),84368,1928)
	alife():create("bear",vector():set(334.88632202148,-49.156196594238,-1.5512464046478),84368,1928)
	alife():create("bloodsucker_mil",vector():set(73.524215698242,0.57566320896149,-94.572509765625),34954,1956)
	alife():create("oboroten",vector():set(57.869758605957,-0.20152156054974,-82.05891418457),29907,1956)
	alife():create("vypolzen",vector():set(87.111381530762,-9.6693658828735,-227.85090637207),84643,1473)
	alife():create("vypolzen",vector():set(87.111381530762,-9.6693658828735,-227.85090637207),84643,1473)
	alife():create("vypolzen",vector():set(87.111381530762,-9.6693658828735,-227.85090637207),84643,1473)
	alife():create("new_electro_chimera",vector():set(95.036575317383,0.025589466094971,-41.40221786499),89286,1515)
	alife():create("fire_chimera",vector():set(95.036575317383,0.025589466094971,-41.40221786499),89286,1515)
	alife():create("karlito",vector():set(135.74801635742,0.049722641706467,38.074501037598),115255,1523)
	alife():create("fracture_strong",vector():set(135.74801635742,0.049722641706467,38.074501037598),115255,1523)
	alife():create("fracture_master",vector():set(135.74801635742,0.049722641706467,38.074501037598),115255,1523)
	alife():create("fracture_master",vector():set(135.74801635742,0.049722641706467,38.074501037598),115255,1523)
	alife():create("fracture_karlik",vector():set(135.74801635742,0.049722641706467,38.074501037598),115255,1523)
	alife():create("fracture_karlik",vector():set(135.74801635742,0.049722641706467,38.074501037598),115255,1523)
	local gtime = amk.game_minutes()
	amk.save_variable("yd_poison", gtime + math.random(3, 3) * 60)
end
function isnt_yd_poison(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("yd_poison", 0)
	if gtime >= ftime and 	new_dialog.item_much("anti_poison",1) then
		return true
	else
		return false
	end
end
function is_yd_poison(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("yd_poison", 0)
	if gtime <= ftime and new_dialog.item_much("anti_poison",1) then
		return true
	else
		return false
	end
end
function clear_yd_poison(first_speaker, second_speaker)
	alife():create("a_inventory_box31",vector():set(10.851037979126,-6.828094959259,-5.343409538269),4293,1135)
	alife():create("m_poltergeist_strong_flame",vector():set(21.456289291382,-10.829187393188,-3.260228395462),6011,1137)
	alife():create("m_poltergeist_dd",vector():set(2.1404538154602,4.1847920417786,-4.4002332687378),3072,1124)
	alife():create("burer_build",vector():set(2.1404538154602,4.1847920417786,-4.4002332687378),3072,1124)
	alife():create("polter_xray",vector():set(-12.21185874939,4.1878695487976,7.7575335502625),1504,1126)
	alife():create("karlito",vector():set(-12.21185874939,4.1878695487976,7.7575335502625),1504,1126)
	alife():create("m_poltergeist_strong_flame",vector():set(4.8403067588806,4.201735496521,-24.369142532349),3433,1115)
	alife():create("poltergeist_build",vector():set(4.8403067588806,4.201735496521,-24.369142532349),3433,1115)
	alife():create("electro_polter",vector():set(14.504388809204,-16.343675613403,36.708381652832),5046,1160)
	alife():create("m_poltergeist_normal_tele",vector():set(15.898313522339,-12.428829193115,22.685440063477),5263,1155)
	alife():create("fracture_karlik",vector():set(24.798343658447,-10.821328163147,-24.532497406006),6373,1139)
	sak.out_item_namber("anti_poison",1)
	sak.create_items_actor("device_pda_npc",1)
		amk.del_variable("yd_poison")
end
function taynik_grom_spawn()
	local obj = alife():create("a_inventory_box32",vector():set(13.077070236206,-4.9876756668091,-288.18237304688),194885,842)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Òàéíèê Ãðîìà")
end
function delete_grom_npc()
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"grom_npc") then
	alife():release(obj,true)
	break
	end
	end
end

-- ÇÀÃÀÄÊÀ ÎÐÓÆÅÉÍÈÊÀ
function chertez_zagadka_have_all()
	return
		new_dialog.item_much("hostel_pda",1)
end
function chertez_zagadka_have()
	if chertez_zagadka_have_all() then
		return db.actor:give_info_portion("chertez_zagadka_have") and 
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Âàñèëèé, ÿ ðàçãàäàë çàãàäêó, íî ãëóøèòåëÿ íå íàø¸ë. Âìåñòî íåãî ó ìåíÿ ÏÄÀ ñ êó÷åé öèôð, ïîõîæèõ íà êîîðäèíàòû.".."".."\n", nil, nil, 15000) and 
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÂÀÑÈËÈÉ:".."\\n".."%c[255,255,128,128]Ñîâåòóþ îáðàòèòüñÿ ê Ñâèáëîâó. Ó íåãî äîëæíû áûòü ïîäõîäÿùèå êàðòû, ïî êîòîðûì ìîæíî îïðåäåëèòü ìåñòî.".."".."\n", 15, nil, 15000)
     	end
		return false
end
function chertez_zagadka_spawn()
	alife():create("a_inventory_box33",vector():set(47.25463104248,4.750563621521,-269.29449462891),260685,3756)
end
function checking_taken_item78(obj)
 	if not has_alife_info("pda_zagadka_take") and obj:section()=="hostel_teleport" then
	alife():create("controller_babka",vector():set(49.495018005371,-8.2388610839844,26.886642456055),1045244,3677)
	alife():create("controller_babka",vector():set(69.005332946777,-6.8325266838074,-20.090484619141),1082716,3679)
	alife():create("m_controller_act",vector():set(-43.343208312988,-6.268753528595,3.3005640506744),858968,3679)
	alife():create("kontrik_labx16",vector():set(-30.279602050781,-6.9757218360901,78.79426574707),886152,3677)
	alife():create("controller_babka",vector():set(32.313610076904,-1.200489282608,85.397064208984),1009387,3677)
	alife():create("m_controller_act",vector():set(79.297271728516,-6.9217410087585,61.579040527344),1101555,3677)
	alife():create("controller_senator",vector():set(55.584808349609,-5.2141332626343,36.911991119385),1056201,3677)
	alife():create("vodjanoj",vector():set(49.495018005371,-8.2388610839844,26.886642456055),1045244,3677)
	alife():create("vodjanoj",vector():set(69.005332946777,-6.8325266838074,-20.090484619141),1082716,3679)
	alife():create("vodjanoj",vector():set(-43.343208312988,-6.268753528595,3.3005640506744),858968,3679)
	alife():create("vodjanoj",vector():set(-30.279602050781,-6.9757218360901,78.79426574707),886152,3677)
	alife():create("vodjanoj",vector():set(32.313610076904,-1.200489282608,85.397064208984),1009387,3677)
	alife():create("vodjanoj",vector():set(79.297271728516,-6.9217410087585,61.579040527344),1101555,3677)
	alife():create("vodjanoj",vector():set(55.584808349609,-5.2141332626343,36.911991119385),1056201,3677)
	alife():create("af_inferno",vector():set(18.298624038696,-0.73494809865952,68.956848144531),981115,3677)
		  alife():create("a_inventory_box35",vector():set(5.6931066513062,-6.828727722168,-5.3527145385742),3531,1135)
		  alife():create("m_poltergeist_strong_flame",vector():set(21.456289291382,-10.829187393188,-3.260228395462),6011,1137)
		  alife():create("m_poltergeist_dd",vector():set(-9.4044857025146,-10.814796447754,28.027128219604),1749,1145)
		  alife():create("burer_build",vector():set(-9.4044857025146,-10.814796447754,28.027128219604),1749,1145)
		  alife():create("poltergeist_build",vector():set(-11.091264724731,-10.815608024597,-11.487413406372),1554,1151)
		  alife():create("carlic",vector():set(-12.21185874939,4.1878695487976,7.7575335502625),1504,1126)
		  alife():create("carlic_strong",vector():set(16.641803741455,4.1901483535767,-12.535409927368),5337,1117)
		  alife():create("polter_xray",vector():set(16.641803741455,4.1901483535767,-12.535409927368),5337,1117)
		  alife():create("m_poltergeist_normal_tele",vector():set(16.641803741455,4.1901483535767,-12.535409927368),5337,1117)
		  alife():create("burer_electro",vector():set(4.8403067588806,4.201735496521,-24.369142532349),3433,1115)
		  alife():create("karlito",vector():set(14.504388809204,-16.343675613403,36.708381652832),5046,1160)
		  alife():create("carlic_weak",vector():set(15.898313522339,-12.428829193115,22.685440063477),5263,1155)
		  alife():create("electro_polter",vector():set(15.898313522339,-12.428829193115,22.685440063477),5263,1155)
	amk.start_timer("battle", 0, {"zaton", 30, 1})
		db.actor:give_info_portion("pda_zagadka_take")
	end
end
function checking_taken_item79(obj)
 	if not has_alife_info("pda_zagadka_done") and obj:section()=="wpn_addon_sil_hostel" then
		db.actor:give_info_portion("no_pnv")
		sak.out_item_namber("device_torch",1)
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Òâîþ ìàòü! Ôîíàðèê ñäîõ è â ñàìûé íóæíûé ìîìåíò! Áîðîâ, ó òåáÿ ëèøíèé ôîíàðèê íå çàâàëÿëñÿ?".."".."\n", nil, nil, 15000)
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÁÎÐÎÂ:".."\\n".."%c[255,255,128,128]Åñòü îäèí, çàõîäè. Ïÿòü êîñàðåé ñ ñîáîé çàõâàòè.".."".."\n", 15, nil, 15000)
		db.actor:give_info_portion("pda_zagadka_done")
	end
end
function fonarik_borov_have()
	return
		db.actor:money()>=5000
end
function fonarik_borov_give()
	aem_manager.manage_money(5000, "out")
	if db.actor:item_in_slot(9) then
		alife():release(alife():object(db.actor:item_in_slot(9):id()))
	end
	sak.create_items_actor("device_torch",1)
end

-- ÑÊÀÍÅÐÛ ÀÍÎÌÀËÈÉ
function sviblov_hostel()
	sak.out_item_namber("hostel_pda",1)
	local obj = alife():create("anomaly_scaner",vector():set(399.73266601563,-0.222242385149,439.69329833984),1626374,3698)
	local wobj = alife():create("anomaly_scaner",vector():set(276.76071166992,7.0410695075989,-275.92123413086),1438538,3688)
	local robj = alife():create("anomaly_scaner",vector():set(9.9350433349609,8.918420791626,-394.45678710938),963500,3678)
	local tobj = alife():create("anomaly_scaner",vector():set(-69.857795715332,12.185021400452,-167.75764465332),818987,3679)
	local sobj = alife():create("anomaly_scaner",vector():set(-297.36456298828,32.015117645264,-161.92776489258),353054,3672)
	local dobj = alife():create("anomaly_scaner",vector():set(-446.97137451172,-5.7243623733521,183.66635131836),116123,3660)
	local fobj = alife():create("anomaly_scaner",vector():set(-205.27914428711,-2.7641954421997,-48.89183807373),20773,3749)
	local gobj = alife():create("anomaly_scaner",vector():set(131.40702819824,29.591758728027,233.10429382324),359193,3769)
	local hobj = alife():create("anomaly_scaner",vector():set(222.13249206543,6.2150678634644,-94.549850463867),1095990,3736)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Ñêàíåð àíîìàëèé")
	level.map_add_object_spot_ser(wobj.id, "crlc_big", "Ñêàíåð àíîìàëèé")
	level.map_add_object_spot_ser(robj.id, "crlc_big", "Ñêàíåð àíîìàëèé")
	level.map_add_object_spot_ser(tobj.id, "crlc_big", "Ñêàíåð àíîìàëèé")
	level.map_add_object_spot_ser(sobj.id, "crlc_big", "Ñêàíåð àíîìàëèé")
	level.map_add_object_spot_ser(dobj.id, "crlc_big", "Ñêàíåð àíîìàëèé")
	level.map_add_object_spot_ser(fobj.id, "crlc_big", "Ñêàíåð àíîìàëèé")
	level.map_add_object_spot_ser(gobj.id, "crlc_big", "Ñêàíåð àíîìàëèé")
	level.map_add_object_spot_ser(hobj.id, "crlc_big", "Ñêàíåð àíîìàëèé")
	alife():create("deathclaw_normal",vector():set(427.05883789063,-7.0015120506287,367.36413574219),1666153,3697)
	alife():create("controller_senator",vector():set(-63.714324951172,0.95097863674164,-157.76594543457),816023,3679)
	alife():create("controller_babka",vector():set(-63.714324951172,0.95097863674164,-157.76594543457),816023,3679)
	alife():create("zanoza_strong",vector():set(292.75814819336,-7.0557227134705,-187.72077941895),1464669,3688)
	alife():create("zombie_hell15",vector():set(-22.194707870483,17.521001815796,-358.47109985352),901739,3678)
	alife():create("zombie_plague_komar",vector():set(-22.194707870483,17.521001815796,-358.47109985352),901739,3678)
	alife():create("oboroten",vector():set(-22.194707870483,17.521001815796,-358.47109985352),901739,3678)
	alife():create("bloodsucker_mil",vector():set(-22.194707870483,17.521001815796,-358.47109985352),901739,3678)
	alife():create("oboroten",vector():set(427.05883789063,-7.0015120506287,367.36413574219),1666153,3697)
	alife():create("bloodsucker_mil",vector():set(292.75814819336,-7.0557227134705,-187.72077941895),1464669,3688)
	alife():create("bloodsucker_child",vector():set(427.05883789063,-7.0015120506287,367.36413574219),1666153,3697)
	alife():create("oboroten",vector():set(-63.714324951172,0.95097863674164,-157.76594543457),816023,3679)
	alife():create("zombie_hell15",vector():set(-22.194707870483,17.521001815796,-358.47109985352),901739,3678)
	alife():create("new_hell",vector():set(427.05883789063,-7.0015120506287,367.36413574219),1666153,3697)
	alife():create("new_hell",vector():set(-63.714324951172,0.95097863674164,-157.76594543457),816023,3679)
	alife():create("zanoza_strong",vector():set(292.75814819336,-7.0557227134705,-187.72077941895),1464669,3688)
	alife():create("gigant_virus_strong",vector():set(-348.22875976563,6.2014136314392,107.48751068115),259605,3666)
	alife():create("gigant_big_strong",vector():set(-348.22875976563,6.2014136314392,107.48751068115),259605,3666)
	alife():create("bibliotekar_black",vector():set(-302.64886474609,23.639047622681,-198.69206237793),342134,3671)
	alife():create("bibliotekar",vector():set(-302.64886474609,23.639047622681,-198.69206237793),342134,3671)
	alife():create("psyonik",vector():set(-302.64886474609,23.639047622681,-198.69206237793),342134,3671)
	alife():create("psyonik",vector():set(-302.64886474609,23.639047622681,-198.69206237793),342134,3671)
	alife():create("bear",vector():set(223.24566650391,1.4627097845078,-55.380416870117),1098457,3736)
	alife():create("chimera_wolf",vector():set(223.24566650391,1.4627097845078,-55.380416870117),1098457,3736)
	alife():create("chimera_black",vector():set(223.24566650391,1.4627097845078,-55.380416870117),1098457,3736)
	alife():create("chimera_weak",vector():set(223.24566650391,1.4627097845078,-55.380416870117),1098457,3736)
	alife():create("electro_chimera",vector():set(223.24566650391,1.4627097845078,-55.380416870117),1098457,3736)
	alife():create("chimera_x_ray",vector():set(223.24566650391,1.4627097845078,-55.380416870117),1098457,3736)
	alife():create("new_electro_chimera",vector():set(223.24566650391,1.4627097845078,-55.380416870117),1098457,3736)
	alife():create("fire_chimera",vector():set(223.24566650391,1.4627097845078,-55.380416870117),1098457,3736)
end
function sviblov_hostel_have_all()
	return
		new_dialog.item_much("anomaly_scaner",9)
end
function sviblov_hostel_have()
	if sviblov_hostel_have_all() then
		sviblov_hostel_delete()
		return true
	else
		return false
	end
end
function sviblov_hostel_delete()
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"anomaly_scaner") then
	level.map_remove_object_spot(obj.id,"crlc_big")
	end
	end
	db.actor:give_info_portion("sviblov_hostel_have")
end
function sviblov_hostel_done()
	sak.out_item_namber("anomaly_scaner",9)
	sak.create_items_actor("wpn_ak9",1)
	sak.create_items_actor("ammo_9x39_ap",3)
	alife():create("a_inventory_box34",vector():set(8.4438180923462,9.4718999862671,29.567429733276),958182,3677)
	table_treasure_l.treasure()
end

-- ÃËÀÇÀ ÂÎÐÎÍÀ
function voron_kostya()
	sak.create_items_actor("af_eye_voron",3)
end
function voron_eyes_start()
	sak.out_item_namber("af_eye_voron",3)
end
function voron_eyes_have_all()
	return
		new_dialog.item_much("af_eye_voron",3)
end
function voron_eyes_have()
	if voron_eyes_have_all() then
		db.actor:give_info_portion("voron_eyes_have")
		return true
	else
		return false
	end
end
function voron_eyes_done()
	sak.out_item_namber("af_eye_voron",3)
	sak.create_items_actor("wpn_b94",1)
end
function voron_kostya_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_b94",1)
end
function voron_kostya_done()
	sak.out_item_namber("wpn_b94",1)
	aem_manager.manage_money(15000, "in")
	sak.create_items_actor("wpn_kedr",1)
	sak.create_items_actor("ammo_9x18_pmm",10)
	sak.create_items_actor("grenade_m61",7)
	sak.create_items_actor("grenade_fb",2)
end

-- ÎÁÐÅÇ ÄËß ÄÝÍÀ
function obrez_den_spawn()
	alife():create("wpn_winch1887",vector():set(278.95303344727,-3.2381443977356,0.45457279682159),379788,390)
end
function checking_taken_item80(obj)
 	if not has_alife_info("obrez_den_spawn") and db.actor:has_info("yurik_pomer_plan_have") and obj:section()=="wpn_winch1887" then
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Âîðîí, òû ìóäàê! Íåò çäåñü íèêàê...".."".."\n", nil, nil, 30000)
	alife():create("vypolzen_red",vector():set(265.90823364258,-4.9551205635071,13.444429397583),375448,390)
	alife():create("vypolzen_red",vector():set(267.84860229492,-2.094034910202,-12.128465652466),375690,390)
	alife():create("vypolzen_red",vector():set(247.9549407959,-4.5593657493591,-8.482515335083),367415,389)
	alife():create("vypolzen_red",vector():set(242.45001220703,-2.2825412750244,6.8072199821472),364426,389)
	alife():create("vypolzen_red",vector():set(294.95809936523,3.5624873638153,3.7853317260742),381411,390)
	alife():create("m_poltergeist_dd",vector():set(222.04216003418,-3.8564631938934,-2.5798375606537),356059,386)
	alife():create("electro_polter",vector():set(222.04216003418,-3.8564631938934,-2.5798375606537),356059,386)
	alife():create("m_controller_act",vector():set(222.04216003418,-3.8564631938934,-2.5798375606537),356059,386)
		db.actor:give_info_portion("obrez_den_spawn")
	end
end

-- ÁÈÍÎÊËÜ ÊÝÏÀ
local kep_binocle={
    {position={x=-108.36419677734,y=11.75581073761,z=36.088520050049},gv=1614,lv=208378},
    {position={x=86.205490112305,y=6.2770528793335,z=11.850409507751},gv=1560,lv=381670},
    {position={x=0.13255213201046,y=7.0383582115173,z=-63.294742584229},gv=1591,lv=308676},
    {position={x=-68.89567565918,y=9.1423673629761,z=-32.032817840576},gv=1605,lv=243071},
    {position={x=-19.919086456299,y=9.673511505127,z=73.526695251465},gv=1620,lv=287585},
    {position={x=6.0913596153259,y=-6.2954802513123,z=11.201170921326},gv=1582,lv=316464}, -- â êàçàðìå
    {position={x=-50.131267547607,y=-9.394757270813,z=30.944446563721},gv=1607,lv=258510}, -- ðÿäîì ñ Ìàêñîì
    {position={x=-38.825351715088,y=-6.330904006958,z=-18.877733230591},gv=1605,lv=267662} -- ðÿäîì ñ Øóðóïîì
}
function binocle_kep_spawn(actor,npc,p1,p2)
    local a = kep_binocle[math.random(table.getn(kep_binocle))]
    local obj = alife():create("kep_binocular", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
end
function binocle_kep_have_all()
	return
		new_dialog.item_much("kep_binocular",1) and
		new_dialog.item_much("wpn_zastava_m76",1)
end
function binocle_kep_have()
	if binocle_kep_have_all() then
		db.actor:give_info_portion("binocle_kep_have")
		return true
	else
		return false
	end
end
function binocle_kep_done()
	sak.out_item_namber("kep_binocular",1)
	sak.out_item_namber("wpn_zastava_m76",1)
	sak.create_items_actor("wpn_g36_m1",1)
end

-- ÍÅÈÇÂÅÑÒÍÛÅ ×ÈÏÛ
function find_chip_have_all()
	return
		new_dialog.item_much("cube_chip",22) and
		new_dialog.item_much("cube_pda",1)
end
function find_chip_have()
	if new_dialog.item_much("cube_chip",22) then
		find_chip_sms()
		return true
	else
		return false
	end
end
function find_chip_sms()
	db.actor:give_info_portion("find_chip_have")
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Òàê-òàê, è ÷òî ìíå òåïåðü ñ ýòèìè ÷èïàìè äåëàòü? Õì, ìîæåò, ïðîôåññîð Êë¸íîâ ðàçáåð¸òñÿ, ÷òî ê ÷åìó?".."".."\n", nil, nil, 15000)
end
function find_chip_done()
	sak.out_item_all("cube_chip")
	sak.out_item_namber("cube_pda",1)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÀÐÍÈ:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, áóäåøü â Áàðå, íàéäè ìåíÿ. Ïîãîâîðèòü íóæíî.".."".."\n", nil, "arena", 15000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"dragunof_npc") then
	alife():release(obj,true)
	break
	end
	end
end

-- ÂÎÑÑÒÀÍÎÂËÅÍÈÅ ÄÀÍÍÛÕ
function fantoms_pda_start()
	sak.create_items_actor("spekulyant_pda",1)
end
function fantoms_pda_have_all()
	return
		new_dialog.item_much("spekulyant_pda",1)
end
function fantoms_saharov()
	sak.out_item_namber("spekulyant_pda",1)
end
function fantoms_akim_have()
	return
		db.actor:money()<=16000
end
function fantoms_akim()
	aem_manager.manage_money(16000, "out")
end
function fantoms_docent_new()
	aem_manager.manage_money(20000, "in")
end
function start_saharov_soft(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	amk.save_variable("saharov_soft", gtime + math.random(23, 24) * 60)
end
function is_saharov_soft(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("saharov_soft", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_saharov_soft(first_speaker, second_speaker)
	sak.create_items_actor("spekulyant_pda",1)
	amk.del_variable("saharov_soft")
end
function fantoms_pda_done()
	sak.out_item_namber("spekulyant_pda",1)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÊÎÌÀÍÄÈÐ ÃÐÓÏÏÛ ÌÎÍÎËÈÒÀ:".."\\n".."%c[255,255,128,128]ÊÁÎ çà÷èùåí îò ìóòàíòîâ. 1 âçâîä îñòà¸òñÿ â ÊÁÎ äëÿ îõðàíû ïåðèìåòðà, 2 âçâîä çà÷èùàåò Õ-8, 3 âçâîä îáåñïå÷èâàåò ïðèêðûòèå ó÷¸íûõ. Íàó÷íàÿ ãðóïïà ìîæåò âûäâèíóòüñÿ â ëàáîðàòîðèþ ïîñëå ïîäòâåðæäåíèÿ çà÷èñòêè.".."".."\n", 4, "monolith", 25000)
	alife():create("monolith_x8_veteran",vector():set(24.868602752686,4.6726241111755,288.27783203125),231198,3760)
	alife():create("monolith_x8_regular",vector():set(9.2240390777588,4.4947457313538,288.05264282227),209471,3760)
	alife():create("monolith_x8_master",vector():set(18.446840286255,4.4951233863831,259.21157836914),221429,3760)
	alife():create("monolith_x8_regular",vector():set(5.1978874206543,4.5322318077087,258.26794433594),204146,3760)
	alife():create("monolith_x8_veteran",vector():set(-5.7988486289978,4.494903087616,274.72830200195),189954,3760)
	alife():create("monolith_x8_regular",vector():set(3.4441447257996,0.64153909683228,259.84329223633),202311,3760)
	alife():create("monolith_x8_veteran",vector():set(-5.7926816940308,0.74474966526031,281.20812988281),208577,3760)
	alife():create("monolith_x8_veteran",vector():set(4.4216351509094,0.629319190979,285.71395874023),208586,3760)
	alife():create("monolith_x8_regular",vector():set(21.097372055054,0.62938392162323,263.70324707031),225376,3760)
	alife():create("monolith_x8_regular",vector():set(22.192449569702,0.63051915168762,277.70166015625),227331,3760)
	alife():create("monolith_x8_white",vector():set(-74.261611938477,-15.938667297363,109.63367462158),4541,3846)
	alife():create("monolith_x8_master",vector():set(-82.000213623047,-15.939037322998,91.972259521484),2957,3846)
	alife():create("tank_spawn_zasada1",vector():set(-92.541839599609,-15.907661437988,83.596954345703),1431,3831)
	alife():create("monolith_x8_veteran",vector():set(-96.030426025391,-20.160455703735,82.356002807617),1128,3838)
	alife():create("monolith_x8_regular",vector():set(-76.351470947266,-20.169458389282,81.10472869873),4009,3838)
	alife():create("monolith_x8_veteran",vector():set(-64.944244384766,-16.003351211548,57.503341674805),5615,3850)
	alife():create("monolith_x8_veteran",vector():set(-47.154926300049,-20.556657791138,66.482383728027),6726,3850)
	alife():create("monolith_x8_regular",vector():set(-55.495922088623,-16.003675460815,63.049205780029),6370,3850)
	alife():create("tank_spawn_zasada2",vector():set(-80.862487792969,-20.142219543457,67.784591674805),3236,3847)
	alife():create("monolith_x8_veteran",vector():set(-68.541946411133,-20.166732788086,59.584758758545),5250,3847)
	alife():create("monolith_x8_master",vector():set(-64.732620239258,-22.864347457886,68.288513183594),5712,3847)
	alife():create("monolith_x8_regular",vector():set(-74.289627075195,-16.205453872681,63.046852111816),4395,3841)
	alife():create("monolith_x8_veteran",vector():set(-77.776191711426,-10.406509399414,60.019393920898),3639,3843)
	alife():create("monolith_x8_regular",vector():set(-83.163963317871,-28.627393722534,68.323677062988),2706,3842)
	alife():create("monolith_x8_white",vector():set(-114.32563781738,-28.485063552856,82.035804748535),101,3832)
	alife():create("monolith_x8_veteran",vector():set(-89.892532348633,-28.484575271606,93.735305786133),1750,3833)
	alife():create("monolith_x8_regular",vector():set(-64.665451049805,-28.28346824646,73.226509094238),5731,3840)
	alife():create("tank_spawn_zasada3",vector():set(-84.927574157715,-24.324573516846,88.851631164551),2538,3839)
	alife():create("tank_x003",vector():set(-84.927574157715,-24.324573516846,88.851631164551),2538,3839)
	alife():create("monolith_x8_veteran",vector():set(-87.650085449219,-24.324962615967,69.191436767578),2033,3835)
	alife():create("monolith_x8_master",vector():set(-63.442504882813,-24.205516815186,73.735198974609),5811,3840)
	alife():create("monolith_x8_regular",vector():set(-81.374725341797,-32.290393829346,94.475189208984),2965,3844)
	alife():create("monolith_x8_veteran",vector():set(-78.972602844238,-28.484264373779,95.043426513672),3436,3840)
	alife():create("monolith_x8_regular",vector():set(-59.06640625,-20.104423522949,78.587173461914),6210,3840)
	alife():create("monolith_x8_veteran",vector():set(-56.917633056641,-22.014318466187,94.011215209961),6316,3840)
	alife():create("monolith_x8_white",vector():set(-62.355743408203,-17.559904098511,102.41075134277),5991,3840)
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
	if obj and (string.find(obj:name(),"monolith_x8_regular") or string.find(obj:name(),"monolith_x8_veteran") or string.find(obj:name(),"monolith_x8_master")) then
            local h = hit()
            h.power = 0.3
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0
            h.draftsman = db.actor
            h.type = hit.explosion
            obj:hit (h)
	end
	end
end
function kogot_npc_spawn()
	alife():create("monolith_x8_regular",vector():set(-47.491939544678,8.1116828918457,410.00741577148),1093,3773)
	alife():create("monolith_x8_veteran",vector():set(-17.059692382813,9.4075517654419,416.83032226563),6319,3773)
	alife():create("monolith_x8_regular",vector():set(-23.586944580078,8.006368637085,400.08648681641),4954,3777)
	alife():create("monolith_x8_master",vector():set(7.3657188415527,8.0671062469482,424.23297119141),18444,3791)
	alife():create("monolith_x8_regular",vector():set(16.703966140747,9.4076795578003,395.13610839844),24464,3802)
	alife():create("monolith_x8_veteran",vector():set(2.3473291397095,8.0355081558228,358.91836547852),14948,3793)
	alife():create("monolith_x8_regular",vector():set(-2.5625591278076,9.4075832366943,302.25347900391),11620,3789)
	alife():create("monolith_x8_veteran",vector():set(18.155214309692,9.4076662063599,299.06008911133),25383,3799)
	alife():create("monolith_x8_veteran",vector():set(11.383061408997,8.0624513626099,268.34310913086),20120,3799)
	alife():create("tank_spawn_zasada5",vector():set(29.308557510376,9.4075927734375,249.23361206055),29615,3798)
	alife():create("monolith_x8_regular",vector():set(-3.2524812221527,9.4066677093506,209.15512084961),10977,3798)
	alife():create("monolith_x8_master",vector():set(15.705564498901,9.406533241272,199.05108642578),23247,3804)
	alife():create("monolith_x8_regular",vector():set(40.236598968506,4.7029986381531,182.65647888184),32720,3814)
	alife():create("monolith_x8_veteran",vector():set(57.646690368652,-0.00060415267944336,130.02467346191),37939,3824)
	alife():create("monolith_x8_master",vector():set(50.834247589111,1.8784996271133,97.530426025391),37353,3819)
	alife():create("monolith_x8_veteran",vector():set(25.901075363159,1.0937961339951,84.996879577637),29207,3805)
	alife():create("tank_spawn_zasada5",vector():set(-2.3800706863403,0.072869777679443,61.181934356689),12021,3784)
	alife():create("monolith_x8_veteran",vector():set(39.957397460938,-0.0016094446182251,31.892139434814),32635,3806)
	alife():create("tank_spawn_zasada2",vector():set(16.189329147339,1.4349755048752,-19.893877029419),23612,3800)
	alife():create("monolith_x8_master",vector():set(3.7389757633209,1.6145906448364,3.3961777687073),15148,3795)
	alife():create("monolith_x8_veteran",vector():set(46.234302520752,1.5906785726547,10.734931945801),32379,3808)
	alife():create("monolith_x8_regular",vector():set(66.093231201172,1.8950482606888,12.360796928406),32615,3808)
	alife():create("monolith_x8_master",vector():set(65.513549804688,3.0921936035156,2.8117752075195),39424,3808)
	alife():create("monolith_x8_veteran",vector():set(58.193687438965,9.509388923645,-0.37226703763008),39736,3808)
	alife():create("monolith_x8_white",vector():set(27.783750534058,11.471328735352,0.029767077416182),39736,3808)
	alife():create("tank_spawn_zasada3",vector():set(60.377994537354,1.593233704567,-15.606519699097),33587,3807)
	alife():create("tank_spawn_zasada6",vector():set(41.57320022583,-0.001156359910965,-36.011665344238),33026,3800)
	alife():create("monolith_x8_veteran",vector():set(-24.447288513184,1.5916486978531,26.713726043701),4798,3776)
	alife():create("monolith_x8_master",vector():set(-40.07088470459,3.1812963485718,-4.2301096916199),2140,3775)
	alife():create("tank_spawn_zasada7",vector():set(-40.07088470459,3.1812963485718,-4.2301096916199),2140,3775)
	alife():create("monolith_x8_veteran",vector():set(-17.415481567383,1.5921137332916,-20.935165405273),6057,3775)
	alife():create("tank_spawn_zasada5",vector():set(-8.4078969955444,-0.00025400519371033,-83.370849609375),8021,3780)
	alife():create("tank_spawn_zasada6",vector():set(17.059682846069,4.7036447525024,-132.68405151367),24034,3803)
	alife():create("tank_x003",vector():set(17.059682846069,4.7036447525024,-132.68405151367),24034,3803)
	alife():create("monolith_x8_regular",vector():set(4.3158173561096,8.8007011413574,-134.54876708984),15878,3794)
	alife():create("monolith_x8_master",vector():set(37.613327026367,7.1840128898621,-135.80044555664),31870,3809)
	alife():create("monolith_x8_veteran",vector():set(38.069385528564,4.4929113388062,-174.58312988281),31823,3810)
	alife():create("tank_spawn_zasada4",vector():set(49.099605560303,4.2319264411926,-144.67742919922),34938,3812)
	alife():create("monolith_x8_veteran",vector():set(45.640968322754,4.7655115127563,-184.19039916992),34058,3815)
	alife():create("kogot_npc",vector():set(82.497146606445,4.0375504493713,-228.86070251465),40805,3828)
	alife():create("kogot_friend_npc",vector():set(82.973236083984,4.0349955558777,-216.78448486328),40875,3829)
	alife():create("kogot_friend_npc",vector():set(76.100868225098,4.2331643104553,-222.38000488281),40435,3827)
	alife():create("kogot_friend_npc",vector():set(62.008434295654,4.6561908721924,-234.92561340332),38750,3826)
	alife():create("kogot_friend_npc",vector():set(72.113739013672,4.233256816864,-211.66204833984),40207,3825)
end

-- ÂÛÍÓÆÄÅÍÍÀß ÌÅÐÀ
function delete_kogot_npc()
	local obj
    for a=1,65535,1 do
    obj=alife():object(a)
    if obj and (string.find(obj:name(),"kogot_npc") or string.find(obj:name(),"kogot_friend_npc") or string.find(obj:name(),"fotograf_npc")) then
    alife():release(obj,true)
    end
    end
end
local zombi_hlist={
    {position={x=107.2752456665,y=0.71396970748901,z=389.24847412109},gv=3760,lv=332275},
    {position={x=80.136596679688,y=1.1615130901337,z=363.56945800781},gv=3760,lv=300681},
    {position={x=20.170320510864,y=4.9044046401978,z=375.89318847656},gv=3760,lv=224594},
    {position={x=3.1386239528656,y=0.052532166242599,z=400.49243164063},gv=3760,lv=201612},
    {position={x=95.186943054199,y=0.05224797129631,z=347.43249511719},gv=3760,lv=318721}
}
function hlist_spawn()
	local a, se_obj
	alife():create("voen_zombied1",vector():set(27.736869812012,-2.9355492591858,369.84585571289),235007,3760)
	alife():create("rad_zombied_respawn_2",vector():set(21.83708190918,-0.192208096385,381.27783203125),226546,3760)
	alife():create("rad_zombied_respawn_2",vector():set(17.820333480835,0.053651720285416,408.99017333984),220747,3760)
	alife():create("voen_zombied2",vector():set(51.845333099365,1.0058554410934,358.05764770508),267422,3760)
	alife():create("rad_zombied_respawn_1",vector():set(95.600807189941,0.053242415189743,356.58444213867),319530,3760)
	alife():create("rad_zombied_respawn_3",vector():set(107.65798950195,0.71742963790894,347.42388916016),333057,3760)
	alife():create("girl_zombied",vector():set(92.600540161133,0.052252888679504,378.31802368164),315522,3760)
	alife():create("zombie_blow",vector():set(92.600540161133,0.052252888679504,378.31802368164),315522,3760)
	alife():create("kontrik_labx16",vector():set(88.607299804688,1.3091744184494,366.12350463867),311426,3760)
	alife():create("m_controller_act",vector():set(88.607299804688,1.3091744184494,366.12350463867),311426,3760)
	alife():create("psyonik",vector():set(88.607299804688,1.3091744184494,366.12350463867),311426,3760)
	alife():create("zombie_beee",vector():set(88.607299804688,1.3091744184494,366.12350463867),311426,3760)
	alife():create("zombie_plague_komar",vector():set(88.607299804688,1.3091744184494,366.12350463867),311426,3760)
	alife():create("controller_babka",vector():set(32.61563873291,-0.39268606901169,357.27484130859),241796,3760)
	alife():create("zombie_hell",vector():set(32.61563873291,-0.39268606901169,357.27484130859),241796,3760)
	alife():create("controller_flame",vector():set(32.61563873291,-0.39268606901169,357.27484130859),241796,3760)
	alife():create("hlist_zombied",vector():set(17.573165893555,4.6852068901062,405.7512512207),220740,3760)
	alife():create("controller_senator",vector():set(17.573165893555,4.6852068901062,405.7512512207),220740,3760)
	for i=1,table.getn(zombi_hlist) do
		a = zombi_hlist[i]
		for i=1,1 do
			se_obj = alife():create("zombie_immortal",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell13",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell12",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell11",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell10",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell9",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell8",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
		end
 	end
end

-- ÒÀÉÍÈÊÈ ÄÐÀÃÓÍÎÂÀ
function taynik_drag_spawn()
	sak.create_items_actor("device_pda_npc",1)
	alife():create("a_inventory_box37",vector():set(-100.44460296631,21.51549911499,-313.99038696289),554668,3710)
	alife():create("a_inventory_box38",vector():set(-193.04254150391,-0.13674885034561,-265.44003295898),388009,3710)
	alife():create("a_inventory_box39",vector():set(386.7077331543,15.243046379089,-136.55661499023),1346961,3744)
	alife():create("deathclaw_normal",vector():set(-120.22742462158,14.788041114807,-310.60046386719),518564,3710)
	alife():create("zombie_hell15",vector():set(-88.800086975098,16.5159034729,-323.13031005859),572067,3710)
	alife():create("deathclaw_weak",vector():set(-75.054008483887,17.071207046509,-315.67266845703),594128,3710)
	alife():create("new_hell",vector():set(-56.203147888184,17.072601318359,-321.27969360352),625450,3710)
	alife():create("zombie_hell15",vector():set(-26.094650268555,16.371980667114,-315.21435546875),673857,3710)
	alife():create("polter_xray",vector():set(400.45294189453,4.276134967804,-128.72499084473),1346848,3744)
	alife():create("burer_strong",vector():set(400.45294189453,4.276134967804,-128.72499084473),1346848,3744)
	alife():create("burer_build",vector():set(400.45294189453,4.276134967804,-128.72499084473),1346848,3744)
	alife():create("carlic",vector():set(399.49435424805,4.2753753662109,-94.256881713867),1345726,3744)
	alife():create("electro_polter",vector():set(399.49435424805,4.2753753662109,-94.256881713867),1345726,3744)
	alife():create("m_poltergeist_dd",vector():set(419.17367553711,4.6641945838928,-102.01956176758),1378306,3744)
	alife():create("carlic_weak",vector():set(416.38995361328,9.8513631820679,-124.99034118652),1373959,3744)
	alife():create("carlic_strong",vector():set(400.82135009766,9.8507022857666,-86.116775512695),1348233,3744)
	alife():create("vypolzen_red",vector():set(399.49435424805,4.2753753662109,-94.256881713867),1345726,3744)
	alife():create("vypolzen_red",vector():set(419.17367553711,4.6641945838928,-102.01956176758),1378306,3744)
	alife():create("vypolzen_red",vector():set(419.17367553711,4.6641945838928,-102.01956176758),1378306,3744)
end
function find_retrans_have1_all()
	return
		new_dialog.item_much("retranslator",1)
end
function find_retrans_have1()
	if find_retrans_have1_all() then
		db.actor:give_info_portion("taynik_dragunov_have1")
		return true
	else
		return false
	end
end
function find_retrans_have2_all()
	return
		new_dialog.item_much("af_kokon",1) and
		new_dialog.item_much("af_prisoska",1) and
		new_dialog.item_much("af_sandstown",1) and
		new_dialog.item_much("af_pylesos",1) and
		new_dialog.item_much("af_glass",1) and
		new_dialog.item_much("af_fontan",1)
end
function find_retrans_have2()
	if find_retrans_have2_all() then
		db.actor:give_info_portion("taynik_dragunov_have2")
		return true
	else
		return false
	end
end
function find_retrans_have3_all()
	return
		db.actor:has_info("taynik_dragunov_have1") and
		db.actor:has_info("taynik_dragunov_have2") and
		new_dialog.item_much("af_fallen_angel",1) and
		new_dialog.item_much("af_vinograd",1) and
		new_dialog.item_much("af_parazit",1) and
		new_dialog.item_much("af_propeller",1) and
		new_dialog.item_much("af_kvazar",1) and
		new_dialog.item_much("af_kletka",1)
end
function find_retrans_have3()
	if find_retrans_have3_all() then
		db.actor:give_info_portion("taynik_dragunov_have3")
		return true
	else
		return false
	end
end

-- ÎÐÓÆÈÅ ÌÎÍÎËÈÒÀ
function start_klenov_cube(first_speaker, second_speaker)
	sak.out_item_namber("retranslator",1)
	local gtime = amk.game_minutes()
	amk.save_variable("klenov_cube", gtime + math.random(23, 24) * 60)
end
function is_klenov_cube(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("klenov_cube", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_klenov_sms()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÎÏÅÐÀÒÎÐ ÑÂßÇÈ:".."\\n".."%c[255,255,128,128]Çà èñïîëüçîâàíèå íåëåãàëüíîãî ÏÎ âû îøòðàôîâàíû íà 30 000 ðóáëåé. Äåíüãè àâòîìàòè÷åñêè ñíèìóòñÿ ñ âàøåãî ñ÷¸òà.".."".."\n", nil, nil, 30000)
	aem_manager.manage_money(30000, "out")
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Íà ýòîò ðàç Äîöåíòó îò ïåíäàëåé íå îòâåðòåòüñÿ.".."".."\n", 16, nil, 25000)
	db.actor:disable_info_portion("haker_soft_pda")
end
function clear_klenov_cube(first_speaker, second_speaker)
	sak.create_items_actor("cube_pda",1)
	local snd_obj = xr_sound.get_safe_sound_object([[zwuk\pluton]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	amk.del_variable("klenov_cube")
end
local weapon_mono={
    {position={x=-362.55871582031,y=45.219333648682,z=-309.59066772461},gv=3664,lv=224791},
    {position={x=-107.75761413574,y=31.702281951904,z=-439.76364135742},gv=3678,lv=690254},
    {position={x=391.76602172852,y=40.679203033447,z=58.541767120361},gv=3691,lv=1615014},
    {position={x=453.16180419922,y=39.900260925293,z=55.264102935791},gv=3693,lv=1724943},
    {position={x=-188.34471130371,y=0.73580968379974,z=242.7477722168},gv=3670,lv=567263},
    {position={x=-308.52923583984,y=24.062604904175,z=354.74096679688},gv=3667,lv=302054},
    {position={x=-399.57568359375,y=16.07385635376,z=-15.32569026947},gv=3663,lv=187053},
    {position={x=-106.93173217773,y=5.9072375297546,z=-204.14657592773},gv=3681,lv=740326},
    {position={x=430.31784057617,y=31.211494445801,z=-247.81800842285},gv=3696,lv=1668089}
}
function weapon_mono_spawn(actor,npc,p1,p2)
    local a = weapon_mono[math.random(table.getn(weapon_mono))]
    local obj = alife():create("a_inventory_box41", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
	xr_sound.get_safe_sound_object([[zwuk\pluton]]):play_at_pos(db.actor, obj.position, 0, sound_object.s3d+sound_object.looped)
end
function checking_taken_item82(obj)
	if not has_alife_info("taynik_cube_have") and obj:section()=="wpn_soulcube" then
		local snd = xr_sound.get_safe_sound_object([[zwuk\pluton]])
		snd:stop()
		sak.out_item_namber("cube_pda",1)
		db.actor:give_info_portion("taynik_cube_have")
	end
end
function taynik_cube_done()
	return
		new_dialog.item_much("wpn_soulcube",1)
end
function soft_end_have()
	return
		db.actor:money()>=22000 
end
function soft_end_nothave()
	return
		db.actor:money()<=22000 
end
function haker_soft_end()
	aem_manager.manage_money(22000, "out")
end
function haker_soft_give()
	sak.create_items_actor("ammo_7.62x39_k",2)
	sak.create_items_actor("ammo_5.56x45_gd",2)
	sak.create_items_actor("ammo_357_ap_mag",2)
	sak.create_items_actor("ammo_12.7x108",1)
end

-- ÎÁÌÅÍ ÐÞÊÇÀÊÎÂ Ó ÄÈÌÀÊÀ
function obmen_1rukzak_have()
	return new_dialog.item_much("treasure_item",15)
end
function obmen_2rukzak_have()
	return new_dialog.item_much("treasure_item",5)
end
function obmen_3rukzak_have()
	return new_dialog.item_much("treasure_item",12)
end
function obmen_4rukzak_have()
	return new_dialog.item_much("treasure_item",8)
end
function obmen_5rukzak_have()
	return new_dialog.item_much("treasure_item",6)
end
function obmen_1rukzak()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",15)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.create_items_actor("ammo_23x76_shrap",1)
end
function obmen_2rukzak()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",5)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.create_items_actor("ammo_5.56x45_gd",1)
end
function obmen_3rukzak()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",12)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.create_items_actor("ammo_balon",1)
end
function obmen_4rukzak()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",8)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.create_items_actor("ammo_12.7x108",1)
end
function obmen_5rukzak()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",6)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.create_items_actor("ammo_357_ap_mag",1)
end

-- ÑÊËÀÄ ÃÎÐÞ×ÅÃÎ
local sklad_barrel={
    {position={x=203.78741455078,y=28.237886428833,z=-466.14056396484},gv=3734,lv=1063714},
    {position={x=193.89530944824,y=28.340734481812,z=-476.00787353516},gv=3734,lv=1046525},
    {position={x=189.06219482422,y=28.652124404907,z=-486.60113525391},gv=3734,lv=1037806},
    {position={x=186.4489440918,y=28.298753738403,z=-472.75323486328},gv=3734,lv=1033004},
    {position={x=195.6813659668,y=28.285226821899,z=-470.17687988281},gv=3734,lv=1050344},
    {position={x=204.2587890625,y=28.309400558472,z=-474.14190673828},gv=3734,lv=1064869}
}
function sklad_barrel_spawn()
	local a, se_obj
		  alife():create("soldier_mines_veteran",vector():set(169.65377807617,28.184450149536,-414.1640625),1003927,3734)
		  alife():create("agro_elite_soldier",vector():set(220.19102478027,28.195764541626,-416.98413085938),1093079,3734)
		  alife():create("agro_elite_soldier",vector():set(229.54544067383,28.124834060669,-432.76049804688),1108268,3734)
		  alife():create("soldier_mines_veteran",vector():set(242.27447509766,28.290794372559,-443.02398681641),1127924,3734)
		  alife():create("soldier_mines_regular",vector():set(234.32592773438,35.691501617432,-448.33435058594),1116268,3734)
		  alife():create("soldier_mines_regular",vector():set(238.65930175781,28.548463821411,-497.30584716797),1122992,3734)
		  alife():create("agro_elite_soldier",vector():set(224.41015625,28.120611190796,-455.24011230469),1100367,3734)
	alife():create("soldier_mines_veteran",vector():set(-288.16467285156,8.5265464782715,-13.521286010742),227274,3708)
	alife():create("agro_elite_soldier",vector():set(-330.9739074707,7.8534140586853,9.5568218231201),155616,3708)
	alife():create("zasada_blockpost_2",vector():set(-323.2229309082,7.8069081306458,-25.669486999512),168300,3709)
	alife():create("soldier_mines_regular",vector():set(-336.00680541992,7.8554530143738,-36.886222839355),147527,3709)
	alife():create("zasada_tonnel_agro_3",vector():set(-332.83666992188,2.7581248283386,1.0043612718582),153298,3708)
	alife():create("zasada_tonnel_agro_1",vector():set(-334.5891418457,9.3383159637451,-73.656326293945),146314,3709)
	alife():create("zasada_tonnel_agro_2",vector():set(-346.45388793945,10.794244766235,-1.4054775238037),127992,3708)
	alife():create("zasada_tonnel_agro_3",vector():set(-219.05493164063,8.3125438690186,-33.514358520508),345805,3709)
	alife():create("agro_elite_soldier",vector():set(-180.3246307373,3.4846920967102,-61.12865447998),409452,3712)
	alife():create("zasada_blockpost_1",vector():set(-145.57188415527,11.38485622406,-53.110103607178),473329,3712)
	alife():create("agro_elite_soldier",vector():set(-64.73388671875,11.062927246094,-74.487586975098),607833,3722)
	alife():create("zasada_tonnel_agro_3",vector():set(-100.10279846191,9.0004653930664,-87.242500305176),548950,3712)
	alife():create("soldier_mines_veteran",vector():set(-132.37522888184,8.8990612030029,-78.600143432617),497552,3712)
	alife():create("soldier_mines_regular",vector():set(-162.59864807129,3.640917301178,-58.880844116211),442048,3712)
	alife():create("zasada_tonnel_agro_1",vector():set(-212.73402404785,3.4915201663971,-105.32403564453),356460,3712)
	alife():create("agro_elite_rpg",vector():set(20.956726074219,24.614543914795,-167.7453918457),743805,3722)
	alife():create("zasada_tonnel_agro_3",vector():set(36.927967071533,26.011741638184,-167.39987182617),776938,3722)
	alife():create("agro_elite_soldier",vector():set(70.64217376709,24.025751113892,-186.73690795898),835725,3727)
	alife():create("zasada_blockpost_3",vector():set(35.503005981445,24.006387710571,-205.56665039063),774335,3727)
	alife():create("soldier_mines_regular",vector():set(14.59656047821,24.615823745728,-189.85842895508),738299,3727)
	alife():create("zasada_tonnel_agro_1",vector():set(19.883993148804,24.616689682007,-182.65029907227),746109,3727)
	alife():create("zasada_tonnel_agro_2",vector():set(33.567451477051,24.012331008911,-191.83642578125),770589,3727)
	alife():create("zasada_blockpost_3",vector():set(48.704929351807,27.962892532349,-176.84848022461),798178,3727)
	alife():create("soldier_mines_veteran",vector():set(50.173416137695,29.244522094727,-340.84982299805),795599,3726)
	alife():create("agro_elite_soldier",vector():set(-11.152179718018,23.690734863281,-294.48217773438),694418,3721)
	alife():create("zasada_tonnel_agro_1",vector():set(-36.628383636475,23.581735610962,-338.9391784668),656870,3720)
	alife():create("zasada_tonnel_agro_2",vector():set(-67.295303344727,24.897983551025,-339.1457824707),607481,3720)
	alife():create("agro_elite_rpg",vector():set(-100.98531341553,23.830606460571,-301.21337890625),552324,3713)
	alife():create("agro_elite_soldier",vector():set(-155.22038269043,27.533805847168,-390.30850219727),459597,3714)
	alife():create("soldier_mines_regular",vector():set(-197.22750854492,8.1906881332397,-317.06784057617),385639,3710)
	alife():create("zasada_tonnel_agro_1",vector():set(-222.43661499023,3.3456318378448,-368.06829833984),339050,3710)
	alife():create("zasada_tonnel_agro_2",vector():set(-210.49722290039,3.9928603172302,-258.41262817383),359805,3710)
	alife():create("zasada_tonnel_agro_3",vector():set(-192.65348815918,0.75664114952087,-271.33963012695),390290,3710)
	alife():create("soldier_mines_veteran",vector():set(-185.10328674316,0.75156438350677,-284.23876953125),403176,3710)
	alife():create("agro_elite_soldier",vector():set(-178.46166992188,-1.9454338550568,-255.00247192383),414168,3710)
	alife():create("zasada_tonnel_agro_1",vector():set(-375.12979125977,-2.1298112869263,-217.22329711914),82567,3700)
	alife():create("zasada_blockpost_2",vector():set(-379.71401977539,2.175036907196,-193.95896911621),71081,3700)
	alife():create("zasada_tonnel_agro_3",vector():set(-355.79888916016,1.2930400371552,-163.380859375),109833,3700)
	alife():create("agro_elite_soldier",vector():set(-327.11099243164,-2.1684606075287,-201.08380126953),158851,3705)
	alife():create("soldier_mines_regular",vector():set(-398.34310913086,5.2588171958923,-151.70045471191),47557,3700)
	alife():create("zasada_tonnel_agro_1",vector():set(-373.10076904297,0.24233320355415,-358.55291748047),84562,3702)
	alife():create("zasada_tonnel_agro_2",vector():set(-352.78652954102,-0.14953887462616,-350.16915893555),119227,3702)
	alife():create("zasada_tonnel_agro_3",vector():set(-420.27624511719,-2.2947788238525e-005,-364.33471679688),17827,3702)
	alife():create("agro_elite_soldier",vector():set(-404.41195678711,0.18847993016243,-385.14474487305),37889,3702)
	alife():create("soldier_mines_regular",vector():set(-432.39996337891,3.1894505023956,-379.00073242188),6942,3702)
	alife():create("zasada_blockpost_1",vector():set(-424.19177246094,-0.0136738717556,-328.29156494141),13522,3702)
	alife():create("zasada_tonnel_agro_2",vector():set(-421.88595581055,0.06669893860817,-347.66455078125),15497,3702)
	alife():create("agro_elite_soldier",vector():set(-448.46719360352,0.180882781744,-341.10989379883),542,3702)
	alife():create("agro_elite_soldier",vector():set(-455.50003051758,3.5106401443481,-372.92660522461),21,3702)
	alife():create("agro_elite_rpg",vector():set(-311.79748535156,0.0091400444507599,-379.94061279297),187865,3702)
	alife():create("agro_elite_rpg",vector():set(-174.9638671875,11.382803916931,-30.756015777588),420424,3712)
	alife():create("agro_elite_rpg",vector():set(49.207935333252,25.963579177856,-204.16693115234),798130,3727)
	alife():create("convoi_sniper1",vector():set(54.751518249512,27.961330413818,-182.13691711426),807762,3727)
	alife():create("convoi_sniper2",vector():set(-445.26168823242,0.099820882081985,-382.89617919922),939,3702)
	alife():create("voen_uaz",vector():set(40.919521331787,23.886869430542,-160.81271362305),783325,3722)
	alife():create("voen_uaz",vector():set(-370.037109375,-0.17562635242939,-343.54721069336),89038,3702)
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-249.04565429688,8.0753469467163,-31.461906433105),293798,3709),"vehicle_btr", "scripts\\ohota\\ohota_btr1.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-119.14656066895,9.7477121353149,-63.784561157227),520218,3712),"vehicle_btr", "scripts\\ohota\\ohota_btr2.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(37.63879776001,24.159627914429,-268.40805053711),778088,3727),"vehicle_btr", "scripts\\ohota\\ohota_btr3.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-345.70913696289,-0.0041007995605469,-319.99676513672),131065,3702),"vehicle_btr", "scripts\\ohota\\ohota_btr4.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-365.44479370117,1.0013424158096,-163.1026763916),97705,3700),"vehicle_btr", "scripts\\ohota\\btr.ltx")
	for i=1,table.getn(sklad_barrel) do
		a = sklad_barrel[i]
		for i=1,50 do
			se_obj = alife():create("quest_barrel",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
		end
 	end
end
function sklad_barrel_done()
	sak.create_items_actor("chertez_mossberg",1)
	sak.create_items_actor("ammo_kumul_82",10)
	sak.create_items_actor("ammo_20x85",7)
	sak.create_items_actor("ammo_357_ap_mag",3)
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"voen_uaz") then
	alife():release(obj,true)
	end
	end
end
function sklad_convoi_have(task, info)
     if db.actor:has_info("convoi_sniper1_dead") and db.actor:has_info("convoi_sniper2_dead") and 
	db.actor:has_info("ohota_btr1_dead") and db.actor:has_info("ohota_btr2_dead") and
	db.actor:has_info("ohota_btr3_dead") and db.actor:has_info("ohota_btr4_dead") then
		return db.actor:give_info_portion("sklad_convoi_have")
     end
		return false
end

-- ÄÎÂÎÄÛ ÍÎß
function noi_npc_spawn()
	local obj = alife():create("noi_npc",vector():set(-1.4443928003311,-0.51428008079529,40.688896179199),941221,3677)
	snp.set_stalker_story_id(obj,21009)
	obj = alife():create("chudak_npc",vector():set(-0.54195731878281,-0.50771242380142,31.956888198853),942592,3677)
	snp.set_stalker_story_id(obj,21015)
end
function dead_killers_spawn()
	local obj, sobj, sk_obj
		obj = alife():create("mil_killer_respawn_3",vector():set(-363.13031005859,18.114469528198,344.03213500977),234307,3665)
		obj:on_death()
		sobj = alife():create("mil_killer_respawn_1",vector():set(-313.70211791992,9.8121109008789,414.50442504883),321904,3665)
		sobj:on_death()
		sk_obj = alife():create("mercenary_embrion",vector():set(-327.66809082031,21.316465377808,352.74478149414),295749,3667)
		sk_obj:on_death()
	alife():create("snork_jumper",vector():set(-310.73919677734,9.7900447845459,423.22857666016),327178,3665)
	alife():create("bibliotekar",vector():set(-373.13595581055,15.747873306274,393.08020019531),219089,3665)
	alife():create("fracture_strong",vector():set(-332.64233398438,9.7334032058716,425.35955810547),286963,3665)
	alife():create("fracture_master",vector():set(-332.64233398438,9.7334032058716,425.35955810547),286963,3665)
	alife():create("fracture_karlik",vector():set(-332.64233398438,9.7334032058716,425.35955810547),286963,3665)
	alife():create("boar_kachok",vector():set(-342.59741210938,18.115041732788,348.31958007813),269561,3667)
	alife():create("boar_kachok",vector():set(-342.59741210938,18.115041732788,348.31958007813),269561,3667)
	alife():create("boar_kachok",vector():set(-342.59741210938,18.115041732788,348.31958007813),269561,3667)
	alife():create("spider",vector():set(-342.59741210938,18.115041732788,348.31958007813),269561,3667)
	alife():create("spider",vector():set(-342.59741210938,18.115041732788,348.31958007813),269561,3667)
	alife():create("spider",vector():set(-342.59741210938,18.115041732788,348.31958007813),269561,3667)
	alife():create("vypolzen",vector():set(-306.60836791992,18.094314575195,353.21020507813),334788,3667)
	alife():create("vypolzen_red",vector():set(-306.60836791992,18.094314575195,353.21020507813),334788,3667)
	alife():create("flesh_swamp",vector():set(-371.26559448242,18.096912384033,334.52236938477),222258,3667)
	alife():create("flesh_strong",vector():set(-371.26559448242,18.096912384033,334.52236938477),222258,3667)
	alife():create("flesh_normal",vector():set(-371.26559448242,18.096912384033,334.52236938477),222258,3667)
	alife():create("cat_strong",vector():set(-328.54055786133,8.7358770370483,384.66674804688),294513,3665)
	alife():create("cat_normal",vector():set(-328.54055786133,8.7358770370483,384.66674804688),294513,3665)
	alife():create("cat_weak",vector():set(-328.54055786133,8.7358770370483,384.66674804688),294513,3665)
	alife():create("volna_barrel",vector():set(-319.70584106445,8.8747310638428,395.95892333984),309774,3665)
	alife():create("volna_barrel",vector():set(-320.10900878906,9.089301109314,397.89590454102),309776,3665)
	alife():create("volna_barrel",vector():set(-325.9345703125,9.6263380050659,412.84838867188),298365,3665)
	alife():create("volna_barrel",vector():set(-333.08334350586,18.071605682373,337.23391723633),285582,3667)
	alife():create("volna_barrel",vector():set(-331.58532714844,18.08738899231,337.36148071289),288109,3667)
	alife():create("volna_barrel",vector():set(-321.59545898438,18.066900253296,335.22784423828),306982,3667)
	alife():create("volna_barrel",vector():set(-357.90298461914,18.114469528198,342.86758422852),243425,3665)
	alife():create("volna_barrel",vector():set(-359.38339233398,18.115068435669,345.06588745117),241127,3665)
	alife():create("volna_barrel",vector():set(-293.88714599609,18.023954391479,349.76617431641),358975,3667)
	alife():create("volna_barrel",vector():set(-293.76080322266,18.033416748047,348.3020324707),358973,3667)
		spawn_restrictor.volna_dovod_sr1()
end
function ohota_mutant_have(task, info)
     if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") then 
		return db.actor:give_info_portion("ohota_mutant_have")
     end
		return false
end
function noi_dovod_done()
	alife():create("volna_shron",vector():set(-2.5746433734894,0.38680526614189,31.026679992676),938418,3677)
	alife():create("volna_shron",vector():set(412.63165283203,40.346649169922,-4.0137867927551),1642588,3693)
	alife():create("volna_shron",vector():set(342.39819335938,39.096652984619,-403.21624755859),1536174,3690)
	alife():create("volna_shron",vector():set(295.75759887695,34.279689788818,-391.75210571289),1469740,3690)
	alife():create("a_inventory_box2",vector():set(423.74859619141,44.588397979736,-50.858974456787),1661900,3693)
		amk.start_timer("battle", 0, {"zaton", 33, 1})
end

-- ÏÎÄÃÎÒÎÂÊÀ Ê ÂÎËÍÅ
function noi_pripas_have_all()
	return
		new_dialog.item_much("treasure_item",50) and
		new_dialog.item_much("af_life_heart",2) and
		new_dialog.item_much("mutant_krovosos_cocoon",1) and
		new_dialog.item_much("mutant_burer_cocoon",1) and
		new_dialog.item_much("mutant_zombie_cocoon",1) and
		new_dialog.item_much("mutant_snork_cocoon",1) and
		new_dialog.item_much("mutant_flesh_cocoon",1) and
		new_dialog.item_much("mutant_gigant_cocoon",1) and
		new_dialog.item_much("mutant_poltergeist_cocoon",1) and
		new_dialog.item_much("mutant_psevdodog_cocoon",1) and
		new_dialog.item_much("mutant_dog_cocoon",1) and
		new_dialog.item_much("mutant_controller_cocoon",1) and
		new_dialog.item_much("mutant_chimera_cocoon",1) and
		new_dialog.item_much("mutant_boar_cocoon",1) and
		new_dialog.item_much("mutant_tushkano_cocoon",1) and
		new_dialog.item_much("mutant_psydog_cocoon",1) and
		new_dialog.item_much("mutant_cat_cocoon",1)
end
function noi_pripas_have()
	if noi_pripas_have_all() then
		db.actor:give_info_portion("noi_pripas_have")
		return true
	else
		return false
	end
end
function noi_pripas_done()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",50)
	sak.out_item_namber("af_life_heart",2)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.out_item_namber("mutant_krovosos_cocoon",1)
	sak.out_item_namber("mutant_burer_cocoon",1)
	sak.out_item_namber("mutant_zombie_cocoon",1)
	sak.out_item_namber("mutant_snork_cocoon",1)
	sak.out_item_namber("mutant_flesh_cocoon",1)
	sak.out_item_namber("mutant_gigant_cocoon",1)
	sak.out_item_namber("mutant_poltergeist_cocoon",1)
	sak.out_item_namber("mutant_psevdodog_cocoon",1)
	sak.out_item_namber("mutant_dog_cocoon",1)
	sak.out_item_namber("mutant_controller_cocoon",1)
	sak.out_item_namber("mutant_chimera_cocoon",1)
	sak.out_item_namber("mutant_boar_cocoon",1)
	sak.out_item_namber("mutant_tushkano_cocoon",1)
	sak.out_item_namber("mutant_psydog_cocoon",1)
	sak.out_item_namber("mutant_cat_cocoon",1)
end

-- ÎÕÎÒÀ ÍÀ ÊÐÎÂÎÑÎÑÎÂ
function ohota_suker_start()
	local se_obj = alife():story_object(30120)
	if se_obj then
        	alife():create("poison_gaz_ballon", vector(), 0, 0, se_obj.id)
        	alife():create("poison_gaz_ballon", vector(), 0, 0, se_obj.id)
        	alife():create("poison_gaz_ballon", vector(), 0, 0, se_obj.id)
  	end
	alife():create("vypolzen",vector():set(431.42053222656,33.255634307861,-156.19766235352),1672074,3693)
	alife():create("vypolzen",vector():set(431.42053222656,33.255634307861,-156.19766235352),1672074,3693)
	alife():create("zombie_hell15",vector():set(431.42053222656,33.255634307861,-156.19766235352),1672074,3693)
	alife():create("karlito",vector():set(431.12457275391,33.255634307861,-204.88983154297),1672074,3693)
	alife():create("fracture_karlik",vector():set(431.12457275391,33.255634307861,-204.88983154297),1672074,3693)
	alife():create("vypolzen",vector():set(430.48104858398,33.204891204834,-276.45785522461),1672074,3693)
	alife():create("vypolzen",vector():set(430.48104858398,33.204891204834,-276.45785522461),1672074,3693)
	alife():create("fracture_master",vector():set(429.2639465332,33.257110595703,-253.18161010742),1670825,3693)
	alife():create("bibliotekar",vector():set(429.2639465332,33.257110595703,-253.18161010742),1670825,3693)
		alife():create("snork_indoor",vector():set(125.77669525146,30.646825790405,-18.04425239563),7217,1543)
	alife():create("snork_indoor",vector():set(76.733421325684,10.174993515015,-10.411039352417),5839,1544)
	alife():create("polter_xray",vector():set(75.920333862305,10.175316810608,-20.219551086426),5782,1544)
	alife():create("electro_polter",vector():set(90.469932556152,10.176390647888,-19.616918563843),6294,1544)
	alife():create("burer_electro",vector():set(-6.8629188537598,3.364767074585,3.7749211788177),4159,1536)
	alife():create("snork_indoor",vector():set(-9.2305183410645,1.1164642572403,-14.073637008667),4000,1536)
	alife():create("burer_build",vector():set(93.792259216309,5.6405072212219,-33.812690734863),6425,1544)
	alife():create("m_poltergeist_dd",vector():set(-50.877624511719,-4.12331199646,-4.4670877456665),2047,1533)
	alife():create("m_controller_act",vector():set(-65.341850280762,11.564425468445,-9.8557138442993),1224,1530)
	alife():create("bloodsucker_mil",vector():set(46.913333892822,0.19611731171608,-34.977745056152),63439,1443)
	alife():create("bloodsucker_mil",vector():set(70.941848754883,0.82445132732391,22.891839981079),76879,1509)
	alife():create("bloodsucker_strong",vector():set(30.120384216309,0.031763762235641,19.199028015137),54208,1445)
	alife():create("bloodsucker_effector",vector():set(-20.091770172119,0.076224267482758,4.6393656730652),31456,1500)
	alife():create("bloodsucker_strong",vector():set(42.704719543457,0.058317989110947,-75.085594177246),60716,1517)
	alife():create("zombie_hell10",vector():set(-114.64209747314,21.564916610718,-30.182996749878),227,1529)
	alife():create("zombie_hell9",vector():set(21.736812591553,5.5858459472656,13.202272415161),4564,1537)
	alife():create("controller_flame",vector():set(21.736812591553,5.5858459472656,13.202272415161),4564,1537)
	alife():create("zombie_babka_strong",vector():set(-114.64209747314,21.564916610718,-30.182996749878),227,1529)
	alife():create("zombie_strong",vector():set(-114.64209747314,21.564916610718,-30.182996749878),227,1529)
	alife():create("zombie_hell12",vector():set(21.736812591553,5.5858459472656,13.202272415161),4564,1537)
end
function ohota_suker_have()
	if new_dialog.item_much("poison_gaz_ballon",3) and
	   not has_alife_info("ohota_suker_have") then
		ohota_suker_spawn()
		return true
	else
		return false
	end
end
function ohota_suker_spawn()
	alife():create("deathclaw_normal",vector():set(432.74313354492,33.255634307861,-179.46678161621),1677018,3693)
	alife():create("new_electro_chimera",vector():set(425.94598388672,33.46932220459,-188.25517272949),1670825,3693)
	alife():create("fire_chimera",vector():set(435.13415527344,33.093215942383,-292.73416137695),1680398,3694)
	alife():create("chimera_black",vector():set(435.13415527344,33.093215942383,-292.73416137695),1680398,3694)
	alife():create("chimera_weak",vector():set(435.13415527344,33.093215942383,-292.73416137695),1680398,3694)
	alife():create("bear",vector():set(435.13415527344,33.093215942383,-292.73416137695),1680398,3694)
	alife():create("deathclaw_weak",vector():set(432.89752197266,32.81099319458,-291.40087890625),1676844,3694)
	alife():create("new_hell",vector():set(401.51416015625,-2.1218960285187,-257.44519042969),1626776,3696)
	alife():create("new_hell",vector():set(457.91491699219,3.2417845726013,-270.64166259766),1714873,3696)
	db.actor:give_info_portion("ohota_suker_have")
end
function ohota_suker_have_all()
	return
		new_dialog.item_much("mutant_deathclaw_antler",1) and
		new_dialog.item_much("mutant_raptor_kogot",1)
end
function ohota_suker_done()
	sak.out_item_namber("mutant_deathclaw_antler",1)
	sak.out_item_namber("mutant_raptor_kogot",1)
	sak.create_items_actor("moving_detector",1)
		spawn_restrictor.moving_detector_sr1()
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"m_poison_gaz_ballon") then
	alife():release(obj,true)
	end
	end
end

-- ÈÍÑÒÐÓÌÅÍÒÛ ÄËß ÄÈÌÀÊÀ
function volna_dimak_have()
	return
		db.actor:money()>=2000000
end
function volna_dimak_give()
	aem_manager.manage_money(2000000, "out")
end
local dimak_toolkit={
    {position={x=278.34292602539,y=26.947467803955,z=-243.6997833252},gv=3743,lv=1175100},
    {position={x=400.14022827148,y=26.88063621521,z=-253.83369445801},gv=3743,lv=1346621},
    {position={x=429.76638793945,y=26.856817245483,z=-328.64218139648},gv=3747,lv=1395377},
    {position={x=422.11761474609,y=27.04347038269,z=-419.40484619141},gv=3745,lv=1382516},
    {position={x=419.26239013672,y=24.21888923645,z=-389.28598022461},gv=3745,lv=1378052},
    {position={x=359.01016235352,y=27.542575836182,z=-373.99450683594},gv=3745,lv=1286493},
    {position={x=302.87799072266,y=27.54314994812,z=-352.84213256836},gv=3745,lv=1207063},
    {position={x=360.95642089844,y=27.542961120605,z=-329.27899169922},gv=3745,lv=1289429}
}
function dimak_toolkit_spawn()
	local a, se_obj
	alife():create("a_inventory_box43",vector():set(323.79251098633,38.033874511719,-309.02014160156),1233526,3745)
	alife():create("volna_barrel",vector():set(427.69488525391,26.604957580566,-282.55340576172),1391851,3747)
	alife():create("volna_barrel",vector():set(427.65258789063,26.603830337524,-281.12725830078),1391853,3747)
	alife():create("volna_barrel",vector():set(427.63903808594,26.62085723877,-279.63876342773),1391855,3747)
	alife():create("volna_barrel",vector():set(427.66003417969,26.720304489136,-277.74264526367),1391858,3747)
	alife():create("volna_barrel",vector():set(413.26715087891,27.543828964233,-394.28454589844),1367798,3745)
	alife():create("volna_barrel",vector():set(413.68029785156,27.543863296509,-390.10809326172),1368995,3745)
	alife():create("volna_barrel",vector():set(405.8173828125,27.544054031372,-400.93923950195),1355906,3745)
	alife():create("volna_barrel",vector():set(447.95166015625,26.884057998657,-416.849609375),1426804,3745)
	alife():create("volna_barrel",vector():set(443.34332275391,26.886524200439,-417.6533203125),1418701,3745)
	alife():create("volna_barrel",vector():set(447.09033203125,26.871015548706,-415.40661621094),1425677,3745)
	for i=1,table.getn(dimak_toolkit) do
		a = dimak_toolkit[i]
		for i=1,1 do
			se_obj = alife():create("voen_zombied2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_immortal",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_ghost",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_trup2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell2",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell3",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell4",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell5",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell6",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell8",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell9",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell10",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell11",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell12",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell13",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_babka_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("ghoul_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("girl_zombied1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("upi_eco_zombied1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("pri_under_zombied1",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
		end
 	end
end
function dimak_toolkit_have_all()
	return
		new_dialog.item_much("voen1_toolkit",1)
end
function dimak_toolkit_have()
	if dimak_toolkit_have_all() then
		db.actor:give_info_portion("dimak_toolkit_have")
		return true
	else
		return false
	end
end
function dimak_toolkit_done()
	sak.out_item_namber("voen1_toolkit",1)
	alife():create("a_inventory_box24",vector():set(120.23701477051,4.4170513153076,75.555992126465),344388,3762)
	alife():create("zombie_hell15",vector():set(64.90510559082,-0.27349811792374,42.537487030029),283404,3762)
	alife():create("zombie_plague_komar",vector():set(64.90510559082,-0.27349811792374,42.537487030029),283404,3762)
	alife():create("bloodsucker_child",vector():set(64.90510559082,-0.27349811792374,42.537487030029),283404,3762)
	alife():create("oboroten",vector():set(66.705680847168,0.66406726837158,78.992446899414),285156,3762)
	alife():create("oboroten",vector():set(37.86304473877,-0.32028341293335,21.898601531982),248351,3759)
	alife():create("bloodsucker_mil",vector():set(-1.627432346344,-0.75779819488525,19.785987854004),195479,3759)
	alife():create("bloodsucker_child",vector():set(82.112113952637,0.37810555100441,61.55411529541),302708,3762)
end

-- ÆÈÂÛÅ ÌÅÐÒÂÅÖÛ
function nazar_npc_spawn()
	local obj = alife():create("nazar_npc",vector():set(394.06866455078,3.3480923175812,338.92059326172),1337623,3746)
	snp.set_stalker_story_id(obj,21014)
	obj = alife():create("masha_npc",vector():set(395.74975585938,3.5507726669312,351.45147705078),1339701,3746)
	snp.set_stalker_story_id(obj,21012)
	obj = alife():create("dasha_npc",vector():set(379.19393920898,3.5618975162506,322.04788208008),1317128,3746)
	snp.set_stalker_story_id(obj,21013)
	alife():create("zombie_weak",vector():set(416.92239379883,3.5315234661102,338.29684448242),1375664,3746)
	alife():create("zombie_babka_strong",vector():set(404.47732543945,3.4676866531372,313.89721679688),1354490,3746)
	alife():create("zombie_strong",vector():set(357.03637695313,3.574316740036,325.6076965332),1284299,3746)
	alife():create("zombie_trup2",vector():set(359.55337524414,3.3473362922668,348.91116333008),1288193,3746)
	alife():create("zombie_immortal",vector():set(371.77410888672,33.368392944336,332.41125488281),1306174,3746)
end
function living_dead_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Ñòàëêåðû, çîìáè ïðèæàëè íàñ íà áåòîííîì çàâîäå. Äîëãî íå ïðîòÿíåì. Ñðî÷íî íóæíà âàøà ïîìîùü!".."".."\n", nil, nil, 30000)
	alife():create("zombie_hell1",vector():set(403.08923339844,3.5463061332703,303.98162841797),1352230,3746)
	alife():create("zombie_hell2",vector():set(416.25122070313,3.3487732410431,362.79962158203),1374672,3746)
	alife():create("zombie_hell3",vector():set(397.38275146484,3.532461643219,367.73391723633),1342831,3746)
	alife():create("zombie_hell4",vector():set(387.31201171875,3.574239730835,368.53405761719),1327551,3746)
	alife():create("zombie_hell5",vector():set(369.30822753906,3.6019492149353,359.88928222656),1303104,3746)
	alife():create("zombie_hell6",vector():set(358.52923583984,3.5330851078033,329.47509765625),1286256,3746)
	alife():create("bar_stalker_respawn_2",vector():set(393.85153198242,4.7835330963135,323.01455688477),1337603,3746)
	alife():create("gar_stalker_respawn_2",vector():set(377.81134033203,6.9600296020508,311.33200073242),1315140,3746)
	alife():create("agr_stalker_regular",vector():set(384.89788818359,3.8657922744751,355.86697387695),1324779,3746)
	alife():create("agr_stalker_veteran",vector():set(365.88415527344,3.3228163719177,335.73709106445),1288182,3746)
		amk.start_timer("battle", 0, {"jupiter", 33, 1})
end
function nazar_group_delete()
	sak.create_items_actor("ammo_23x76_shrap",6)
	alife():create("amk_ballon",vector():set(-397.88116455078,11.417510032654,-12.839150428772),49652,3708)
	alife():create("amk_ballon",vector():set(-397.38241577148,11.417458534241,-12.85968208313),49652,3708)
	alife():create("amk_ballon",vector():set(-396.8805847168,11.414491653442,-12.869218826294),49652,3708)
	alife():create("amk_ballon",vector():set(-396.39367675781,11.416143417358,-12.878354072571),50631,3708)
	alife():create("amk_ballon",vector():set(-395.7292175293,11.416496276855,-12.886926651001),51622,3708)
	alife():create("amk_ballon",vector():set(-395.17901611328,11.416986465454,-12.891193389893),51622,3708)
	alife():create("amk_ballon",vector():set(-394.55776977539,11.415090560913,-12.921533584595),52624,3708)
	alife():create("amk_ballon",vector():set(-393.9013671875,11.417728424072,-12.93896484375),53632,3708)
	alife():create("amk_ballon",vector():set(-393.15979003906,11.416721343994,-12.943502426147),54633,3708)
	alife():create("amk_ballon",vector():set(-392.54449462891,11.416721343994,-12.954599380493),55640,3708)
	alife():create("amk_kanistra",vector():set(-328.24542236328,7.8552794456482,-39.960487365723),160218,3709)
	alife():create("amk_kanistra",vector():set(-328.24542236328,7.8552794456482,-39.960487365723),160218,3709)
	alife():create("amk_kanistra",vector():set(-328.24542236328,7.8552794456482,-39.960487365723),160218,3709)
	alife():create("amk_kanistra",vector():set(-328.24542236328,7.8552794456482,-39.960487365723),160218,3709)
	alife():create("amk_kanistra",vector():set(-328.24542236328,7.8552794456482,-39.960487365723),160218,3709)
	alife():create("amk_kanistra",vector():set(-328.24542236328,7.8552794456482,-39.960487365723),160218,3709)
	alife():create("chimera_strong",vector():set(-298.01361083984,8.0923519134521,-29.357452392578),210714,3709)
	alife():create("fire_chimera",vector():set(-298.01361083984,8.0923519134521,-29.357452392578),210714,3709)
	alife():create("bear",vector():set(-403.04949951172,8.3654899597168,26.182592391968),40462,3708)
	alife():create("new_electro_chimera",vector():set(-403.04949951172,8.3654899597168,26.182592391968),40462,3708)
	alife():create("chimera_wolf",vector():set(-404.81127929688,8.3801441192627,-31.922563552856),38299,3700)
	alife():create("fire_chimera",vector():set(-404.81127929688,8.3801441192627,-31.922563552856),38299,3700)
	alife():create("chimera_x_ray",vector():set(-377.83386230469,7.8098111152649,-81.074775695801),77397,3700)
	alife():create("chimera_black",vector():set(-377.83386230469,7.8098111152649,-81.074775695801),77397,3700)
	alife():create("chimera_weak",vector():set(-337.11950683594,2.6858162879944,-4.521758556366),145222,3708)
	local obj
    for a=1,65535,1 do
    obj=alife():object(a)
    if obj and (string.find(obj:name(),"nazar_npc") or string.find(obj:name(),"masha_npc") or string.find(obj:name(),"dasha_npc")) then
    alife():release(obj,true)
    end
    end
end
function ohota_zombi_have(task, info)
     if db.actor:has_info("ohota_zombi1_dead") and db.actor:has_info("ohota_zombi2_dead") then 
		return db.actor:give_info_portion("ohota_zombi_have")
     end
		return false
end

-- ÀÍÎÌÀËÜÍÛÅ ÃÐÀÍÀÒÛ
local anomaly_grenade={
    {position={x=-384.26641845703,y=-2.2244997024536,z=-237.03768920898},gv=3700,lv=67928},
    {position={x=-414.45135498047,y=-2.7496719360352,z=-197.1806640625},gv=3700,lv=24744},
    {position={x=-290.43563842773,y=-0.98814499378204,z=-281.85971069336},gv=3702,lv=223434},
    {position={x=-254.33003234863,y=1.7992366552353,z=-347.85745239258},gv=3702,lv=284786},
    {position={x=-253.56658935547,y=-0.030022442340851,z=-135.37754821777},gv=3705,lv=286289},
    {position={x=-183.0902557373,y=-0.63573920726776,z=-114.95680236816},gv=3712,lv=405828},
    {position={x=-103.18413543701,y=-0.38990592956543,z=-150.3452911377},gv=3715,lv=548863}
}
function anomaly_grenade_start()
	local a, se_obj
		  se_obj = alife():create("a_inventory_box44",vector():set(-455.57452392578,7.0373675346375,-355.4658203125),5511,3702)
	for i=1,table.getn(anomaly_grenade) do
		a = anomaly_grenade[i]
		for i=1,1 do
			se_obj = alife():create("spider",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("spider",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("tushkano_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("nosales",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("molerat",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("kikimora",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("volkodav",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
		end
 	end
end
function anomaly_grenade_have()
	if new_dialog.item_much("chertez_grenade",1) and
	   not has_alife_info("anomaly_grenade_have") then
		anomaly_grenade_spawn()
		return true
	else
		return false
	end
end
function anomaly_grenade_spawn()
	alife():create("agr_bandit_respawn_1",vector():set(-422.18618774414,0.010204285383224,-355.56701660156),15486,3702)
	alife():create("agr_bandit_respawn_2",vector():set(-434.15219116211,0.024294257164001,-375.05996704102),5977,3702)
	alife():create("ros_bandit_respawn_3",vector():set(-438.63848876953,4.728862285614,-379.39138793945),5510,3702)
	alife():create("ros_bandit_respawn_4",vector():set(-417.25088500977,-0.0012054145336151,-372.26278686523),21157,3702)
	alife():create("agr_bandit_respawn_1",vector():set(-404.11947631836,0.18721184134483,-385.22503662109),38927,3702)
	alife():create("agr_bandit_respawn_2",vector():set(-409.50643920898,0.0026730000972748,-360.27407836914),30950,3702)
	alife():create("ros_bandit_respawn_3",vector():set(-400.28356933594,-0.012056559324265,-335.2516784668),44205,3702)
	alife():create("agr_bandit_respawn_1",vector():set(-373.80227661133,0.24368306994438,-360.16540527344),83482,3702)
	alife():create("agr_bandit_respawn_2",vector():set(-395.32232666016,-0.010149925947189,-351.56234741211),51235,3702)
	alife():create("ros_bandit_respawn_3",vector():set(-390.80853271484,-0.012463420629501,-318.5378112793),58296,3702)
	alife():create("agr_bandit_respawn_2",vector():set(-427.16317749023,-0.0078602731227875,-391.06533813477),11136,3702)
	alife():create("ros_bandit_respawn_3",vector():set(-406.64630126953,-0.012458682060242,-338.3606262207),34886,3702)
		amk.start_timer("battle", 0, {"jupiter", 34, 1})
	db.actor:give_info_portion("anomaly_grenade_have")
end
function anomaly_grenade_help()
	alife():create("gar_bandit_respawn_1",vector():set(-378.50863647461,0.41756644845009,-388.61645507813),75978,3702)
	alife():create("gar_bandit_respawn_2",vector():set(-353.58764648438,-0.14722149074078,-350.18167114258),118012,3702)
	alife():create("ros_bandit_respawn_3",vector():set(-370.01107788086,0.33077636361122,-318.4421081543),86827,3702)
	alife():create("ros_bandit_respawn_4",vector():set(-417.96963500977,0.0078541040420532,-300.00973510742),20381,3702)
	alife():create("gar_bandit_respawn_2",vector():set(-354.40036010742,-0.059464931488037,-355.51507568359),116773,3702)
	alife():create("ros_bandit_respawn_3",vector():set(-393.443359375,-0.0086084008216858,-376.4489440918),53222,3702)
	alife():create("bar_dolg_respawn_1",vector():set(-327.63339233398,-0.16007176041603,-352.52905273438),160988,3702)
	alife():create("bar_dolg_respawn_2",vector():set(-338.36529541016,-0.10828557610512,-333.59857177734),143624,3702)
	alife():create("bar_dolg_respawn_3",vector():set(-312.14611816406,-0.027054399251938,-384.98931884766),186679,3702)
	alife():create("bar_dolg_respawn_1",vector():set(-307.67086791992,-0.041196465492249,-376.89303588867),193749,3702)
	alife():create("bar_dolg_respawn_2",vector():set(-393.60699462891,4.4836716651917,-281.85079956055),54312,3702)
	alife():create("bar_dolg_respawn_3",vector():set(-378.6549987793,4.2731246948242,-282.92971801758),76112,3702)
	alife():create("bar_dolg_respawn_2",vector():set(-343.21719360352,0.17199930548668,-295.65933227539),136851,3702)
	alife():create("dolg_jupiter",vector():set(-328.51904296875,-0.24246215820313,-346.92068481445),159837,3702)
end
function anomaly_grenade_have_all()
	return
		new_dialog.item_much("chertez_grenade",1) and
		db.actor:money()>=90000
end
function anomaly_grenade_done()
	aem_manager.manage_money(90000, "out")
	sak.out_item_namber("chertez_grenade",1)
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"dolg_jupiter") then
	alife():release(obj,true)
	break
	end
	end
end

-- ÑÒÀÐÀß ÈÊÎÍÀ
function volna_petrenko_start()
	alife():create("a_inventory_box59",vector():set(-112.07481384277,0.99143302440643,-99.081878662109),81736,3759)
	akill_start_sound()
end
function volna_petrenko_have_all()
	return
		new_dialog.item_much("icona",1)
end
function checking_taken_item87(obj)
	if not has_alife_info("volna_petrenko_have") and obj:section()=="icona" then
		local snd = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
		snd:stop()
	alife():create("m_controller_normal_fat",vector():set(-129.47193908691,-0.53132110834122,-116.15319061279),68863,3752)
	alife():create("controller_babka",vector():set(-67.447326660156,-0.53902888298035,-136.13389587402),122123,3752)
	alife():create("controller_senator",vector():set(-28.673700332642,-0.50963681936264,-111.72692871094),159564,3756)
	alife():create("m_controller_act",vector():set(-119.20590209961,-0.42889595031738,-157.31573486328),76352,3752)
	alife():create("controller_flame",vector():set(-121.19214630127,-0.60100048780441,-69.578247070313),74930,3749)
		amk.start_timer("battle", 0, {"pripyat", 32, 1})
	local snd_obj = xr_sound.get_safe_sound_object([[zwuk\controller_laugh]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
		db.actor:give_info_portion("volna_petrenko_have")
	end
end
function volna_petrenko_spawn()
	local snd_obj = xr_sound.get_safe_sound_object([[zwuk\controller_evil]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("psyonik",vector():set(-121.19214630127,-0.60100048780441,-69.578247070313),74930,3749)
	alife():create("m_controller_old_fat",vector():set(-72.846611022949,-0.38325318694115,-48.99397277832),116607,3749)
	alife():create("m_controller_normal",vector():set(-59.607189178467,4.2090620994568,-94.676498413086),130100,3759)
	alife():create("m_poltergeist_dd",vector():set(-45.168685913086,-0.39581114053726,-48.207420349121),143463,3759)
	alife():create("electro_polter",vector():set(-20.786567687988,-0.43124452233315,-58.313362121582),168876,3759)
	alife():create("polter_xray",vector():set(-20.786567687988,-0.43124452233315,-58.313362121582),168876,3759)
	alife():create("zombie_plague_komar",vector():set(-17.267854690552,-0.45350116491318,-73.842361450195),173644,3759)
	alife():create("zombie_hell7",vector():set(-17.267854690552,-0.45350116491318,-73.842361450195),173644,3759)
	alife():create("zombie_hell8",vector():set(-38.340225219727,-0.73704755306244,-68.324119567871),149863,3759)
	alife():create("zombie_hell9",vector():set(-60.812072753906,-0.29317882657051,-59.15531539917),128702,3749)
	alife():create("zombie_plague",vector():set(-96.907867431641,-0.32757794857025,-56.307037353516),94638,3749)
	alife():create("ghoul_strong",vector():set(-117.780128479,-0.66835117340088,-85.903099060059),77439,3752)
	alife():create("zombie_immortal",vector():set(-110.76831817627,-0.43187013268471,-131.20777893066),82804,3752)
	alife():create("zombie_ghost",vector():set(-74.594619750977,-0.42106080055237,-122.75464630127),114540,3752)
	alife():create("zombie_blow",vector():set(-38.272281646729,-0.7848494052887,-108.03128051758),149812,3756)
end
function volna_petrenko_done()
	sak.out_item_namber("icona",1)
end

-- Ñ ÍÅÁÅÑ ÍÀ ÇÅÌËÞ
function volna_bpla_start()
	alife():create("hardware",vector():set(-383.66186523438,20.318761825562,428.39651489258),69754,3701)
	alife():create("monolith_x8_regular",vector():set(-368.16888427734,27.188453674316,449.99920654297),93645,3701)
	alife():create("monolith_x8_master",vector():set(-369.04379272461,25.771883010864,424.93035888672),92383,3701)
	alife():create("monolith_x8_veteran",vector():set(-387.00225830078,25.995088577271,408.7053527832),65550,3701)
	alife():create("tank_spawn_zasada",vector():set(-398.68524169922,19.376052856445,401.70687866211),47232,3701)
	alife():create("tank_spawn_zasada1",vector():set(-416.84353637695,19.908758163452,406.90353393555),24478,3701)
	alife():create("monolith_x8_veteran",vector():set(-387.43225097656,20.724727630615,439.73760986328),64484,3701)
	alife():create("tank_spawn_zasada2",vector():set(-416.81234741211,25.192781448364,444.84664916992),22821,3701)
	alife():create("tank_spawn_zasada3",vector():set(-386.73690795898,19.713012695313,427.36599731445),65567,3701)
	alife():create("monolith_x8_master",vector():set(-393.07250976563,19.695283889771,430.57788085938),55167,3701)
end
function volna_bpla_have_all()
	return
		new_dialog.item_much("hardware",1)
end
function volna_bpla_have()
	if new_dialog.item_much("hardware",1) and
	   not has_alife_info("volna_bpla_have") then
		volna_bpla_spawn()
		return true
	else
		return false
	end
end
function volna_bpla_spawn()
	alife():create("tank_spawn_zasada6",vector():set(-363.20919799805,27.327054977417,418.93231201172),102117,3701)
	alife():create("monolith_x8_veteran",vector():set(-356.9931640625,28.988161087036,448.58264160156),113032,3701)
	alife():create("tank_spawn_zasada5",vector():set(-381.50119018555,26.804357528687,399.26132202148),72785,3701)
	alife():create("monolith_x8_master",vector():set(-387.97738647461,23.183288574219,376.64526367188),63310,3701)
	alife():create("tank_spawn_zasada4",vector():set(-420.14562988281,14.871155738831,345.41873168945),18564,3701)
	alife():create("monolith_x8_veteran",vector():set(-416.40490722656,14.644708633423,320.24600219727),22744,3701)
	alife():create("tank_spawn_zasada7",vector():set(-336.84414672852,16.12279510498,365.98934936523),146869,3703)
	alife():create("tank_x003",vector():set(-337.84414672852,16.12279510498,365.98934936523),146869,3703)
	alife():create("monolith_x8_master",vector():set(-308.91741943359,11.295084953308,418.83483886719),193614,3703)
	alife():create("tank_spawn_zasada7",vector():set(-397.861328125,15.085441589355,360.96627807617),49143,3701)
		amk.start_timer("battle", 0, {"jupiter", 35, 1})
	db.actor:give_info_portion("volna_bpla_have")
end
function volna_bpla_help()
	alife():create("pri_monolith_respawn_1",vector():set(-343.90869140625,11.983263969421,320.48815917969),135391,3701)
	alife():create("pri_monolith_respawn_2",vector():set(-366.54281616211,13.583870887756,319.99307250977),95921,3701)
	alife():create("pri_monolith_respawn_3",vector():set(-383.01596069336,9.6479864120483,304.95251464844),70686,3701)
	alife():create("pri_monolith_respawn_1",vector():set(-401.82363891602,10.17126083374,290.09841918945),42879,3701)
	alife():create("pri_monolith_respawn_2",vector():set(-364.21667480469,7.4772238731384,299.14608764648),100773,3701)
	alife():create("pri_monolith_respawn_3",vector():set(-318.15646362305,3.5329852104187,311.73846435547),176902,3704)
	alife():create("pri_monolith_respawn_1",vector():set(-312.15936279297,5.4025683403015,331.24456787109),187623,3703)
	alife():create("pri_monolith_respawn_2",vector():set(-286.95294189453,2.6638460159302,323.33297729492),230097,3703)
	alife():create("pri_monolith_respawn_3",vector():set(-271.86782836914,0.69175827503204,281.29309082031),256196,3704)
	alife():create("pri_monolith_respawn_3",vector():set(-276.5505065918,-0.1548415273428,304.86111450195),247813,3704)
	alife():create("tank_spawn_zasada7",vector():set(-394.63293457031,12.741173744202,318.80722045898),53046,3701)
	alife():create("mil_killer_respawn_1",vector():set(-367.85647583008,0.48167058825493,268.91888427734),93403,3701)
	alife():create("mil_killer_respawn_2",vector():set(-392.72595214844,1.4862502813339,258.27880859375),55997,3701)
	alife():create("mil_killer_respawn_3",vector():set(-423.2607421875,11.621475219727,284.03329467773),14686,3701)
	alife():create("mil_killer_respawn_4",vector():set(-345.09072875977,-2.4195029735565,267.40802001953),133027,3701)
	alife():create("mil_killer_respawn_1",vector():set(-334.06747436523,-2.8596305847168,267.96685791016),151364,3701)
	alife():create("mil_killer_respawn_2",vector():set(-316.31390380859,-1.0929673910141,279.21691894531),180385,3704)
	alife():create("mil_killer_respawn_3",vector():set(-340.34628295898,1.4939488172531,265.8307800293),140984,3701)
	alife():create("mil_killer_respawn_4",vector():set(-355.58874511719,-2.0173633098602,248.38973999023),115123,3701)
	alife():create("mil_killer_respawn_1",vector():set(-303.80142211914,-1.4354267120361,256.57849121094),201521,3704)
	alife():create("mil_killer_respawn_2",vector():set(-295.27047729492,-3.7689077854156,229.22732543945),215781,3704)
	alife():create("mil_killer_respawn_3",vector():set(-318.20248413086,-3.2242691516876,239.52578735352),176801,3704)
	alife():create("mil_killer_respawn_4",vector():set(-367.28631591797,-3.2813477516174,213.54598999023),94551,3701)
end
function volna_bpla_done()
	sak.out_item_namber("hardware",1)
end

-- ËÎÂÅÖ ÌÓÒÀÍÒÎÂ
function volna_kogot_start()
	alife():create("kogot_snotvornoe",vector():set(-80.773780822754,-13.771224021912,77.327209472656),3145,3838)
	alife():create("kogot_snotvornoe",vector():set(-80.770217895508,-13.772389411926,77.020164489746),3145,3838)
	alife():create("kogot_snotvornoe",vector():set(-80.780532836914,-13.772362709045,76.705223083496),3145,3838)
	alife():create("kogot_snotvornoe",vector():set(-80.787506103516,-13.772339820862,76.486595153809),3145,3838)
	alife():create("kogot_snotvornoe",vector():set(-80.786010742188,-13.772295951843,76.277549743652),3145,3838)
	alife():create("kogot_snotvornoe",vector():set(-92.705825805664,-15.391551017761,81.635604858398),1352,3831)
	alife():create("kogot_snotvornoe",vector():set(-93.069900512695,-15.391278266907,81.733779907227),1352,3831)
	alife():create("kogot_snotvornoe",vector():set(-93.269454956055,-15.3913230896,81.795471191406),1352,3831)
	alife():create("kogot_snotvornoe",vector():set(-93.431114196777,-15.391341209412,81.84058380127),1352,3831)
	alife():create("kogot_snotvornoe",vector():set(-93.698524475098,-15.391377449036,81.915977478027),1352,3831)
	alife():create("kogot_snotvornoe",vector():set(-82.784294128418,-22.720684051514,90.518730163574),2848,3839)
	alife():create("kogot_snotvornoe",vector():set(-82.547080993652,-22.720211029053,90.511856079102),2848,3839)
	alife():create("kogot_snotvornoe",vector():set(-111.15933227539,-32.317409515381,88.851722717285),259,3832)
	alife():create("kogot_snotvornoe",vector():set(-111.16510009766,-32.316143035889,88.138198852539),258,3832)
	alife():create("kogot_snotvornoe",vector():set(-111.16384124756,-32.321411132813,87.474174499512),257,3832)
	alife():create("kogot_snotvornoe",vector():set(-67.274543762207,-14.527798652649,55.991153717041),5403,3850)
	alife():create("kogot_snotvornoe",vector():set(-54.565662384033,-20.975364685059,91.418464660645),6433,3840)
	alife():create("kogot_snotvornoe",vector():set(-56.238842010498,-16.527338027954,102.42239379883),6290,3840)
	alife():create("kogot_snotvornoe",vector():set(-61.270248413086,-22.728157043457,72.451210021973),5946,3840)
	alife():create("kogot_snotvornoe",vector():set(-111.38500213623,-31.502641677856,83.000205993652),227,3832)
	alife():create("tarakan_normal",vector():set(-44.911533355713,-20.577898025513,70.295692443848),6757,3850)
	alife():create("tarakan_normal",vector():set(-44.911533355713,-20.577898025513,70.295692443848),6757,3850)
	alife():create("tarakan_strong",vector():set(-101.58592987061,-16.003440856934,97.047607421875),689,3831)
	alife():create("tarakan_strong",vector():set(-101.58592987061,-16.003440856934,97.047607421875),689,3831)
	alife():create("poltergeist_build",vector():set(-113.11763763428,-28.484573364258,93.889068603516),153,3832)
	alife():create("poltergeist_build",vector():set(-68.90234375,-20.164436340332,62.545627593994),5262,3847)
	alife():create("carlic",vector():set(-84.428619384766,-20.057538986206,71.331573486328),2475,3838)
	alife():create("carlic_strong",vector():set(-106.68594360352,-32.402889251709,87.162796020508),432,3832)
	alife():create("carlic_weak",vector():set(-62.995765686035,-25.114721298218,88.284744262695),5915,3840)
		amk.start_timer("battle", 0, {"marsh", 33, 1})
end
function volna_holod_have()
	return
		new_dialog.item_much("kogot_snotvornoe",5)
end
function volna_holod_done()
	sak.out_item_namber("kogot_snotvornoe",5)
	sak.create_items_actor("wpn_awm_new",1)
	alife():create("a_inventory_box45",vector():set(23.818571090698,1.7220232486725,50.634128570557),79914,3263)
end
function volna_kogot_have()
	if new_dialog.item_much("kogot_snotvornoe",15) then
		db.actor:give_info_portion("volna_kogot_have")
		return true
	else
		return false
	end
end
function volna_kogot_have_all()
	return
		new_dialog.item_much("kogot_snotvornoe",10) and
		new_dialog.item_much("wpn_awm_new",1) and
		new_dialog.item_much("ammo_igl_new",2)
end
function volna_kogot_done()
	sak.out_item_namber("kogot_snotvornoe",15)
	sak.out_item_namber("wpn_awm_new",1)
	sak.out_item_namber("ammo_igl_new",2)
end

-- ÎÄÈÍ Â ÒÅÌÍÎÒÅ
function volna_darkness_start()
	alife():create("volna_keis",vector():set(30.804094314575,16.560941696167,-0.010655745863914),39736,3808)
	alife():create("volna_keis",vector():set(35.756320953369,4.0903921127319,35.704284667969),28729,3806)
	alife():create("volna_keis",vector():set(-58.322334289551,5.211971282959,2.3678860664368),99,3775)
	alife():create("volna_keis",vector():set(-13.897904396057,3.1403594017029,-12.869792938232),6494,3775)
	alife():create("a_inventory_box42",vector():set(-64.041053771973,-13.337757110596,77.58854675293),5826,3840)
	alife():create("leshyi_bandit1",vector():set(51.982730865479,1.4089658260345,118.22806549072),267131,3758)
	alife():create("leshyi_bandit2",vector():set(34.353908538818,1.4076274633408,118.14849090576),243363,3758)
	alife():create("leshyi_bandit3",vector():set(42.192596435547,1.4057230949402,147.6197052002),254486,3761)
	alife():create("leshyi_bandit4",vector():set(73.606063842773,0.48977407813072,170.8796081543),293408,3764)
	alife():create("leshyi_bandit5",vector():set(41.708789825439,1.4089523553848,173.51745605469),254587,3761)
	alife():create("leshyi_bandit1",vector():set(43.713165283203,5.307852268219,162.51123046875),256615,3761)
	alife():create("leshyi_bandit2",vector():set(73.583839416504,4.0394349098206,165.05838012695),293392,3761)
	alife():create("leshyi_bandit3",vector():set(55.494750976563,5.3730940818787,178.58168029785),271597,3761)
	alife():create("leshyi_bandit4",vector():set(34.978393554688,5.3088693618774,137.72789001465),244482,3758)
	alife():create("leshyi_bandit5",vector():set(65.206573486328,5.3079919815063,126.71884918213),283540,3758)
	alife():create("leshyi_bandit1",vector():set(13.369506835938,5.3070421218872,128.23449707031),214675,3758)
	alife():create("leshyi_bandit2",vector():set(74.465026855469,9.2216739654541,123.35457611084),294104,3758)
	alife():create("leshyi_bandit3",vector():set(52.820098876953,13.108283042908,123.59986114502),267994,3758)
	alife():create("leshyi_bandit4",vector():set(102.43367004395,3.3080019950867,144.22337341309),326322,3764)
	alife():create("leshyi_bandit5",vector():set(101.94415283203,-0.49409809708595,156.67599487305),326332,3764)
	alife():create("m_poltergeist_tele_outdoor",vector():set(-113.11763763428,-28.484573364258,93.889068603516),153,3832)
	alife():create("m_poltergeist_strong_flame",vector():set(-113.11763763428,-28.484573364258,93.889068603516),153,3832)
	alife():create("psyonik",vector():set(-57.560775756836,-22.015823364258,94.446029663086),6283,3840)
		spawn_restrictor.volna_darkness_sr1()
end
local volna_darkness={
    {position={x=-10.783941268921,y=0.077246487140656,z=73.432067871094},gv=3784,lv=7628},
    {position={x=56.920669555664,y=-0.49999326467514,z=29.126895904541},gv=3806,lv=37703},
    {position={x=62.040378570557,y=1.5928916931152,z=-15.1856508255},gv=3807,lv=33587},
    {position={x=-23.431379318237,y=1.5900814533234,z=-30.071422576904},gv=3774,lv=4986},
    {position={x=-53.433361053467,y=3.208652973175,z=0.71699744462967},gv=3775,lv=460},
    {position={x=7.1541109085083,y=8.0655298233032,z=437.47320556641},gv=3791,lv=18000}
}
function volna_darkness_spawn()
	local a, obj, se_obj, sk_obj, sobj
	obj = alife():create("mil_killer_respawn_1",vector():set(50.960411071777,1.8703521490097,98.016273498535),35215,3811)
		obj:on_death()
	sobj = alife():create("mil_killer_respawn_2",vector():set(5.9219255447388,1.7019983530045,-2.0235850811005),16724,3795)
		sobj:on_death()
	sk_obj = alife():create("mil_freedom_respawn_2",vector():set(23.482803344727,4.6160922050476,-134.85806274414),27742,3809)
		sk_obj:on_death()
		  alife():create("kontrik_labx16",vector():set(46.250877380371,4.7944397926331,-182.71484375),34233,3815)
		  alife():create("controller_babka",vector():set(46.250877380371,4.7944397926331,-182.71484375),34233,3815)
		  alife():create("zombie_hell4",vector():set(46.250877380371,4.7944397926331,-182.71484375),34233,3815)
		  alife():create("poltergeist_build",vector():set(46.250877380371,4.7944397926331,-182.71484375),34233,3815)
		  alife():create("zombie_hell7",vector():set(46.250877380371,4.7944397926331,-182.71484375),34233,3815)
	for i=1,table.getn(volna_darkness) do
		a = volna_darkness[i]
		for i=1,1 do
			se_obj = alife():create("m_poltergeist_tele_outdoor",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("m_poltergeist_strong_flame",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("ghoul_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_hell",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("zombie_immortal",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("tarakan_normal",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("scelet_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
		end
 	end
end
function volna_darkness_have_all()
	return
		new_dialog.item_much("volna_keis",4)
end
function volna_darkness_have()
	if volna_darkness_have_all() and
	not has_alife_info("volna_darkness_have") then
		volna_darkness_bitva()
		return true
	else
		return false
	end
end
function volna_darkness_bitva()
	amk.start_timer("battle", 0, {"jupiter_underground", 30, 1})
	db.actor:give_info_portion("volna_darkness_have")
end
function volna_darkness_done()
	sak.out_item_namber("volna_keis",4)
	sak.create_items_actor("ammo_7.62x51_fmj",2)
	sak.create_items_actor("ammo_7.62x51_ap",2)
end
function fonarik_dimak_give()
	if db.actor:item_in_slot(9) then
		alife():release(alife():object(db.actor:item_in_slot(9):id()))
	end
	sak.create_items_actor("device_torch",1)
end

-- ÍÅÇÂÀÍÛÅ ÃÎÑÒÈ
function volna_reid_start()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Íàøó áàçó îáíàðóæèëè, ó õóòîðà èä¸ò áîé, âîÿêè æìóò ñî âñåõ ñòîðîí.".."".."\n", nil, nil, 30000)
	alife():create("soldier_reid1",vector():set(-172.87739562988,1.3053125143051,-242.39224243164),55672,3372)
	alife():create("soldier_reid2",vector():set(-190.42958068848,0.68339681625366,-243.52299499512),45982,3362)
	alife():create("soldier_reid3",vector():set(-204.7857208252,0.19504436850548,-260.90704345703),38693,3362)
	alife():create("soldier_reid4",vector():set(-207.94967651367,0.57062542438507,-275.6227722168),37473,3362)
	alife():create("soldier_reid1",vector():set(-207.56642150879,0.93910074234009,-297.55743408203),37442,3362)
	alife():create("soldier_reid2",vector():set(-204.8522644043,0.77446377277374,-320.56573486328),40241,3365)
	alife():create("soldier_reid3",vector():set(-188.71412658691,0.22631445527077,-338.60876464844),46514,3365)
	alife():create("soldier_reid1",vector():set(-172.4852142334,0.15590825676918,-345.53979492188),55586,3365)
		amk.start_timer("battle", 0, {"marsh", 34, 1})
end
function volna_reid_spawn()
	alife():create("forest_nebo_regular",vector():set(19.784563064575,2.9352307319641,-259.88162231445),148456,3423)
	alife():create("forest_nebo_veteran",vector():set(13.365531921387,3.252733707428,-247.24282836914),145025,3423)
	alife():create("forest_nebo_master",vector():set(31.659799575806,3.0894227027893,-248.59349060059),155339,3433)
	alife():create("forest_nebo_regular",vector():set(20.523178100586,6.5821852684021,-215.5694732666),148939,3433)
	alife():create("forest_nebo_veteran",vector():set(35.901737213135,6.0718984603882,-216.21200561523),157723,3433)
	alife():create("forest_nebo_master",vector():set(36.398525238037,3.0024631023407,-222.05017089844),158104,3443)
	alife():create("forest_nebo_regular",vector():set(45.652809143066,2.9150462150574,-235.13345336914),162742,3443)
	alife():create("forest_nebo_veteran",vector():set(37.055950164795,2.9152109622955,-244.83941650391),158453,3443)
	alife():create("forest_nebo_master",vector():set(55.46842956543,2.9474971294403,-236.1549987793),168132,3443)
	alife():create("forest_nebo_regular",vector():set(27.473539352417,3.1088583469391,-235.98254394531),152841,3433)
	alife():create("soldier_reid1",vector():set(-26.37762260437,0.41701838374138,-254.2292175293),126768,3407)
	alife():create("soldier_reid2",vector():set(-23.091909408569,2.275780916214,-268.3293762207),128751,3410)
	alife():create("soldier_reid3",vector():set(-29.445875167847,0.54465401172638,-205.52043151855),125313,3403)
	alife():create("soldier_reid4",vector():set(-8.9918966293335,2.3108942508698,-189.14315795898),136784,3442)
	alife():create("soldier_reid1",vector():set(23.326732635498,1.8264654874802,-180.02908325195),150565,3442)
	alife():create("soldier_reid2",vector():set(58.29377746582,0.26290085911751,-182.1215057373),169849,3442)
	alife():create("soldier_reid3",vector():set(67.917762756348,0.26518812775612,-209.6375579834),175181,3452)
	alife():create("soldier_reid1",vector():set(85.164695739746,-0.0081585943698883,-220.35534667969),181133,3452)
	alife():create("soldier_reid2",vector():set(83.643089294434,1.8184958696365,-242.80722045898),184200,3451)
	alife():create("soldier_reid3",vector():set(-34.757247924805,0.63910806179047,-227.2445526123),124480,3403)
end
function volna_reid_desant()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Íà âîñòîêå, íåäàëåêî îò ñìîòðîâîé âûøêè âûñàäèëñÿ äåñàíò.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("agro_elite_soldier",vector():set(134.46662902832,0.96678721904755,-158.21047973633),216121,3478)
	alife():create("agro_elite_soldier",vector():set(108.44972991943,0.80856740474701,-155.11331176758),199770,3465)
	alife():create("agro_elite_soldier",vector():set(122.11015319824,0.7935848236084,-155.04127502441),208600,3465)
	alife():create("agro_elite_soldier",vector():set(122.58383178711,0.95553040504456,-139.74040222168),209055,3465)
	alife():create("agro_elite_soldier",vector():set(171.52377319336,1.7002428770065,-169.2688293457),237033,3479)
	alife():create("agro_elite_soldier",vector():set(184.47811889648,2.2992148399353,-177.95307922363),246955,3479)
	alife():create("agro_elite_soldier",vector():set(180.77494812012,1.1611659526825,-156.22647094727),243911,3496)
	alife():create("agro_elite_soldier",vector():set(128.00032043457,0.73821401596069,-117.3337097168),214402,3465)
	alife():create("agro_elite_soldier",vector():set(150.31904602051,0.98227548599243,-132.89012145996),221418,3479)
	alife():create("agro_elite_soldier",vector():set(97.438171386719,0.42004373669624,-125.76774597168),200260,3465)
	alife():create("agro_elite_rpg",vector():set(171.44413757324,1.3261719942093,-165.13513183594),237035,3479)
	alife():create("agro_elite_rpg",vector():set(143.06245422363,0.073167711496353,-98.126197814941),221052,3469)
	alife():create("agro_elite_rpg",vector():set(76.287353515625,0.20296362042427,-106.18273925781),201226,3469)
	alife():create("agro_elite_sniper1",vector():set(112.50574493408,8.4152488708496,-147.86026000977),202562,3465)
	alife():create("agro_elite_sniper2",vector():set(194.10298156738,1.7450269460678,-185.2254486084),253792,3496)
end
function volna_reid_have(task, info)
     if db.actor:has_info("agro_elite_sniper1_dead") and 
	db.actor:has_info("agro_elite_sniper2_dead") then
		volna_reid_poisk(actor,npc,p1,p2)
		return true
     end
		return false
end
local volna_reid={
    {position={x=18.346044540405,y=2.9625737667084,z=-245.73892211914},gv=3423,lv=147307},
    {position={x=39.702983856201,y=2.901421546936,z=-248.60893249512},gv=3443,lv=159884}
}
function volna_reid_poisk(actor,npc,p1,p2)
	db.actor:give_info_portion("volna_reid_have")
	amk.start_timer("battle", 0, {"marsh", 35, 1})
    local a = volna_reid[math.random(table.getn(volna_reid))]
    local se_obj = alife():create("a_inventory_box48", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
end
function volna_reid_heli()
	amk_mod.spawn_military_tech_pack(alife():create("helicopter",vector():set(77.616012573242,48.0,69.834854125977),180810,3458),"helicopter", "scripts\\ohota\\ohota_vert1.ltx")
	amk_mod.spawn_military_tech_pack(alife():create("helicopter",vector():set(-146.14910888672,70.0,-11.474420547485),61326,3379),"helicopter", "scripts\\ohota\\ohota_vert2.ltx")
	alife():create("zasada_tonnel_agro_1",vector():set(10.73866558075,-0.46215242147446,-168.04850769043),146222,3432)
	alife():create("zasada_tonnel_agro_2",vector():set(-27.783653259277,-0.20551435649395,-195.46522521973),127608,3403)
	alife():create("zasada_tonnel_agro_3",vector():set(-26.321283340454,0.28854140639305,-244.19305419922),126782,3407)
	alife():create("zasada_blockpost_1",vector():set(82.301475524902,-0.42694717645645,-174.49011230469),182003,3457)
	alife():create("zasada_blockpost_2",vector():set(106.01443481445,-0.28290116786957,-213.63710021973),197917,3457)
end
function volna_reid_vert(task, info)
     if db.actor:has_info("ohota_btr1_dead") and 
	db.actor:has_info("ohota_btr2_dead") then
		return db.actor:give_info_portion("volna_reid_vert") and 
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÑÂÈÁËÎÂ:".."\\n".."%c[255,255,128,128]Âðîäå áû âñ¸ ñòèõëî. Îñìîòðè îêðåñòíîñòè è âîçâðàùàéñÿ íà íàøó áàçó. È âèíòîâêó çàõâàòè.".."".."\n", nil, nil, 30000)
     end
		return false
end
function volna_reid_have_all()
	return
		new_dialog.item_much("wpn_b94",1)
end
function volna_reid_done()
	sak.out_item_namber("wpn_b94",1)
end

-- ÂÍÅÇÀÏÍÎÅ ÍÀÏÀÄÅÍÈÅ
function volna_voronin_start()
	alife():create("ros_killer_respawn_1",vector():set(-70.997833251953,-0.0035546123981476,117.94190979004),51471,1419)
	alife():create("ros_killer_respawn_2",vector():set(-78.64714050293,-0.00031635165214539,158.67135620117),49294,1420)
	alife():create("ros_killer_respawn_3",vector():set(-22.771409988403,-0.00076356530189514,152.37725830078),64101,1415)
	alife():create("ros_killer_respawn_4",vector():set(-46.050540924072,-0.00095921754837036,115.90408325195),58852,1418)
	alife():create("ros_killer_respawn_1",vector():set(-44.239822387695,-0.0015867650508881,125.67070007324),59430,1418)
	alife():create("ros_killer_respawn_2",vector():set(-51.906307220459,-0.00011485815048218,138.97825622559),57203,1309)
	alife():create("ros_killer_respawn_3",vector():set(-42.0712890625,0.0020860135555267,150.70909118652),59972,1417)
	alife():create("ros_killer_respawn_4",vector():set(-72.009841918945,-0.00094106793403625,132.13771057129),51073,1310)
	alife():create("ros_killer_respawn_1",vector():set(-88.277770996094,4.0840473175049,137.57035827637),46894,1421)
	alife():create("ros_killer_respawn_2",vector():set(-88.381683349609,4.0839085578918,127.04423522949),46862,1421)
	alife():create("ros_killer_respawn_3",vector():set(-88.550666809082,-0.0012316405773163,123.09722900391),46680,1421)
	alife():create("ros_killer_respawn_4",vector():set(-46.050540924072,-0.00095921754837036,115.90408325195),58852,1418)
	alife():create("killer_reid2",vector():set(-99.506065368652,-0.004770040512085,155.50350952148),45218,1311)
	alife():create("killer_reid2",vector():set(-99.346267700195,0.053146481513977,137.23934936523),45357,1311)
	alife():create("killer_reid1",vector():set(-118.712890625,-4.6879053115845e-005,124.65826416016),43371,1315)
	alife():create("bar_dolg_respawn_1",vector():set(14.000773429871,-0.0042462050914764,148.89224243164),66534,1413)
	alife():create("bar_dolg_respawn_2",vector():set(3.2519912719727,-0.20093214511871,132.74604797363),65992,1413)
	alife():create("bar_dolg_respawn_3",vector():set(11.288167953491,-0.30509608983994,133.66906738281),66374,1413)
	alife():create("bar_dolg_respawn_1",vector():set(10.854554176331,-0.56858658790588,141.9771270752),66386,1413)
	alife():create("bar_dolg_respawn_2",vector():set(-4.5144939422607,-0.00066679716110229,117.73886108398),65481,1416)
	alife():create("bar_dolg_respawn_3",vector():set(14.71283531189,-0.0047468245029449,115.23304748535),66536,1414)
	alife():create("bar_dolg_respawn_1",vector():set(13.793026924133,-0.061315327882767,128.08352661133),66512,1414)
	alife():create("bar_dolg_respawn_2",vector():set(34.383930206299,-0.0082691013813019,127.9899597168),67441,1414)
	alife():create("bar_dolg_respawn_3",vector():set(22.131900787354,-0.00011873245239258,148.69123840332),67026,1412)
end
function volna_voronin_have_all()
	return
		new_dialog.item_much("diversya_pda",1) and
		new_dialog.item_much("detonator_2",5)
end
function volna_voronin_have()
	if volna_voronin_have_all() then
		db.actor:give_info_portion("volna_voronin_have")
		return true
	else
		return false
	end
end
function volna_diversya_start()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("detonator_2",5)
	db.actor:disable_info_portion("biznes_remove_special_item")
	sak.out_item_namber("diversya_pda",1)
	alife():create("a_inventory_box46",vector():set(79.511016845703,0.0825085490942,150.30401611328),29990,1221)
	alife():create("a_inventory_box46",vector():set(123.98241424561,-4.6939389705658,21.045143127441),35381,1238)
	alife():create("a_inventory_box46",vector():set(236.07781982422,5.1635003089905,-3.928117275238),60459,1266)
	alife():create("a_inventory_box46",vector():set(153.87519836426,8.4856491088867,75.010551452637),39679,1184)
	alife():create("a_inventory_box46",vector():set(129.47862243652,2.7607295513153,66.569801330566),36097,1252)
end

-- ÏÎÐÎÕÎÂÀß ÁÎ×ÊÀ
function volna_diversya_have_all()
	return
		new_dialog.item_much("treasure_item",5) and
		new_dialog.item_much("bomba_small",100) and
		new_dialog.item_much("bomba_big",20)
end
function volna_diversya_have()
	if volna_diversya_have_all() then
		db.actor:give_info_portion("volna_diversya_have")
		return true
	else
		return false
	end
end
function volna_diversya_done()
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",3)
	sak.out_item_namber("bomba_small",75)
	sak.out_item_namber("bomba_big",14)
	db.actor:disable_info_portion("biznes_remove_special_item")
end

-- ÒÀÉÍÀ ÑÊÐßÃÈ
local skryga_volna={
    {position={x=-282.47836303711,y=31.451490402222,z=-250.60078430176},gv=3671,lv=378818},
    {position={x=-437.89944458008,y=25.786319732666,z=-217.92481994629},gv=3662,lv=124961},
    {position={x=-360.37066650391,y=12.698920249939,z=-136.5816192627},gv=3662,lv=238263}
}
function skryga_taina_start()
	local a, se_obj
	alife():create("slavka_npc",vector():set(105.20166015625,-8.3076410293579,167.50448608398),399671,1643)
	alife():create("monolith_x8_regular",vector():set(-414.46069335938,36.198455810547,-384.56301879883),156270,3664)
	alife():create("monolith_x8_master",vector():set(-404.83337402344,32.199634552002,-364.12118530273),170898,3664)
	alife():create("monolith_x8_veteran",vector():set(-410.79412841797,32.199314117432,-349.46643066406),161446,3664)
	alife():create("tank_spawn_zasada4",vector():set(-404.82885742188,32.197731018066,-345.20355224609),170950,3664)
	alife():create("monolith_x8_regular",vector():set(-411.93612670898,32.179718017578,-334.85171508789),160493,3664)
	alife():create("monolith_x8_veteran",vector():set(-403.25714111328,32.198619842529,-323.00405883789),173152,3664)
	alife():create("monolith_x8_master",vector():set(-411.27416992188,26.201005935669,-311.7658996582),161550,3664)
	alife():create("tank_spawn_zasada5",vector():set(-425.81286621094,24.238945007324,-322.14727783203),140201,3664)
	alife():create("monolith_x8_regular",vector():set(-421.94564819336,21.819236755371,-341.08972167969),145084,3664)
	alife():create("monolith_x8_veteran",vector():set(-421.83758544922,22.320713043213,-357.27093505859),145084,3664)
	alife():create("monolith_x8_master",vector():set(-416.35180664063,24.198474884033,-370.22799682617),153049,3664)
	alife():create("tank_spawn_zasada7",vector():set(-429.34985351563,24.250967025757,-359.13214111328),135312,3664)
	alife():create("tank_x003",vector():set(-429.34985351563,24.250967025757,-359.13214111328),135312,3664)
	alife():create("monolith_x8_regular",vector():set(-426.98657226563,25.160915374756,-385.51751708984),138107,3664)
	alife():create("monolith_x8_master",vector():set(-407.77130126953,26.22873878479,-385.17620849609),143019,3664)
	alife():create("monolith_x8_veteran",vector():set(-417.51995849609,24.198247909546,-378.09613037109),156281,3664)
	for i=1,table.getn(skryga_volna) do
		a = skryga_volna[i]
		for i=1,1 do
			se_obj = alife():create("spider",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("spider",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("tushkano_strong",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("nosales",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("volkodav",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("kikimora",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("molerat",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
			se_obj = alife():create("bear",vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
		end
 	end
end
function volna_plen_done()
	alife():create("a_inventory_box47",vector():set(-67.988906860352,-16.380630493164,55.26863861084),5240,3847)
	alife():create("poltergeist_build",vector():set(-113.05842590332,-28.484710693359,69.480049133301),119,3833)
	alife():create("m_poltergeist_normal_tele",vector():set(-113.11763763428,-28.484573364258,93.889068603516),153,3832)
	alife():create("m_poltergeist_strong_flame",vector():set(-113.11763763428,-28.484573364258,93.889068603516),153,3832)
	alife():create("m_poltergeist_dd",vector():set(-84.893417358398,-32.360542297363,93.660995483398),2555,3844)
	alife():create("controller_flame",vector():set(-84.893417358398,-32.360542297363,93.660995483398),2555,3844)
	alife():create("kontrik_labx16",vector():set(-45.292686462402,-20.556245803833,65.68293762207),6751,3850)
	alife():create("m_controller_act",vector():set(-63.153469085693,-24.199377059937,73.659301757813),5890,3840)
	alife():create("carlic",vector():set(-106.68594360352,-32.402889251709,87.162796020508),432,3832)
	alife():create("carlic_strong",vector():set(-84.48161315918,-15.943572998047,113.50270080566),2585,3837)
	alife():create("carlic_weak",vector():set(-52.705959320068,-22.034772872925,92.51042175293),6509,3840)
	alife():create("electro_polter",vector():set(-84.48161315918,-15.943572998047,113.50270080566),2585,3837)
	alife():create("polter_xray",vector():set(-84.48161315918,-15.943572998047,113.50270080566),2585,3837)
	alife():create("monolith_x8_regular",vector():set(-140.4810333252,20.591642379761,-361.81442260742),661147,3678)
	alife():create("monolith_x8_master",vector():set(-167.81591796875,22.042999267578,-379.47103881836),603409,3669)
	alife():create("monolith_x8_veteran",vector():set(-106.52103424072,23.988954544067,-385.87850952148),727130,3678)
	alife():create("tank_spawn_zasada6",vector():set(-129.82614135742,24.062282562256,-431.68737792969),682092,3678)
	alife():create("monolith_x8_regular",vector():set(-153.78536987305,20.594572067261,-368.36773681641),633783,3673)
	spawn_restrictor.volna_slavka_sr1()
end
function drug_zombie(actor, npc)
	if db.actor ~= nil then
		db.actor:set_character_community("stranger", 0, 0)
	local chkgoodwill = relation_registry.community_goodwill("zombied", db.actor:id())
	if chkgoodwill < 0 then 
		chkgoodwill = chkgoodwill + 6000
		relation_registry.set_community_goodwill ("zombied", db.actor:id(), chkgoodwill)
	else
		relation_registry.set_community_goodwill ("zombied", db.actor:id(), 6000)
	end
	end
end
function skryga_taina_have_all()
	return
		new_dialog.item_much("psyhodelin",1)
end
function skryga_taina_have()
	if new_dialog.item_much("psyhodelin",1) then
		db.actor:give_info_portion("skryga_taina_have")
		return true
	else
		return false
	end
end
function skryga_slavka()
	sak.out_item_namber("psyhodelin",1)
		amk.start_timer("battle", 0, {"l07_military", 30, 1})
	local se_obj = alife():object("zat_doc")
  	if se_obj then
    		alife():release(se_obj, true)
  	end
end
function delete_slavka_npc()
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"slavka_npc") then
	alife():release(obj,true)
	break
	end
	end
end

-- ÑÅÊÓÍÄÛ ÄÎ ÑÌÅÐÒÈ
function saper_npc_spawn()
	alife():create("saper_npc",vector():set(359.759765625,-7.0059771537781,475.8151550293),1562436,3689)
	alife():create("device_pda_npc",vector():set(360.67050170898,-7.318042755127,477.689453125),1565814,3689)
	spawn_restrictor.zasada_vermaht_sr1()
end
function saper_code_start()
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("rat_strong",vector():set(348.24548339844,-7.0045638084412,460.98110961914),1546160,3689)
	alife():create("tarakan_normal",vector():set(351.76336669922,-4.9879307746887,488.95794677734),1552664,3689)
	alife():create("tarakan_normal",vector():set(351.76336669922,-4.9879307746887,488.95794677734),1552664,3689)
	alife():create("tarakan_normal",vector():set(351.76336669922,-4.9879307746887,488.95794677734),1552664,3689)
	alife():create("tarakan_normal",vector():set(351.76336669922,-4.9879307746887,488.95794677734),1552664,3689)
	alife():create("tarakan_normal",vector():set(351.76336669922,-4.9879307746887,488.95794677734),1552664,3689)
	alife():create("tarakan_normal",vector():set(351.76336669922,-4.9879307746887,488.95794677734),1552664,3689)
	alife():create("tarakan_normal",vector():set(351.76336669922,-4.9879307746887,488.95794677734),1552664,3689)
	alife():create("tarakan_normal",vector():set(351.76336669922,-4.9879307746887,488.95794677734),1552664,3689)
	alife():create("tarakan_normal",vector():set(351.76336669922,-4.9879307746887,488.95794677734),1552664,3689)
	alife():create("tarakan_normal",vector():set(351.76336669922,-4.9879307746887,488.95794677734),1552664,3689)
		amk.start_timer("battle", 0, {"zaton", 34, 1})
end
function mina_bum()
    amk_particle.amk_particle({
	particle="explosions\\explosion_fuelcan",
	pos=db.actor:position(),
	sound=[[weapons\explo\dynamite_boom]]})
	db.actor.health = -0.95
		local obj
		for a=1,65535,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"saper_npc") then
            local h = hit()
            h.power = 10
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0.7
            h.draftsman = obj
            h.type = hit.explosion
            obj:hit (h)
		break
		end
	end
	db.actor:give_info_portion("saper_code_fail")
end
function saper_code_dog()
	alife():create("dog_habaruch",vector():set(337.24102783203,-7.1114039421082,467.48254394531),1529403,3689)
	alife():create("dog_habaruch",vector():set(362.04409790039,-5.508499622345,435.99258422852),1568037,3689)
	alife():create("dog_green",vector():set(336.73104858398,-7.0015430450439,451.40093994141),1528260,3689)
	alife():create("dog_green",vector():set(352.48889160156,-0.4706759750843,502.45227050781),1553764,3698)
	alife():create("dog_sil_hill",vector():set(344.92422485352,-7.0012664794922,442.45550537109),1541664,3689)
	alife():create("dog_strong",vector():set(386.87484741211,-4.6625957489014,490.96728515625),1604561,3698)
	alife():create("dog_skeleton",vector():set(362.04409790039,-5.508499622345,435.99258422852),1568037,3689)
	alife():create("dog_skeleton",vector():set(337.24102783203,-7.1114039421082,467.48254394531),1529403,3689)
	alife():create("dog_zombie",vector():set(331.25961303711,-3.2770400047302,492.63711547852),1519987,3689)
	alife():create("pseudodog_weak",vector():set(352.48889160156,-0.4706759750843,502.45227050781),1553764,3698)
	alife():create("pseudodog_weak",vector():set(331.25961303711,-3.2770400047302,492.63711547852),1519987,3689)
	alife():create("psy_dog",vector():set(396.98712158203,-7.032931804657,482.32830810547),1619924,3698)
end
function saper_code_bandit()
	alife():create("leshyi_bandit1",vector():set(334.21069335938,-7.0015058517456,423.52981567383),1524094,3689)
	alife():create("leshyi_bandit3",vector():set(297.87646484375,1.8520880937576,465.48706054688),1480874,3689)
	alife():create("leshyi_bandit5",vector():set(313.29095458984,18.199304580688,516.94122314453),1496348,3687)
end
function saper_code_biblik()
	alife():create("bibliotekar",vector():set(346.78436279297,-6.8884825706482,408.39743041992),1543865,3689)
	alife():create("bibliotekar",vector():set(315.42584228516,-4.0178565979004,468.11068725586),1499111,3689)
end
function mina_kill_saper()
		local obj
	    for a=1,65535,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"saper_npc") then
            local h = hit()
            h.power = 10
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0.7
            h.draftsman = obj
            h.type = hit.explosion
            obj:hit (h)
                amk_particle.amk_particle({
	particle="explosions\\explosion_fuelcan",
	pos=obj:position(),
	sound=[[weapons\explo\dynamite_boom]]})
		break
	    end
	end
	db.actor:give_info_portion("saper_code_fail")
end
function saper_code_fail()
	if not has_alife_info("saper_code_have") then
		mina_kill_saper()
		return true
	else
		return false
	end
end
function delete_saper_npc()
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"saper_npc") then
	alife():release(obj,true)
	break
	end
	end
end

-- ÐÀÑÑËÅÄÎÂÀÍÈÅ ÓÁÈÉÑÒÂÀ
function hunter_dopros_have()
	return
		new_dialog.item_much("vodka",1)
end
function hunter_dopros()
	sak.out_item_namber("vodka",1)
end
function kruk_npc_hit()
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"kruk_npc") then
            local h = hit()
            h.power = 10
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0
            h.draftsman = obj
            h.type = hit.strike
            obj:hit (h)
		break
	end
	end
	amk.start_timer("battle", 0, {"pripyat", 31, 1})
end
function kruk_vystrel()
	local snd_obj = xr_sound.get_safe_sound_object([[weapons\svu\shoot]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function kruk_ranen()
	db.actor.health = -0.55
end
function kruk_merki()
	alife():create("pri_arhara_naemnik1",vector():set(-31.12321472168,-1.0850661993027,5.6497974395752),158869,3759)
	alife():create("pri_arhara_naemnik2",vector():set(1.5141962766647,-0.60703003406525,23.175582885742),198329,3759)
	alife():create("pri_arhara_naemnik3",vector():set(15.963635444641,0.062973529100418,63.156349182129),221182,3758)
	alife():create("pri_arhara_naemnik4",vector():set(1.9977163076401,-1.478465795517,123.24838256836),200312,3758)
	alife():create("pri_arhara_naemnik5",vector():set(-35.937393188477,-1.0306950807571,162.07577514648),153768,3757)
	alife():create("pri_arhara_naemnik1",vector():set(-105.49600219727,-1.0768793821335,147.03813171387),87795,3754)
	alife():create("pri_arhara_naemnik2",vector():set(-94.996154785156,-0.73118853569031,161.93168640137),95529,3754)
	alife():create("pri_arhara_naemnik3",vector():set(-124.13691711426,-0.0086548626422882,50.282405853271),72962,3750)
	alife():create("pri_arhara_naemnik4",vector():set(-145.62567138672,-0.51396512985229,68.522308349609),55904,3750)
end
function volna_barmen_done()
	amk.start_timer("battle", 0, {"l05_bar", 33, 1})
end

-- ÃÀÓÑÑ-ÓÑÒÀÍÎÂÊÀ
function volna_foto_start()
	alife():create("bw_sniper",vector():set(-504.61944580078,27.304853439331,-146.68170166016),48104,3662)
	alife():create("bw_killers1",vector():set(-415.00314331055,30.198160171509,-377.29776000977),156281,3664)
	alife():create("bw_killers2",vector():set(-414.77319335938,24.179859161377,-382.10104370117),156281,3664)
	alife():create("bw_killers1",vector():set(-423.41928100586,24.255296707153,-377.51672363281),142030,3664)
	alife():create("bw_killers2",vector():set(-418.76379394531,24.193693161011,-386.65185546875),143014,3664)
	alife():create("bw_killers1",vector():set(-404.33624267578,32.198436737061,-366.66662597656),170890,3664)
	alife():create("bw_killers2",vector():set(-411.88629150391,32.1611328125,-351.72756958008),160454,3664)
	alife():create("bw_killers1",vector():set(-404.78140258789,32.19849395752,-344.51959228516),170952,3664)
	alife():create("bw_killers2",vector():set(-404.34405517578,32.201438903809,-324.3957824707),170999,3664)
	alife():create("bw_killers1",vector():set(-373.96539306641,23.956661224365,-189.22549438477),217347,3662)
	alife():create("bw_killers2",vector():set(-358.73284912109,23.199390411377,-180.74841308594),241671,3662)
	alife():create("bw_killers1",vector():set(-395.9384765625,11.99875831604,-50.13200378418),183864,3663)
	alife():create("bw_killers2",vector():set(-393.28179931641,10.998202323914,2.7728168964386),188163,3663)
	alife():create("bw_killers1",vector():set(-398.8994140625,10.999103546143,-10.627922058105),179791,3663)
	alife():create("bw_killers2",vector():set(-412.5283203125,12.201553344727,-22.730916976929),159823,3663)
	alife():create("bw_killers1",vector():set(-401.57577514648,6.8989915847778,-23.890102386475),175586,3663)
	alife():create("bw_killers2",vector():set(-400.84790039063,0.49735137820244,4.1667909622192),176685,3660)
	alife():create("bw_killers1",vector():set(-417.07455444336,-1.1509056091309,62.978179931641),152580,3660)
	alife():create("bw_killers2",vector():set(-460.39926147461,5.0026612281799,57.87321472168),108234,3660)
	alife():create("bw_killers1",vector():set(-449.04608154297,-0.75037968158722,79.831253051758),112928,3660)
		amk.start_timer("battle", 0, {"l05_bar", 30, 1})
end
function volna_foto_have(task, info)
     if db.actor:has_info("volna_foto_gauss1") and 
	db.actor:has_info("volna_foto_gauss2") and 
	db.actor:has_info("volna_foto_gauss3") and 
	db.actor:has_info("volna_foto_gauss4") then
		return db.actor:give_info_portion("volna_foto_have") and
		amk.start_timer("battle", 0, {"zaton", 35, 1})
     end
		return false
end
function volna_foto_done()
	alife():create("pri_arhara_naemnik1",vector():set(-77.736389160156,20.900793075562,110.09446716309),112308,3755)
	alife():create("pri_arhara_naemnik2",vector():set(-82.258796691895,20.901428222656,83.481178283691),107280,3755)
	alife():create("pri_arhara_naemnik3",vector():set(-42.690567016602,16.801105499268,82.863510131836),146273,3755)
	alife():create("pri_arhara_naemnik4",vector():set(-64.59147644043,16.799840927124,84.737968444824),125182,3755)
	alife():create("pri_arhara_naemnik5",vector():set(-81.912376403809,8.6019954681396,105.36045074463),108242,3754)
	alife():create("pri_arhara_naemnik1",vector():set(-42.738933563232,8.6020202636719,82.324424743652),146277,3755)
	alife():create("pri_arhara_naemnik2",vector():set(-51.741603851318,12.699553489685,94.221687316895),137651,3755)
	alife():create("pri_arhara_naemnik3",vector():set(-60.111034393311,4.5011553764343,80.730712890625),129529,3754)
	alife():create("pri_arhara_naemnik4",vector():set(-68.267532348633,4.5011372566223,108.33543395996),121064,3754)
	alife():create("pri_arhara_naemnik5",vector():set(-53.856857299805,8.6002902984619,94.656311035156),135645,3755)
		amk.start_timer("battle", 0, {"l05_bar", 31, 1})
end

-- ÒÐÓÄÍÀß ÌÈØÅÍÜ
function volna_zahar_give()
	sak.create_items_actor("wpn_crossbow",1)
	sak.create_items_actor("ammo_arbolt",100)
end
function volna_zahar_start()
	alife():create("snork_weak",vector():set(203.17477416992,4.1587128639221,110.05065917969),131697,3319)
	alife():create("snork_weak",vector():set(203.17477416992,4.1587128639221,110.05065917969),131697,3319)
	alife():create("snork_weak",vector():set(203.17477416992,4.1587128639221,110.05065917969),131697,3319)
	alife():create("snork_weak",vector():set(239.06481933594,5.1511807441711,104.01383972168),148365,3319)
	alife():create("snork_weak",vector():set(239.06481933594,5.1511807441711,104.01383972168),148365,3319)
	alife():create("snork_weak",vector():set(239.06481933594,5.1511807441711,104.01383972168),148365,3319)
	level.set_weather ("rain")
end
function volna_zahar_bitva()
	level.set_weather ("rain")
	amk.start_timer("battle", 0, {"red_forest", 30, 1})
	db.actor:give_info_portion("volna_zahar_spawn")
end
function volna_zahar_have(task, info)
     if level.get_time_hours() >= 2 and level.get_time_hours() < 6 and 
	db.actor:has_info("ohota_cat1_dead") and 
	db.actor:has_info("ohota_cat2_dead") and 
	db.actor:has_info("ohota_cat3_dead") then
		 db.actor:give_info_portion("volna_zahar_have")
		return true
     end
		return false
end
function volna_zahar_have_all()
	return
		new_dialog.item_much("wpn_crossbow",1) and
		new_dialog.item_much("mutant_snork_leg",2) and
		new_dialog.item_much("treasure_item",1)
end
function volna_zahar_done()
	sak.out_item_namber("wpn_crossbow",1)
	sak.out_item_namber("mutant_snork_leg",2)
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",1)
	db.actor:disable_info_portion("biznes_remove_special_item")
end

-- ÊÐÎÒÎÂÀß ÍÎÐÀ
function volna_sak_have_all()
	return
		new_dialog.item_much("af_provoloka",1)
end
function volna_sak_start()
	alife():create("esc_arhara_stalker_zombied",vector():set(-368.67901611328,-1.3344743251801,194.34660339355),92106,3701)
	alife():create("esc_arhara_stalker_zombied1",vector():set(-339.169921875,-2.8096222877502,171.30712890625),141992,3707)
	alife():create("pri_under_zombied1",vector():set(-306.06420898438,-3.0798449516296,191.87258911133),197926,3707)
	alife():create("upi_eco_zombied1",vector():set(-340.79986572266,-4.2247586250305,213.46363830566),139764,3701)
	alife():create("girl_zombied3",vector():set(-310.61700439453,-1.4589749574661,228.05169677734),189838,3704)
	alife():create("zombie_plague",vector():set(-310.61700439453,-1.4589749574661,228.05169677734),189838,3704)
	alife():create("zombie_plague_komar",vector():set(-310.61700439453,-1.4589749574661,228.05169677734),189838,3704)
	alife():create("voen_zombied1",vector():set(-312.80291748047,-2.6074237823486,268.04641723633),186337,3704)
	alife():create("voen_zombied2",vector():set(-333.7092590332,-3.9734177589417,243.00164794922),151330,3701)
	alife():create("zombie_hell1",vector():set(-312.80291748047,-2.6074237823486,268.04641723633),186337,3704)
	alife():create("zombie_hell2",vector():set(-333.7092590332,-3.9734177589417,243.00164794922),151330,3701)
	alife():create("zombie_hell3",vector():set(-347.42599487305,-2.1201949119568,267.73947143555),129519,3701)
	alife():create("zombie_hell4",vector():set(-386.02398681641,1.1178777217865,253.15377807617),66443,3701)
	alife():create("zombie_hell5",vector():set(-401.45877075195,-2.6630911827087,218.80015563965),42797,3701)
	alife():create("zombie_hell6",vector():set(-394.59457397461,-2.5897319316864,181.56568908691),52861,3701)
	alife():create("zombie_hell7",vector():set(-362.96923828125,-1.8573611974716,247.18142700195),101911,3701)
	alife():create("zombie_hell8",vector():set(-331.65234375,-1.1265696287155,292.44085693359),154812,3704)
	alife():create("zombie_hell9",vector():set(-367.45108032227,-0.57866829633713,141.33796691895),94456,3707)
	alife():create("zombie_hell10",vector():set(-314.20025634766,-0.76412010192871,163.21296691895),183796,3707)
	alife():create("zombie_hell11",vector():set(-278.29437255859,-3.0455565452576,199.35264587402),244031,3704)
	alife():create("zombie_hell12",vector():set(-257.32968139648,-2.8516159057617,232.77381896973),279536,3704)
	alife():create("zombie_blow",vector():set(-314.20025634766,-0.76412010192871,163.21296691895),183796,3707)
	alife():create("zombie_beee",vector():set(-278.29437255859,-3.0455565452576,199.35264587402),244031,3704)
	alife():create("zombie_hell",vector():set(-257.32968139648,-2.8516159057617,232.77381896973),279536,3704)
	alife():create("zombie_hell15",vector():set(-401.45877075195,-2.6630911827087,218.80015563965),42797,3701)
	alife():create("zombie_hell15",vector():set(-394.59457397461,-2.5897319316864,181.56568908691),52861,3701)
	alife():create("zombie_hell15",vector():set(-362.96923828125,-1.8573611974716,247.18142700195),101911,3701)
	alife():create("af_provoloka",vector():set(-373.39404296875,-3.3975820541382,212.06938171387),85311,3701)
end
-- Áîëîòî/Êðàòåð
local sak_boloto_krater={
    vector():set(287.08441162109,-4.9193892478943,433.39788818359),
    vector():set(255.28607177734,-28.585285186768,92.360542297363)
}
function checking_taken_item83(obj)
 	if not has_alife_info("volna_sak_battle") and obj:section()=="af_provoloka" then
	alife():create("bloodsucker_mil",vector():set(250.95845031738,-5.6857471466064,437.50631713867),1141514,3737)
	alife():create("bloodsucker_child",vector():set(324.1618347168,-5.7101454734802,464.57092285156),1233439,3742)
	alife():create("oboroten",vector():set(301.50967407227,-2.3217916488647,388.78625488281),1205996,3742)
	alife():create("boar_kachok",vector():set(267.86282348633,-29.69676399231,64.231414794922),1161714,3740)
	alife():create("rotan",vector():set(230.46548461914,-29.502977371216,110.28753662109),1110023,3740)
	alife():create("spider",vector():set(276.10900878906,-29.765211105347,92.395355224609),1171751,3740)
	alife():create("boar_strong",vector():set(284.85739135742,-29.779644012451,108.19171142578),1183667,3740)
	alife():create("flesh_swamp",vector():set(214.29168701172,-29.617534637451,78.88533782959),1082627,3740)
	alife():create("rotan",vector():set(241.79122924805,-29.644561767578,137.95080566406),1127399,3740)
	alife():create("spider",vector():set(261.05349731445,-29.786596298218,43.650466918945),1152763,3740)
	alife():create("flesh_swamp",vector():set(200.02941894531,-29.039041519165,114.0617980957),1058497,3740)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	amk.start_timer("battle", 0, {"jupiter", 36, 1})
    local a = sak_boloto_krater[math.random(table.getn(sak_boloto_krater))]
    db.actor:set_actor_position(a)
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	db.actor:give_info_portion("teleport_finished")
	db.actor:give_info_portion("volna_sak_battle")
	end
end
-- Âîñò òóííåëü/Òóííåëü ó Ãðàäèðíè
function sak_tunnels_tp()
     if volna_sak_have_all() then
		sak_tunnels_teleport()
		return true
     end
		return false
end
local sak_tunnels={
    vector():set(399.70434570313,4.2790522575378,-123.6561126709),
    vector():set(-361.02252197266,4.2314143180847,385.17565917969)
}
function sak_tunnels_teleport()
	alife():create("burer_build",vector():set(383.59753417969,4.5929274559021,-126.13417053223),1322312,3744)
	alife():create("burer_strong",vector():set(415.31271362305,4.6655979156494,-89.007171630859),1371739,3744)
	alife():create("vypolzen_red",vector():set(399.44506835938,4.5173473358154,-87.589958190918),1345742,3744)
	alife():create("vypolzen_red",vector():set(416.14474487305,9.8514766693115,-125.42995452881),1373959,3744)
	alife():create("vypolzen_red",vector():set(388.54742431641,4.2777223587036,-112.15177154541),1328929,3744)
	alife():create("vypolzen_red",vector():set(410.51541137695,9.8521871566772,-86.584533691406),1363333,3744)
	alife():create("vypolzen_red",vector():set(419.38412475586,4.6980352401733,-107.0866394043),1378292,3744)
	alife():create("m_controller_act",vector():set(-350.51766967773,4.2315602302551,393.57565307617),123808,3703)
	alife():create("controller_flame",vector():set(-350.51766967773,4.2315602302551,393.57565307617),123808,3703)
	alife():create("carlic",vector():set(-374.37850952148,4.2327065467834,394.17098999023),115323,3703)
	alife():create("electro_polter",vector():set(-374.37850952148,4.2327065467834,394.17098999023),115323,3703)
	alife():create("m_poltergeist_dd",vector():set(-304.56842041016,4.2313828468323,392.28594970703),200517,3703)
	alife():create("polter_xray",vector():set(-304.56842041016,4.2313828468323,392.28594970703),200517,3703)
	alife():create("cat_strong",vector():set(-355.57391357422,3.5676205158234,410.60650634766),115364,3703)
	alife():create("cat_normal",vector():set(-355.57391357422,3.5676205158234,410.60650634766),115364,3703)
	alife():create("cat_weak",vector():set(-341.96594238281,3.5682995319366,411.08831787109),137750,3703)
	alife():create("cat_strong",vector():set(-341.96594238281,3.5682995319366,411.08831787109),137750,3703)
	alife():create("cat_normal",vector():set(-332.47396850586,4.2326798439026,397.75592041016),153779,3703)
	alife():create("cat_weak",vector():set(-332.47396850586,4.2326798439026,397.75592041016),153779,3703)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.add_pp_effector("yantar_underground_psi.ppe", 2001, true)
    local a = sak_tunnels[math.random(table.getn(sak_tunnels))]
    db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
-- ßíîâ/Þïèòåð
function sak_monolit_tp()
     if volna_sak_have_all() then
		sak_monolit_teleport()
		return true
     end
		return false
end
local sak_monolit={
    vector():set(-51.16187286377,3.4850885868073,191.8196105957),
    vector():set(334.68890380859,20.703147888184,-311.63967895508)
}
function sak_monolit_teleport()
	alife():create("monolith_x8_regular",vector():set(305.69137573242,27.543348312378,-328.14126586914),1210914,3745)
	alife():create("tank_spawn_zasada3",vector():set(306.01797485352,27.543012619019,-314.61120605469),1210934,3745)
	alife():create("monolith_x8_veteran",vector():set(312.51013183594,27.543226242065,-345.92913818359),1219164,3745)
	alife():create("monolith_x8_master",vector():set(341.25708007813,27.485219955444,-337.20327758789),1261147,3745)
	alife():create("tank_x003",vector():set(352.98617553711,27.543991088867,-321.0224609375),1277770,3745)
	alife():create("monolith_x8_master",vector():set(344.74362182617,27.542961120605,-307.76272583008),1266432,3745)
	alife():create("monolith_x8_regular",vector():set(327.34976196289,27.54305267334,-309.47967529297),1240438,3745)
	alife():create("monolith_x8_veteran",vector():set(349.95922851563,20.539728164673,-313.90444946289),1273603,3745)
	alife():create("tank_spawn_zasada6",vector():set(-58.607032775879,3.4878859519958,209.76127624512),621668,3719)
	alife():create("monolith_x8_regular",vector():set(-51.342781066895,3.4861514568329,209.18086242676),633878,3717)
	alife():create("monolith_x8_veteran",vector():set(-45.828605651855,3.487313747406,218.02673339844),643187,3717)
	alife():create("monolith_x8_master",vector():set(-58.165447235107,3.487368106842,218.97970581055),622760,3719)
	alife():create("tank_spawn_zasada2",vector():set(-58.484603881836,3.4839453697205,176.66551208496),621629,3724)
	alife():create("monolith_x8_regular",vector():set(-43.336318969727,3.485002040863,178.12872314453),646532,3724)
	alife():create("monolith_x8_veteran",vector():set(-51.148735046387,3.483512878418,177.29708862305),633827,3724)
	alife():create("monolith_x8_master",vector():set(-52.188720703125,-0.62602859735489,201.09167480469),631573,3717)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2001)
	level.add_pp_effector("alcohol.ppe", 2002, true)
    local a = sak_monolit[math.random(table.getn(sak_monolit))]
    db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_evil]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function sak_zvuk()
	local snd_obj = xr_sound.get_safe_sound_object([[monsters\controller\controller_presence_2_l]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
-- Êóñòû/Ïàëàòêà
function sak_gigant_tp()
     if volna_sak_have_all() then
		sak_gigant_teleport()
		return true
     end
		return false
end
local sak_gigant={
    vector():set(11.582719802856,26.790554046631,-432.24066162109),
    vector():set(-32.109664916992,2.9038488864899,-25.994201660156)
}
function sak_gigant_teleport()
	alife():create("chimera_strong",vector():set(22.585987091064,24.529891967773,-395.77423095703),750609,3726)
	alife():create("chimera_x_ray",vector():set(-3.5829801559448,24.362789154053,-402.57516479492),708783,3720)
	alife():create("new_electro_chimera",vector():set(-14.501776695251,25.739748001099,-421.72827148438),690923,3726)
	alife():create("chimera_wolf",vector():set(-4.8493452072144,28.232803344727,-445.71911621094),706466,3726)
	alife():create("fire_chimera",vector():set(14.712822914124,28.495552062988,-455.01327514648),741276,3726)
	alife():create("chimera_normal",vector():set(45.718635559082,26.065702438354,-441.78964233398),791740,3726)
	alife():create("new_electro_chimera",vector():set(64.767120361328,24.422006607056,-406.46881103516),825962,3726)
	alife():create("bear",vector():set(53.949100494385,28.863451004028,-380.3525390625),806298,3726)
	alife():create("chimera_black",vector():set(53.949100494385,28.863451004028,-380.3525390625),806298,3726)
	alife():create("gigant_big_strong",vector():set(-45.590469360352,3.7815284729004,10.078701972961),642926,3716)
	alife():create("gigant_virus_strong",vector():set(-68.1689453125,1.988902926445,-34.999858856201),606726,3722)
	alife():create("gigant_super_jumper",vector():set(-20.742681503296,16.925916671753,-73.429420471191),681684,3722)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
    local a = sak_gigant[math.random(table.getn(sak_gigant))]
    db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_evil]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
-- Áîëîòî ó áóíêåðà/Áîëîòî ó ñêëàäà
function sak_bolota_tp()
     if volna_sak_have_all() then
		sak_bolota_teleport()
		return true
     end
		return false
end
local sak_bolota={
    vector():set(-176.6904296875,-4.292031288147,219.80337524414),
    vector():set(-296.40994262695,-2.6843199729919,-266.70642089844)
}
function sak_bolota_teleport()
	alife():create("vypolzen",vector():set(-144.82429504395,1.5187993049622,209.45629882813),474856,3717)
	alife():create("fracture_master",vector():set(-143.44789123535,0.84520959854126,232.15716552734),477358,3717)
	alife():create("karlito",vector():set(-180.19833374023,-2.5369911193848,264.42739868164),412330,3704)
	alife():create("vypolzen",vector():set(-203.43208312988,-4.3116145133972,238.99670410156),372449,3704)
	alife():create("fracture_master",vector():set(-212.2546081543,-4.2883162498474,217.46575927734),358049,3704)
	alife():create("fracture_karlik",vector():set(-209.03088378906,-3.0449297428131,187.65086364746),362732,3717)
	alife():create("vypolzen",vector():set(-175.14004516602,-3.900062084198,168.36570739746),420693,3717)
	alife():create("karlito",vector():set(-155.66549682617,0.80706226825714,147.59925842285),456615,3717)
	alife():create("fracture_karlik",vector():set(-243.54821777344,-2.8386528491974,225.1467590332),303898,3704)
	alife():create("vypolzen",vector():set(-210.3928527832,-4.0658397674561,152.88400268555),360309,3707)
	alife():create("dog_strong",vector():set(-310.52416992188,-2.5320999622345,-238.06805419922),189233,3705)
	alife():create("pseudodog_strong",vector():set(-284.08016967773,-2.7845463752747,-295.74737548828),234020,3710)
	alife():create("dog_habaruch",vector():set(-269.23559570313,-2.0924565792084,-268.25131225586),259047,3710)
	alife():create("dog_green",vector():set(-267.89715576172,-2.7303905487061,-243.91491699219),261449,3705)
	alife():create("dog_sil_hill",vector():set(-271.93307495117,-2.4902505874634,-216.09690856934),255535,3705)
	alife():create("psy_dog",vector():set(-306.30844116211,-1.9474192857742,-196.77383422852),196257,3705)
	alife():create("dog_skeleton",vector():set(-352.32592773438,-2.2012405395508,-219.80476379395),120631,3700)
	alife():create("pseudodog_big",vector():set(-358.2487487793,2.3059310913086,-246.19364929199),109710,3702)
	alife():create("dog_zombie",vector():set(-349.51528930664,1.208936214447,-287.39056396484),125252,3702)
	alife():create("volkodav",vector():set(-323.50305175781,-2.5996944904327,-324.44396972656),167914,3702)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2002)
	level.add_pp_effector("total_recall.ppe", 2003, true)
    local a = sak_bolota[math.random(table.getn(sak_bolota))]
    db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
-- Æä òîííåëü/Ïîäçåìíûé êîìïëåêñ
function sak_new_hell_tp()
     if volna_sak_have_all() then
		sak_new_hell_teleport()
		return true
     end
		return false
end
local sak_new_hell={
    vector():set(-219.41047668457,3.3439955711365,-394.05740356445),
    vector():set(-60.040672302246,17.072931289673,-316.89886474609)
}
function sak_new_hell_teleport()
	alife():create("deathclaw_normal",vector():set(-222.20468139648,3.3451089859009,-368.81799316406),340294,3710)
	alife():create("new_hell",vector():set(-76.141174316406,17.499090194702,-321.41833496094),594114,3710)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2003)
	level.add_pp_effector("snd_shock.ppe", 2004, true)
    local a = sak_new_hell[math.random(table.getn(sak_new_hell))]
    db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
-- ÊÏÏ/Ãðàäèðíÿ
function sak_zombie_tp()
     if volna_sak_have_all() then
		sak_zombie_teleport()
		return true
     end
		return false
end
local sak_zombie={
    vector():set(40.90682220459,25.326107025146,-189.39833068848),
    vector():set(-145.14521789551,8.5706214904785,367.33410644531)
}
function sak_zombie_teleport()
	alife():create("rad_zombied_respawn_1",vector():set(51.453544616699,27.961225509644,-179.84371948242),802928,3727)
	alife():create("rad_zombied_respawn_2",vector():set(76.062850952148,24.08740234375,-182.27833557129),844669,3727)
	alife():create("voen_zombied1",vector():set(56.601806640625,24.013566970825,-168.85852050781),811470,3731)
	alife():create("girl_zombied",vector():set(26.418859481812,23.982933044434,-161.66986083984),758075,3722)
	alife():create("pri_under_zombied1",vector():set(29.036609649658,24.112257003784,-178.12173461914),761778,3722)
	alife():create("upi_eco_zombied2",vector():set(19.633134841919,24.615507125854,-193.77822875977),746093,3727)
	alife():create("girl_zombied1",vector():set(36.473518371582,24.010293960571,-208.17308044434),775600,3727)
	alife():create("esc_arhara_stalker_zombied1",vector():set(63.875583648682,23.988828659058,-209.95091247559),823849,3727)
	alife():create("esc_arhara_stalker_zombied",vector():set(46.544960021973,23.962640762329,-236.28149414063),793276,3727)
	alife():create("controller_babka",vector():set(19.751884460449,24.615396499634,-182.57638549805),746109,3727)
	alife():create("rad_zombied_respawn_1",vector():set(-116.27321624756,9.0950336456299,329.43841552734),525809,3718)
	alife():create("rad_zombied_respawn_2",vector():set(-176.07086181641,9.4743509292603,386.53802490234),418498,3711)
	alife():create("voen_zombied2",vector():set(-112.39208984375,3.2181506156921,356.32720947266),532035,3718)
	alife():create("girl_zombied2",vector():set(-140.43032836914,3.0329914093018,394.99243164063),482507,3711)
	alife():create("pri_under_zombied2",vector():set(-105.453956604,1.9545396566391,381.70483398438),544640,3718)
	alife():create("upi_eco_zombied3",vector():set(-185.419921875,10.319188117981,357.22207641602),402797,3711)
	alife():create("pri_under_zombied3",vector():set(-183.37539672852,10.459328651428,365.87799072266),406392,3711)
	alife():create("girl_zombied3",vector():set(-200.26422119141,4.9948315620422,385.61712646484),378381,3711)
	alife():create("esc_arhara_stalker_zombied1",vector():set(-179.52679443359,-13.73876953125,348.55014038086),413692,3711)
	alife():create("esc_arhara_stalker_zombied",vector():set(-154.04600524902,-10.785758018494,321.17770385742),459271,3718)
	alife():create("kontrik_labx16",vector():set(-179.53190612793,-6.7348265647888,365.42678833008),413716,3711)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2004)
	level.add_pp_effector("alcohol.ppe", 2002, true)
    local a = sak_zombie[math.random(table.getn(sak_zombie))]
    db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_laugh]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
-- Ïåïåëèùå/ÇÐÊ Âîëõîâ
function sak_biblik_tp()
     if volna_sak_have_all() then
		sak_biblik_teleport()
		return true
     end
		return false
end
local sak_biblik={
    vector():set(-391.00271606445,14.585027694702,341.74993896484),
    vector():set(-328.69515991211,7.8543419837952,-36.865661621094)
}
function sak_biblik_teleport()
	alife():create("bibliotekar",vector():set(-402.54846191406,12.440059661865,311.08096313477),41854,3701)
	alife():create("bibliotekar",vector():set(-367.46340942383,15.803638458252,343.92529296875),94734,3701)
	alife():create("bibliotekar_black",vector():set(-420.45599365234,15.048243522644,343.45779418945),17739,3701)
	alife():create("bibliotekar_black",vector():set(-403.09915161133,16.358137130737,369.82357788086),40871,3701)
	alife():create("bibliotekar_black",vector():set(-337.31127929688,8.0796346664429,-38.137508392334),145179,3709)
	alife():create("bibliotekar_black",vector():set(-319.04138183594,8.2071514129639,-41.383445739746),175289,3709)
	alife():create("bibliotekar",vector():set(-305.50729370117,7.7235913276672,-14.873901367188),198815,3708)
	alife():create("bibliotekar",vector():set(-350.74234008789,8.3830766677856,-28.137981414795),123249,3709)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2002)
	level.add_pp_effector("total_recall.ppe", 2003, true)
    local a = sak_biblik[math.random(table.getn(sak_biblik))]
    db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
-- Ïàäàåì â ïðîïàñòü
function sak_polet_tp()
     if volna_sak_have_all() then
		sak_polet()
		return true
     end
		return false
end
function sak_polet()
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
        local a = vector()
        a.x = 227.55102539063
        a.y = 310.497131347656
        a.z = -124.94780731201
        db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
end
-- Âîçâðàùàåìñÿ â Êîïà÷è
function sak_kopachi_tp()
     if volna_sak_have_all() then
		sak_kopachi()
		return true
     end
		return false
end
function sak_kopachi()
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2003)
        local a = vector()
        a.x = -373.6008605957
        a.y = -3.3782382011414
        a.z = 212.21575927734
        db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
end
function sak_effect()
	local snd_obj = xr_sound.get_safe_sound_object([[ambient\organic_moan1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.add_pp_effector("monolith_off.ppe", 2005, false)
	level.add_cam_effector("camera_effects\\prison_1.anm", 25, false, "")
end
function volna_sak_have()
     if volna_sak_have_all() and 
	db.actor:has_info("volna_sak_test") then
		db.actor:give_info_portion("volna_sak_have")
		return true
     end
		return false
end
function volna_sak_done()
	sak.out_item_namber("af_provoloka",1)
end

-- ËÖÓ ÄËß ÌÀÊÑÀ
function max_gunsight_start()
	alife():create("a_inventory_box63",vector():set(53.221542358398,18.741477966309,30.768152236938),8781,2462)
	alife():create("a_inventory_box63",vector():set(13.133480072021,-4.0968990325928,7.8584852218628),4429,2424)
	alife():create("monolith_x8_regular",vector():set(-31.472162246704,-34.484912872314,-13.309116363525),644,2492)
	alife():create("monolith_x8_master",vector():set(-15.808345794678,-34.497856140137,-23.121795654297),1198,2491)
	alife():create("monolith_x8_regular",vector():set(17.887464523315,-34.494594573975,-23.812852859497),2954,2476)
	alife():create("tank_spawn_zasada2",vector():set(36.358001708984,-34.482048034668,-12.72206401825),3822,2474)
	alife():create("monolith_x8_regular",vector():set(27.644998550415,-34.296401977539,-24.214067459106),3466,2488)
	alife():create("monolith_x8_veteran",vector():set(42.140747070313,-34.325695037842,-24.032022476196),3979,2494)
	alife():create("monolith_x8_veteran",vector():set(18.564712524414,-34.478904724121,-42.799613952637),2994,2497)
	alife():create("tank_spawn_zasada",vector():set(-0.22532443702221,-34.481666564941,-36.965427398682),1931,2473)
	alife():create("monolith_x8_regular",vector():set(-15.312101364136,-34.484634399414,-42.27322769165),1235,2500)
	alife():create("monolith_x8_white",vector():set(-41.613502502441,-34.482471466064,-36.673065185547),58,2477)
	alife():create("monolith_x8_regular",vector():set(-39.844764709473,-34.484069824219,-24.343648910522),130,2504)
	alife():create("tank_x003",vector():set(-39.982093811035,-34.47420501709,20.862922668457),144,2509)
	alife():create("monolith_x8_master",vector():set(-11.304277420044,-33.004501342773,21.355375289917),1445,2511)
	alife():create("monolith_x8_veteran",vector():set(-14.668022155762,-34.412311553955,31.521270751953),1299,2482)
	alife():create("tank_spawn_zasada1",vector():set(20.261936187744,-34.500102996826,13.276254653931),3103,2514)
	alife():create("monolith_x8_veteran",vector():set(13.892852783203,-0.14703321456909,34.020866394043),4124,2411)
	alife():create("monolith_x8_regular",vector():set(-1.8013558387756,0.040814310312271,-14.699380874634),1127,2420)
	alife():create("monolith_x8_master",vector():set(39.538017272949,0.030517190694809,18.256938934326),7219,2422)
	alife():create("monolith_x8_veteran",vector():set(19.009897232056,-0.0035742819309235,7.9840230941772),4686,2424)
	alife():create("monolith_x8_regular",vector():set(11.765179634094,-4.5104475021362,9.2780179977417),3800,2424)
	alife():create("tank_x003",vector():set(17.732540130615,-0.048510879278183,33.097751617432),4560,2425)
	alife():create("monolith_x8_veteran",vector():set(35.182273864746,-0.036669343709946,36.795364379883),6753,2427)
	alife():create("monolith_x8_white",vector():set(62.06893157959,-0.057433009147644,33.977264404297),10008,2429)
	alife():create("tank_spawn_zasada3",vector():set(72.519073486328,-0.12347240746021,21.278120040894),10483,2430)
	alife():create("monolith_x8_regular",vector():set(60.680320739746,2.3703236579895,7.8340792655945),9903,2433)
	alife():create("monolith_x8_veteran",vector():set(66.228988647461,15.002393722534,6.2580738067627),10205,2437)
	alife():create("monolith_x8_master",vector():set(46.092979431152,12.207870483398,-10.460911750793),8051,2456)
	alife():create("tank_spawn_zasada4",vector():set(57.954811096191,11.943088531494,18.238492965698),9732,2439)
	alife():create("monolith_x8_veteran",vector():set(55.367851257324,12.284982681274,-14.560106277466),9288,2454)
	alife():create("tank_spawn_zasada5",vector():set(47.397998809814,12.312443733215,-20.9114818573),8267,2416)
	alife():create("tank_x003",vector():set(7.7148599624634,13.301944732666,-19.743831634521),3199,2451)
	alife():create("monolith_x8_white",vector():set(1.0527391433716,12.258226394653,-15.539155960083),2018,2450)
	alife():create("monolith_x8_regular",vector():set(-0.80133426189423,12.232127189636,7.3544058799744),1613,2444)
	alife():create("monolith_x8_master",vector():set(0.31367674469948,12.224013328552,17.093465805054),1797,2445)
	alife():create("monolith_x8_regular",vector():set(-4.0625629425049,11.795708656311,28.962924957275),898,2443)
	alife():create("monolith_x8_veteran",vector():set(29.799507141113,11.861592292786,29.788131713867),6204,2460)
	alife():create("tank_spawn_zasada6",vector():set(26.869009017944,14.296503067017,23.607679367065),5757,2421)
	alife():create("monolith_x8_white",vector():set(2.4358561038971,16.694868087769,28.066923141479),2354,2464)
	alife():create("pri_under_zombied1",vector():set(25.775236129761,20.799402236938,-2.2039980888367),3895,2424)
	alife():create("pri_under_zombied2",vector():set(25.775236129761,20.799402236938,-2.2039980888367),3895,2424)
	alife():create("pri_under_zombied3",vector():set(25.775236129761,20.799402236938,-2.2039980888367),3895,2424)
end
function max_gunsight_have_all()
	return
		new_dialog.item_much("gunsight",2)
end
function max_gunsight_have()
	if new_dialog.item_much("gunsight",2) then
		db.actor:give_info_portion("max_gunsight_have")
		return true
	else
		return false
	end
end
function max_gunsight_done()
	sak.out_item_namber("gunsight",2)
	sak.create_items_actor("grenade_m61",5)
	sak.create_items_actor("af_pero",1)
	sak.create_items_actor("army_counter",23)
end

-- ÏÐÎÂÅÐÊÀ ÍÀ ÏÐÎ×ÍÎÑÒÜ
function viking_npc_spawn()
	alife():create("viking_npc",vector():set(177.84049987793,-0.0067478120326996,64.816444396973),44688,1185)
end
function viking_proverka_have_all()
	return
		new_dialog.item_much("wpn_vepr",1) and
		new_dialog.item_much("ammo_12x76_zhekan",5)
end
function viking_proverka_give(first_speaker, second_speaker)
	spawn_restrictor.viking_proverka_sr1()
	db.actor:transfer_item(db.actor:object("wpn_vepr"), second_speaker)
	news_manager.relocate_item(db.actor, "out", "wpn_vepr")
	db.actor:transfer_item(db.actor:object("ammo_12x76_zhekan"), second_speaker)
	news_manager.relocate_item(db.actor, "out", "ammo_12x76_zhekan")
	sak.out_item_namber("ammo_12x76_zhekan",4)
end
function viking_proverka_begin()
	amk.start_timer("battle", 0, {"l05_bar", 34, 1})
end
function viking_proverka_zombi1()
	alife():create("zombie_strong",vector():set(254.81530761719,3.3406238555908,-143.10238647461),64514,1282)
end
function viking_proverka_zombi2()
	alife():create("zombie_strong",vector():set(242.92945861816,3.2903139591217,-116.10488128662),62011,1277)
	alife():create("zombie_normal",vector():set(302.4762878418,3.450038433075,-144.44676208496),71490,1171)
end
function viking_proverka_zombi3()
	alife():create("zombie_strong",vector():set(286.80285644531,1.7413858175278,-112.69525146484),70122,1283)
	alife():create("zombie_normal",vector():set(266.85610961914,1.459477186203,-90.97932434082),66915,1278)
	alife():create("zombie_normal",vector():set(297.29281616211,4.4973816871643,-155.9743347168),71246,1171)
end
function viking_proverka_zombi4()
	alife():create("zombie_strong",vector():set(254.81530761719,3.3406238555908,-143.10238647461),64514,1282)
	alife():create("zombie_normal",vector():set(242.92945861816,3.2903139591217,-116.10488128662),62011,1277)
	alife():create("zombie_strong",vector():set(302.4762878418,3.450038433075,-144.44676208496),71490,1171)
end
function viking_proverka_zombi5()
	alife():create("zombie_hell1",vector():set(266.85610961914,1.459477186203,-90.97932434082),66915,1278)
	alife():create("zombie_trup2",vector():set(297.29281616211,4.4973816871643,-155.9743347168),71246,1171)
end
function viking_proverka_zombi6()
	alife():create("zombie_ghost",vector():set(254.81530761719,3.3406238555908,-143.10238647461),64514,1282)
	alife():create("zombie_hell2",vector():set(242.92945861816,3.2903139591217,-116.10488128662),62011,1277)
end
function viking_proverka_zombi7()
	alife():create("ohota_zombi3",vector():set(302.4762878418,3.450038433075,-144.44676208496),71490,1171)
end
function viking_proverka_have(task, info)
     if db.actor:has_info("ohota_zombi3_dead") then
		return db.actor:give_info_portion("viking_proverka_have") and 
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Âñåõ ïîðåøèëè, ïîáëèçîñòè íèêîãî íå âèæó. Ïîéäó ñêàæó êàïèòàíó, ÷òî òû ñïðàâèëñÿ ñ çàäàíèåì.".."".."\n", nil, nil, 20000)
     end
		return false
end
function viking_proverka_done()
	sak.create_items_actor("af_parazit",1)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ØÓÐÓÏ:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, çàãëÿíè êî ìíå íà äîñóãå. Íàäî êîå-÷òî îáñóäèòü.".."".."\n", nil, nil, 30000)
end

-- ÐÅÇÅÐÂÍÛÉ ÑÕÐÎÍ
function shurup_shron_start()
	local obj = alife():create("a_inventory_box51",vector():set(144.09243774414,3.9378991127014,-8.1140508651733),242451,2243)
	level.map_add_object_spot_ser(obj.id, "treasure", "Ðåçåðâíûé ñõðîí")
	alife():create("monolith_x8_regular",vector():set(103.88446044922,-0.93622410297394,-46.540046691895),214296,2241)
	alife():create("monolith_x8_veteran",vector():set(102.96759033203,3.951895236969,-21.197071075439),213646,2232)
	alife():create("monolith_x8_regular",vector():set(103.37755584717,3.9516620635986,-11.247626304626),214364,2231)
	alife():create("monolith_x8_master",vector():set(103.86315917969,-0.96043539047241,-15.453995704651),214354,2229)
	alife():create("tank_spawn_zasada6",vector():set(126.9750213623,-0.94539523124695,-22.420322418213),231874,2230)
	alife():create("monolith_x8_regular",vector():set(133.20068359375,-0.93371272087097,-53.507217407227),235504,2240)
	alife():create("monolith_x8_veteran",vector():set(132.78610229492,3.9371094703674,-26.260334014893),235542,2242)
	alife():create("tank_x003",vector():set(132.83671569824,-0.92924964427948,-31.782955169678),235529,2236)
	alife():create("monolith_x8_regular",vector():set(70.548294067383,-2.2319157123566,-14.166653633118),182133,2228)
	alife():create("monolith_x8_veteran",vector():set(81.052879333496,-7.395555973053,26.237564086914),192562,2227)
	alife():create("monolith_x8_regular",vector():set(79.235542297363,-7.3914227485657,12.877863883972),190444,2227)
	alife():create("monolith_x8_master",vector():set(99.503135681152,-7.3918843269348,18.105377197266),210085,2226)
	alife():create("tank_spawn_zasada7",vector():set(100.10848999023,-7.3909530639648,12.290448188782),210790,2226)
	alife():create("monolith_x8_regular",vector():set(114.07702636719,-4.1000633239746,52.857688903809),224323,2143)
	alife():create("monolith_x8_veteran",vector():set(99.345794677734,-2.220908164978,61.350559234619),210107,2143)
	sak.create_items_actor("conserva",6)
	sak.create_items_actor("grenade_rgd5",5)
	sak.create_items_actor("wpn_famas_p3_sk1",2)
	sak.create_items_actor("ammo_5.56x45_ss190",5)
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"viking_npc") then
	alife():release(obj,true)
	break
	end
	end
end
function object_by_section_offline(section)
	local obj
	for i=1,65534 do
	obj = alife():object(i)
	if obj and obj:section_name() == section then
		return obj
	end
	end
		return nil
end
	local habar1 = {
		{section = "amk_metka", need = 1, have = 0},
		{section = "bandage", need = 8, have = 0},
		{section = "conserva", need = 6, have = 0},
		{section = "grenade_rgd5", need = 5, have = 0},
		{section = "medkit_army", need = 4, have = 0},
		{section = "antirad", need = 4, have = 0},
		{section = "antizombie", need = 2, have = 0},
		{section = "wpn_famas_p3_sk1", need = 2, have = 0},
		{section = "ammo_5.56x45_ss190", need = 5, have = 0}
					}
	local habar2 = {
		{section = "vodka_a", need = 30, have = 0},
		{section = "conserva", need = 10, have = 0}
					}
	local habar3 = {
		{section = "vodka", need = 20, have = 0}
					}
	local habar4 = {
		{section = "bomba_big", need = 15, have = 0}
					}
function check_habar1(first_speaker, second_speaker)
	return
		box_is_full("a_inventory_box51",habar1)
end
function box_is_full(box_section,items)
    local box = object_by_section_offline(box_section)
    if not box then
        return false
    end
    local item
    local result = true
    for id=1,65534 do
        item = alife():object(id)
        if item and item.parent_id == box.id then
            for i=1,#items do
                if item:section_name() == items[i].section then
                items[i].have = items[i].have+1
                                break
                end
            end
        end
    end
    for i=1,#items do
        if items[i].have < items[i].need then
            result = false
        end
        items[i].have = 0
    end
    return result
end
function check_habar_in_box1()
	if has_alife_info("shurup_shron_start") and
	not has_alife_info("shurup_shron_have") and
	level.name() == "l11_pripyat" and
	db.actor:position():distance_to(vector():set(144.09243774414,3.9378991127014,-8.1140508651733)) < 2.5 and
	box_is_full("a_inventory_box51",habar1) then
		db.actor:give_info_portion("shurup_shron_have")
		amk.start_timer("battle", 0, {"l11_pripyat", 31, 1})
	elseif has_alife_info("ohota_tushkan_done") and
	not has_alife_info("kalinin_diversya_have") and
	level.name() == "atp_for_test22" and
	db.actor:position():distance_to(vector():set(66.562271118164,-7.2045879364014,-94.185256958008)) < 2.5 and
	box_is_full("a_inventory_box53",habar2) then
		db.actor:give_info_portion("kalinin_diversya_have")
	elseif has_alife_info("kontrik_vodka_start") and
	not has_alife_info("kontrik_vodka_have") and
	level.name() == "l05_bar" and
	db.actor:position():distance_to(vector():set(363.38580322266,10.65385055542,-180.01318359375)) < 2.5 and
	box_is_full("a_inventory_box60",habar3) then
		db.actor:give_info_portion("kontrik_vodka_have")
		amk.start_timer("battle", 0, {"l05_bar", 36, 1})
		level.add_pp_effector ("radar_psi.ppe", 2003, false)
		local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_evil]])
		snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	elseif has_alife_info("nazar_spider_start") and
	not has_alife_info("nazar_spider_have") and
	level.name() == "zaton" and
	db.actor:position():distance_to(vector():set(-125.37658691406,-11.084630966187,-218.41932678223)) < 2.5 and
	box_is_full("a_inventory_box64",habar4) then
		db.actor:give_info_portion("nazar_spider_have")
	end
end
function golem_npc_spawn()
	local sobj = alife():create("golem_npc",vector():set(-121.47099304199,-3.4733142852783,103.76359558105),6494,2216)
		sobj:on_death()
	alife():create("kontrik_labx16",vector():set(-112.60620880127,-2.0005702972412,102.15448760986),9688,2216)
	alife():create("rad_zombied_respawn_1",vector():set(-97.625671386719,-2.2072124481201,114.51957702637),18678,2211)
	alife():create("zombie_immortal",vector():set(-84.382720947266,-0.0069426000118256,96.446472167969),25405,2211)
	alife():create("rad_zombied_respawn_2",vector():set(-100.90350341797,-2.236362695694,61.248432159424),16458,2140)
	alife():create("zombie_ghost",vector():set(-80.083160400391,-2.3908083438873,44.500453948975),28323,2139)
	alife():create("voen_zombied1",vector():set(-80.083160400391,-2.3908083438873,44.500453948975),28323,2139)
	alife():create("rad_zombied_respawn_3",vector():set(-58.663909912109,-1.7322915792465,48.17520904541),42697,2165)
	alife():create("zombie_trup2",vector():set(-50.774597167969,-0.0025668740272522,95.953254699707),48467,2215)
	alife():create("esc_arhara_stalker_zombied",vector():set(-31.247146606445,-2.3947851657867,72.184776306152),67872,2165)
	alife():create("voen_zombied2",vector():set(0.64618939161301,-0.64913427829742,100.60430145264),103034,2142)
	alife():create("zombie_plague_komar",vector():set(0.64618939161301,-0.64913427829742,100.60430145264),103034,2142)
	alife():create("esc_arhara_stalker_zombied1",vector():set(28.699920654297,-2.2209453582764,80.760963439941),137907,2142)
	alife():create("zombie_beee",vector():set(-21.350141525269,-1.7336523532867,42.751411437988),77172,2165)
end
function checking_taken_item84(obj)
 	if not has_alife_info("taynik_golem_start") and obj:section()=="golem_pda" then
	alife():create("kruger_npc",vector():set(-115.67674255371,-1.978293299675,95.994918823242),8314,2216)
	alife():create("freddi_npc",vector():set(-118.90791320801,-2.0013754367828,98.942390441895),7182,2216)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÊÐÞÃÅÐ:".."\\n".."%c[255,255,128,128]Ýé, ñòàëêåð, âûëàçü îòòóäà, ïîáàçàðèòü íóæíî. È áåç ãëóïîñòåé!".."".."\n", nil, nil, 30000)
	this.taynik_golem_spawn(actor,npc,p1,p2)
		db.actor:give_info_portion("taynik_golem_start")
	end
end
function kruger_have_all()
	return
		new_dialog.item_much("golem_pda",1)
end
function kruger_give(first_speaker, second_speaker)
	dialogs.relocate_item_section(second_speaker, "golem_pda","out")
	aem_manager.manage_money(10000, "out")
	this.kruger_hit()
end
function kruger_hit()
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
	if obj and (string.find(obj:name(),"kruger_npc") or string.find(obj:name(),"freddi_npc")) then
            local h = hit()
            h.power = 0.2
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0
            h.draftsman = db.actor
            h.type = hit.explosion
            obj:hit (h)
	end
	end
end
function kruger_bandit()
	alife():create("leshyi_bandit1",vector():set(-108.27822875977,-2.07199883461,87.084411621094),12212,2140)
	alife():create("leshyi_bandit2",vector():set(-103.26918029785,-2.0339403152466,92.141860961914),14639,2216)
	alife():create("leshyi_bandit3",vector():set(-106.5523223877,-2.0339767932892,99.416275024414),14252,2216)
	alife():create("leshyi_bandit4",vector():set(-112.70433044434,-2.0004682540894,118.28272247314),9714,2216)
	alife():create("leshyi_bandit5",vector():set(-125.047706604,-0.39960277080536,100.22666168213),5817,2216)
	alife():create("leshyi_bandit1",vector():set(-123.69911193848,2.7971496582031,103.68168640137),6100,2216)
end
function dragunov_golem()
	aem_manager.manage_money(10000, "in")
	sak.out_item_namber("golem_pda",1)
end
function shurup_shron_done(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	amk.save_variable("chertez_dimak", gtime + math.random(3, 3) * 60)
	sak.create_items_actor("wpn_fn57",1)
	sak.create_items_actor("ammo_5.7x28_ap",2)
	sak.create_items_actor("ammo_5.7x28_ss190",2)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÎÁÙÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Ýòî Äèìàê. Êòî æåëàåò êóïèòü ÏÄÀ ñ äàííûìè î òàéíèêå ñ ÷åðòåæàìè Steyr AUG, æäó âàøèõ ïðåäëîæåíèé. Íà÷àëüíàÿ öåíà - 5 òûñÿ÷.".."".."\n", nil, nil, 30000)
		amk.start_timer("battle", 0, {"l07_military", 33, 1})
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"a_inventory_box51") then
	alife():release(obj,true)
	break
	end
	end
end

-- ÒÀÉÍÈÊ ÃÎËÅÌÀ
local taynik_golem={
    {position={x=162.31185913086,y=-12.006627082825,z=133.41340637207},gv=1291,lv=42199},
    {position={x=135.89637756348,y=-16.680484771729,z=133.09576416016},gv=1291,lv=37146},
    {position={x=142.19755554199,y=-21.060808181763,z=111.46785736084},gv=1205,lv=38289}
}
function taynik_golem_spawn(actor,npc,p1,p2)
    local a = taynik_golem[math.random(table.getn(taynik_golem))]
    local se_obj = alife():create("a_inventory_box52", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
end
function taynik_golem_have()
	if new_dialog.item_much("af_serpantin",1) then
		db.actor:give_info_portion("taynik_golem_have")
		return true
	else
		return false
	end
end

-- ÑÏÀÂÍ ÌÓÒÀÍÒÎÂ Â Õ-16 ÏÎ ÊÂÅÑÒÀÌ
function x16_mutant_spawn()
	alife():create("m_poltergeist_dd",vector():set(48.539173126221,5.5839471817017,-11.252400398254),5412,1538)
	alife():create("burer_electro",vector():set(1.6461234092712,5.588267326355,15.058524131775),4362,1537)
	alife():create("polter_xray",vector():set(93.678657531738,5.640881061554,-31.936260223389),6427,1544)
	alife():create("snork_strong",vector():set(83.659713745117,10.176277160645,-10.013144493103),6093,1544)
	alife():create("controller_babka",vector():set(-82.839706420898,21.577053070068,-13.059232711792),933,1530)
	alife():create("electro_polter",vector():set(77.949111938477,10.176076889038,-15.032337188721),5860,1544)
	alife():create("yan_zombied_respawn_1",vector():set(-37.779769897461,-4.1204915046692,-18.695709228516),2934,1534)
	alife():create("yan_zombied_respawn_2",vector():set(-35.487396240234,3.462619304657,4.7868704795837),3138,1532)
	alife():create("m_controller_act",vector():set(-52.262977600098,3.4682364463806,-15.916584014893),1969,1535)
	alife():create("zombie_trup2",vector():set(32.522281646729,5.5828676223755,-12.819306373596),4684,1538)
	alife():create("zombie_strong",vector():set(-54.800640106201,-4.1208434104919,-14.885666847229),1860,1531)
	alife():create("controller_flame",vector():set(-64.491973876953,11.56290435791,-10.221761703491),1270,1530)
	alife():create("zombie_immortal",vector():set(-42.923664093018,11.565093994141,-4.2407474517822),2535,1532)
end

-- ÌÅÒÊÈÉ ÑÒÐÅËÎÊ
function borov_bottle_start()
	alife():create("bloodsucker_strong",vector():set(104.6078338623,0.70235359668732,-13.035484313965),300911,982)
	alife():create("volkodav",vector():set(105.28910827637,0.046858131885529,-75.867889404297),300821,978)
	alife():create("volkodav",vector():set(130.40686035156,0.17437443137169,-25.982902526855),327649,980)
	alife():create("volkodav",vector():set(121.72108459473,0.12089124321938,-18.893835067749),318902,980)
	spawn_restrictor.borov_bottle_sr1()
end
function borov_bottle_spawn()
	alife():create("quest_vodka",vector():set(50.144065856934,1.9814517498016,-37.293888092041),238905,990)
	alife():create("quest_vodka",vector():set(50.127235412598,1.982654094696,-33.908508300781),238907,990)
	alife():create("quest_vodka",vector():set(50.145126342773,1.981073141098,-31.551940917969),238909,990)
	alife():create("quest_vodka",vector():set(57.754837036133,8.7052164077759,-20.70735168457),250902,990)
	alife():create("quest_vodka",vector():set(63.1051902771,1.6070939302444,-33.577663421631),251716,990)
	alife():create("quest_vodka",vector():set(58.181034088135,3.8097984790802,-21.83837890625),244560,990)
	alife():create("quest_vodka",vector():set(50.009670257568,1.9813046455383,-54.348728179932),236483,1083)
	alife():create("quest_vodka",vector():set(45.87984085083,4.5413241386414,-66.035697937012),232774,991)
	alife():create("quest_vodka",vector():set(45.868057250977,4.541467666626,-70.940765380859),236444,991)
	alife():create("quest_vodka",vector():set(45.851631164551,4.5426926612854,-75.723945617676),232765,991)
	alife():create("quest_vodka",vector():set(64.168533325195,3.4942452907562,2.083958864212),253389,993)
	alife():create("quest_vodka",vector():set(48.59147644043,12.068895339966,2.6450276374817),235720,817)
	alife():create("quest_vodka",vector():set(51.327754974365,12.069535255432,5.2051224708557),238950,817)
	alife():create("quest_vodka",vector():set(50.824440002441,14.024128913879,3.0114841461182),238144,817)
	alife():create("quest_vodka",vector():set(37.083297729492,4.6802048683167,-4.196916103363),219773,1029)
	alife():create("quest_vodka",vector():set(37.059783935547,4.679370880127,-1.5605986118317),219785,1030)
	alife():create("quest_vodka",vector():set(37.065921783447,4.6802039146423,0.79401844739914),219792,1030)
	alife():create("quest_vodka",vector():set(37.152503967285,7.4574174880981,-6.4961891174316),219768,1029)
	alife():create("quest_vodka",vector():set(41.038314819336,7.2420778274536,5.7116394042969),219810,1030)
	alife():create("quest_vodka",vector():set(27.383827209473,7.4575204849243,5.5457592010498),214902,1030)
	alife():create("quest_vodka",vector():set(45.2526512146,8.1543226242065,-20.466682434082),231072,1055)
	alife():create("quest_vodka",vector():set(45.296047210693,4.8933906555176,-20.377727508545),230089,1107)
	alife():create("quest_vodka",vector():set(45.291923522949,2.3331773281097,-20.360500335693),230090,1105)
	alife():create("quest_vodka",vector():set(50.227195739746,16.052742004395,-24.771472930908),236552,1060)
	alife():create("quest_vodka",vector():set(49.71573638916,16.062376022339,-38.672561645508),236543,1060)
	alife():create("quest_vodka",vector():set(49.703807830811,14.814562797546,-47.260864257813),236543,1060)
	alife():create("quest_vodka",vector():set(49.769355773926,15.021878242493,-50.026916503906),236543,1060)
	alife():create("quest_vodka",vector():set(49.834293365479,15.022465705872,-52.982612609863),236543,1060)
	alife():create("quest_vodka",vector():set(49.799770355225,15.020257949829,-55.902877807617),236543,1060)
	alife():create("quest_vodka",vector():set(49.800628662109,15.022464752197,-58.73641204834),236543,1060)
	alife():create("quest_vodka",vector():set(50.097408294678,12.862385749817,-61.485481262207),234615,1068)
	alife():create("quest_vodka",vector():set(45.715019226074,14.45521068573,-61.449432373047),231846,1068)
	alife():create("quest_vodka",vector():set(43.03617477417,16.056169509888,-61.456420898438),229880,1068)
	alife():create("quest_vodka",vector():set(42.935440063477,16.054489135742,-47.268867492676),228141,1066)
	alife():create("quest_vodka",vector():set(42.866275787354,15.422074317932,-42.962356567383),224357,1060)
	alife():create("quest_vodka",vector():set(49.328796386719,12.481492042542,-59.450130462646),234619,1068)
	alife():create("quest_vodka",vector():set(47.152210235596,12.675834655762,-52.178867340088),233734,1068)
	alife():create("quest_vodka",vector():set(47.469635009766,12.869099617004,-54.843856811523),234647,1068)
	alife():create("quest_vodka",vector():set(31.189289093018,16.061336517334,-48.37215423584),223346,1060)
	alife():create("quest_vodka",vector():set(31.238304138184,16.058877944946,-51.61986541748),223346,1060)
	alife():create("quest_vodka",vector():set(31.213195800781,16.060997009277,-54.444763183594),223346,1060)
	alife():create("quest_vodka",vector():set(31.208553314209,16.061792373657,-57.340377807617),223346,1060)
	alife():create("quest_vodka",vector():set(31.209415435791,16.061792373657,-60.474945068359),223346,1060)
	alife():create("quest_vodka",vector():set(50.112628936768,16.06231880188,-32.416248321533),236552,1060)
	alife():create("quest_vodka",vector():set(49.703544616699,11.260245323181,-39.708099365234),232869,1060)
	alife():create("quest_vodka",vector():set(49.705421447754,11.261057853699,-46.576629638672),232841,1060)
	alife():create("quest_vodka",vector():set(50.146697998047,12.542359352112,-37.729454040527),236543,1060)
	alife():create("quest_vodka",vector():set(50.142852783203,12.541075706482,-34.3297996521),236559,1061)
	alife():create("quest_vodka",vector():set(50.135772705078,12.541441917419,-31.381597518921),236575,1061)
	alife():create("quest_vodka",vector():set(50.166778564453,12.643065452576,-25.491889953613),236605,1061)
	alife():create("quest_vodka",vector():set(50.140625,12.540741920471,-27.979484558105),236593,1061)
	alife():create("quest_vodka",vector():set(50.056011199951,9.122106552124,-37.648483276367),236542,1058)
	alife():create("quest_vodka",vector():set(50.054790496826,9.1227216720581,-34.047794342041),236558,1057)
	alife():create("quest_vodka",vector():set(50.05207824707,9.1229848861694,-31.900398254395),236570,1057)
	alife():create("quest_vodka",vector():set(50.056003570557,9.1226959228516,-25.44832611084),236608,1057)
	alife():create("quest_vodka",vector():set(50.150833129883,9.0209455490112,-28.758029937744),236588,1057)
	alife():create("quest_vodka",vector():set(50.158340454102,5.5014266967773,-36.608016967773),236550,1070)
	alife():create("quest_vodka",vector():set(50.170726776123,1.9821226596832,-57.27717590332),238880,991)
	alife():create("quest_vodka",vector():set(49.761779785156,4.5413250923157,-46.10534286499),236521,1070)
	alife():create("quest_vodka",vector():set(45.416126251221,11.77475643158,-16.587614059448),231078,1063)
	alife():create("quest_vodka",vector():set(43.386840820313,12.867830276489,-19.499876022339),229121,1063)
	alife():create("quest_vodka",vector():set(50.157825469971,5.6018090248108,-48.010665893555),236518,1075)
	alife():create("quest_vodka",vector():set(50.163345336914,5.6018552780151,-51.865940093994),236499,1075)
	alife():create("quest_vodka",vector():set(50.164485931396,5.6017332077026,-53.74641418457),236491,1075)
	alife():create("quest_vodka",vector():set(50.164245605469,5.6030340194702,-57.723945617676),236465,1075)
	alife():create("quest_vodka",vector():set(50.090747833252,5.6029558181763,-59.862663269043),236456,1075)
	alife():create("quest_vodka",vector():set(50.050666809082,5.5986881256104,-34.588150024414),236557,1088)
	alife():create("quest_vodka",vector():set(50.122573852539,5.5014963150024,-31.632484436035),236573,1088)
	alife():create("quest_vodka",vector():set(50.065395355225,5.6030502319336,-28.33678817749),240568,990)
	alife():create("quest_vodka",vector():set(50.146465301514,5.5016350746155,-25.869087219238),236603,1088)
	alife():create("quest_vodka",vector():set(50.163955688477,9.1225957870483,-48.449081420898),236518,1075)
	alife():create("quest_vodka",vector():set(50.165710449219,9.1218814849854,-51.320587158203),236499,1075)
	alife():create("quest_vodka",vector():set(50.162391662598,9.1229496002197,-57.027294158936),236469,1075)
	alife():create("quest_vodka",vector():set(50.155891418457,9.1218557357788,-55.095851898193),236481,1075)
	alife():create("quest_vodka",vector():set(45.735645294189,10.493456840515,-81.156517028809),230841,1078)
	alife():create("quest_vodka",vector():set(45.415500640869,10.493895530701,-71.913604736328),230862,1078)
	alife():create("quest_vodka",vector():set(45.679351806641,10.493891716003,-61.721500396729),230886,1076)
	alife():create("quest_vodka",vector():set(40.112228393555,12.717997550964,-67.390693664551),224265,1076)
	alife():create("quest_vodka",vector():set(40.112071990967,12.716432571411,-75.043251037598),224265,1076)
	alife():create("quest_vodka",vector():set(22.709827423096,8.734471321106,-90.449295043945),200682,1099)
	alife():create("quest_vodka",vector():set(33.849361419678,4.5413384437561,-88.887168884277),200683,1099)
	alife():create("quest_vodka",vector():set(38.725872039795,12.032042503357,-99.236473083496),223211,820)
	alife():create("quest_vodka",vector():set(37.741096496582,12.034886360168,-98.128646850586),221459,820)
	alife():create("quest_vodka",vector():set(38.268203735352,13.987295150757,-100.87013244629),221453,820)
	alife():create("quest_vodka",vector():set(56.411277770996,1.7353943586349,-101.9105758667),246881,977)
	alife():create("quest_vodka",vector():set(56.901020050049,2.2338292598724,-102.87330627441),246881,977)
	alife():create("quest_vodka",vector():set(58.612930297852,2.9224801063538,-102.68552398682),247664,977)
	alife():create("quest_vodka",vector():set(58.946670532227,0.7768160700798,-103.3314666748),247663,977)
	alife():create("quest_vodka",vector():set(41.202941894531,0.91432517766953,-117.53323364258),227065,869)
	alife():create("quest_vodka",vector():set(41.20906829834,0.91452103853226,-114.98240661621),227069,869)
	alife():create("quest_vodka",vector():set(41.214378356934,0.9152717590332,-112.36213684082),227073,869)
	alife():create("quest_vodka",vector():set(41.229484558105,1.0406279563904,-109.73136138916),227076,869)
	alife():create("quest_vodka",vector():set(41.227653503418,1.2811512947083,-107.14445495605),227080,869)
	alife():create("quest_vodka",vector():set(41.239337921143,1.3509021997452,-104.54272460938),227083,869)
	alife():create("quest_vodka",vector():set(41.277267456055,1.4829567670822,-101.95088195801),227087,869)
	alife():create("quest_vodka",vector():set(15.540704727173,-1.6789716482162,-130.81275939941),193341,869)
	alife():create("quest_vodka",vector():set(15.600570678711,-1.6736868619919,-124.41317749023),193341,869)
	alife():create("quest_vodka",vector():set(15.539066314697,-1.6745797395706,-116.53915405273),194218,874)
	alife():create("quest_vodka",vector():set(15.642894744873,-1.6733121871948,-110.09346008301),194227,874)
	alife():create("quest_vodka",vector():set(43.615421295166,3.1888670921326,-85.546829223633),230834,977)
	alife():create("quest_vodka",vector():set(5.5688109397888,2.5846354961395,-93.868965148926),183924,1038)
	alife():create("quest_vodka",vector():set(6.4974498748779,2.1374144554138,-95.192672729492),181444,1036)
	alife():create("quest_vodka",vector():set(50.163982391357,9.020941734314,-59.848327636719),240526,991)
	alife():create("quest_vodka",vector():set(65.694061279297,23.926155090332,-20.405330657959),236609,1061)
	alife():create("quest_vodka",vector():set(57.508575439453,23.929300308228,-21.517543792725),236609,1061)
	alife():create("quest_vodka",vector():set(61.67985534668,23.928522109985,-20.923442840576),236609,1061)
	alife():create("quest_vodka",vector():set(56.663124084473,29.720378875732,-21.314489364624),236609,1061)
	alife():create("quest_vodka",vector():set(56.657859802246,29.729162216187,-18.919227600098),236609,1061)
	alife():create("quest_vodka",vector():set(56.710506439209,26.209268569946,-16.650941848755),236609,1061)
	alife():create("quest_vodka",vector():set(56.671867370605,26.209465026855,-18.528118133545),236609,1061)
	alife():create("quest_vodka",vector():set(54.590629577637,26.211191177368,-18.574569702148),236609,1061)
	alife():create("quest_vodka",vector():set(55.485023498535,26.550155639648,-21.453113555908),236609,1061)
	alife():create("quest_vodka",vector():set(55.493301391602,26.550277709961,-18.767681121826),236609,1061)
	alife():create("quest_vodka",vector():set(55.119262695313,23.910636901855,-18.847158432007),236609,1061)
	alife():create("quest_vodka",vector():set(53.773693084717,23.85094833374,-20.456802368164),236609,1061)
	alife():create("quest_vodka",vector():set(57.063987731934,18.058961868286,-19.872653961182),242189,990)
	alife():create("quest_vodka",vector():set(54.360134124756,18.06060218811,-21.138584136963),242188,990)
	alife():create("quest_vodka",vector():set(98.154907226563,6.7824816703796,-14.307493209839),293313,986)
	alife():create("quest_vodka",vector():set(91.661422729492,9.1076440811157,-1.6693291664124),287871,986)
	alife():create("quest_vodka",vector():set(50.170703887939,1.9826464653015,-25.684467315674),238913,990)
	alife():create("quest_vodka",vector():set(50.170513153076,1.9813508987427,-28.713687896729),240568,990)
	alife():create("quest_vodka",vector():set(40.521167755127,7.2416162490845,13.740509033203),226394,994)
	alife():create("quest_vodka",vector():set(37.133926391602,7.4569282531738,5.5597476959229),219810,1030)
	alife():create("quest_vodka",vector():set(27.331922531128,7.4573044776917,-6.4824585914612),209484,1029)
	alife():create("quest_vodka",vector():set(45.889949798584,4.5411076545715,-80.272300720215),240512,977)
	alife():create("quest_vodka",vector():set(50.171180725098,1.9811007976532,-48.466335296631),238889,990)
	alife():create("quest_vodka",vector():set(50.171264648438,1.980801820755,-60.139503479004),240526,991)
	alife():create("quest_vodka",vector():set(43.802272796631,8.7340211868286,-87.540756225586),226108,1100)
	alife():create("quest_vodka",vector():set(11.765926361084,8.7333555221558,-87.552612304688),191645,1097)
	alife():create("quest_vodka",vector():set(31.078731536865,16.062395095825,-61.52906036377),225263,1076)
	alife():create("quest_vodka",vector():set(38.354866027832,16.062305450439,-38.75065612793),223361,1060)
	alife():create("quest_vodka",vector():set(59.996429443359,3.5815875530243,-44.087505340576),249264,990)
	alife():create("quest_vodka",vector():set(27.789039611816,10.492545127869,-81.122924804688),208596,1079)
	alife():create("quest_vodka",vector():set(99.859954833984,0.80329954624176,-38.711421966553),295622,981)
		spawn_restrictor.borov_otboi_sr1()
end
function borov_bottle_done()
	sak.create_items_actor("wpn_winchester_m1",1)
	sak.create_items_actor("vodka",6)
	sak.create_items_actor("ammo_7.92x33_fmj",2)
	sak.create_items_actor("ammo_7.92x33_ap",2)
	table_treasure_l.treasure()
end

-- ÌÀËÅÍÜÊÀß ÄÈÂÅÐÑÈß
function check_habar2(first_speaker, second_speaker)
	return
		box_is_full("a_inventory_box53",habar2)
end
function kalinin_diversya_done()
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"a_inventory_box53") then
	alife():release(obj,true)
	break
	end
	end
	sak.create_items_actor("wpn_fnp45",1)
	sak.create_items_actor("wpn_addon_sil_1143_p",1)
	sak.create_items_actor("ammo_11.43x23_hydro",2)
	table_treasure_l.treasure()
end

-- ÎÕÎÒÀ ÍÀ ÃÐÛÇÓÍÎÂ
function ohota_tushkan_start()
	sak.create_items_actor("wpn_p18",1)
	sak.create_items_actor("ammo_9x19_fmj",16)
end
function ohota_tushkan_bitva()
	alife():create("tushkano_strong",vector():set(186.30151367188,2.9514622688293,34.329528808594),401096,497)
	alife():create("tushkano_normal",vector():set(184.17318725586,7.4158329963684,60.028274536133),400054,497)
	alife():create("ohota_tushkan1",vector():set(187.75128173828,6.056893825531,55.800197601318),401852,497)
	alife():create("tushkano_normal",vector():set(219.65458679199,-0.20178097486496,46.348197937012),416243,498)
	alife():create("tushkano_strong",vector():set(228.4214630127,-0.20107142627239,48.816539764404),419624,498)
	alife():create("tushkano_normal",vector():set(227.70504760742,-0.069350928068161,51.686485290527),419360,498)
	alife():create("tushkano_strong",vector():set(222.83073425293,-0.20085880160332,57.740451812744),417427,498)
	alife():create("tushkano_normal",vector():set(224.60618591309,-0.080014735460281,55.66134262085),418263,498)
	alife():create("tushkano_strong",vector():set(225.94046020508,-0.20106647908688,53.694450378418),418814,498)
	amk.start_timer("battle", 0, {"l03_agroprom", 31, 1})
	db.actor:give_info_portion("ohota_tushkan_spawn")
end
function ohota_tushkan_have(task, info)
     if level.get_time_hours() >= 0 and level.get_time_hours() < 5 and 
	db.actor:has_info("ohota_tushkan1_dead") and 
	db.actor:has_info("ohota_tushkan2_dead") and 
	db.actor:has_info("ohota_tushkan3_dead") then
		 db.actor:give_info_portion("ohota_tushkan_have")
		return true
     end
		return false
end
function ohota_tushkan_have_all()
	return
		new_dialog.item_much("mutant_face_tushkano",20) and
		new_dialog.item_much("wpn_p18",1)
end
function ohota_tushkan_done()
	sak.out_item_namber("mutant_face_tushkano",20)
	sak.out_item_namber("wpn_p18",1)
	sak.create_items_actor("vodka_a",30)
	sak.create_items_actor("wpn_bizon1",1)
	local obj = alife():create("a_inventory_box53",vector():set(66.562271118164,-7.2045879364014,-94.185256958008),472661,2818)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Ñõðîí ñ âîäêîé")
	alife():create("leshyi_bandit1",vector():set(71.055374145508,-6.9605917930603,-89.201988220215),481718,2819)
	alife():create("leshyi_bandit2",vector():set(108.66797637939,-2.5568158626556,-7.7628765106201),533887,2826)
	alife():create("leshyi_bandit3",vector():set(87.695411682129,-7.1587328910828,-20.73090171814),504636,2823)
	alife():create("leshyi_bandit4",vector():set(108.78485107422,-6.7210831642151,-34.15274810791),533855,2823)
	alife():create("leshyi_bandit5",vector():set(117.2721862793,-7.1567392349243,-65.076881408691),546720,2830)
	alife():create("leshyi_bandit1",vector():set(157.97515869141,-7.0488414764404,-66.640426635742),603818,2833)
	alife():create("leshyi_bandit2",vector():set(139.01466369629,-0.59195464849472,-23.380731582642),577215,2828)
	alife():create("leshyi_bandit3",vector():set(109.41058349609,-6.7031254768372,-2.4332828521729),534902,2827)
	alife():create("leshyi_bandit4",vector():set(176.74530029297,-2.760115146637,15.973514556885),629306,2835)
	alife():create("leshyi_bandit5",vector():set(185.49835205078,-7.2191343307495,-2.1086037158966),642057,2836)
end

-- ÎÏÀÑÍÀß ÐÀÁÎÒÀ
function capitan_filatov_spawn()
	alife():create("capitan_filatov",vector():set(-28.599334716797,-0.41261440515518,-175.13388061523),211654,676)
end
function delete_capitan_filatov()
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"capitan_filatov") then
	alife():release(obj,true)
	break
	end
	end
end
function find_mina_start()
	alife():create("tank_spawn_zasada6",vector():set(795.22845458984,28.919597625732,0.054582744836807),345040,2296)
	alife():create("tank_spawn_zasada6",vector():set(645.39331054688,28.919984817505,0.68223130702972),280351,2296)
	alife():create("tank_spawn_zasada6",vector():set(501.12756347656,28.919986724854,1.1535015106201),222322,2296)
	alife():create("monolith_x8_regular",vector():set(959.67944335938,-5.3346157073975e-005,-191.5518951416),428959,2285)
	alife():create("monolith_x8_regular",vector():set(919.03289794922,-0.097731471061707,-181.04275512695),405074,2274)
	alife():create("monolith_x8_veteran",vector():set(895.08081054688,-0.0006815493106842,-194.18782043457),390686,2292)
	alife():create("monolith_x8_veteran",vector():set(885.99969482422,-0.001680999994278,-137.96672058105),385881,2291)
	alife():create("monolith_x8_master",vector():set(943.73962402344,-0.098836749792099,-133.06730651855),420240,2274)
	alife():create("monolith_x8_regular",vector():set(965.67974853516,-0.00047966837882996,-144.7435760498),432187,2398)
	alife():create("tank_spawn_zasada3",vector():set(884.26843261719,-0.0032537579536438,-51.501415252686),384954,2293)
	alife():create("monolith_x8_regular",vector():set(880.05096435547,-0.0035293400287628,-20.189775466919),382952,2293)
	alife():create("monolith_x8_veteran",vector():set(943.65087890625,1.3400775194168,-27.591550827026),420385,2295)
	alife():create("monolith_x8_master",vector():set(981.99127197266,1.426095366478,-28.282117843628),440048,2396)
	alife():create("monolith_x8_veteran",vector():set(1001.1992797852,-0.0040992498397827,21.402444839478),448688,2278)
	alife():create("tank_spawn_zasada4",vector():set(822.05163574219,-0.097902119159698,-42.993766784668),356709,2296)
	alife():create("monolith_x8_veteran",vector():set(834.48052978516,-0.00163933634758,-69.236930847168),362309,2307)
	alife():create("monolith_x8_regular",vector():set(775.93188476563,-0.0023805499076843,-52.552261352539),336539,2297)
	alife():create("tank_x003",vector():set(721.42041015625,0.0050577223300934,-9.2942028045654),312851,2299)
	alife():create("monolith_x8_veteran",vector():set(723.05377197266,-0.0012478232383728,-52.9541015625),313412,2298)
	alife():create("monolith_x8_regular",vector():set(648.4765625,4.9395656585693,-98.270355224609),281320,2326)
	alife():create("tank_spawn_zasada7",vector():set(631.58599853516,10.902563095093,-177.36598205566),274143,2314)
	alife():create("monolith_x8_veteran",vector():set(610.70812988281,-0.0038670003414154,-75.905426025391),267053,2327)
	alife():create("monolith_x8_master",vector():set(507.83404541016,-0.0013256669044495,-75.964241027832),225221,2330)
	alife():create("tank_spawn_zasada5",vector():set(440.26605224609,4.9608016014099,-90.627342224121),193105,2332)
	alife():create("monolith_x8_regular",vector():set(397.63146972656,-0.0007253885269165,-55.440570831299),173449,2306)
	alife():create("monolith_x8_veteran",vector():set(409.38833618164,-0.1009872853756,-33.192428588867),178551,2306)
	alife():create("monolith_x8_master",vector():set(374.90661621094,-0.0021020174026489,-26.74942779541),161693,2383)
	alife():create("tank_spawn_zasada6",vector():set(292.64331054688,-0.0037533342838287,-216.42556762695),121860,2350)
	alife():create("monolith_x8_veteran",vector():set(278.34106445313,-0.011532336473465,-211.79147338867),115576,2353)
	alife():create("monolith_x8_master",vector():set(566.35736083984,2.0192682743073,-189.20001220703),251801,2335)
	alife():create("mina_1",vector():set(913.12072753906,-0.097875542938709,-214.14688110352),401195,2273)
	alife():create("mina_2",vector():set(927.70074462891,-0.0016628615558147,-201.23403930664),410875,2285)
	alife():create("mina_3",vector():set(895.12969970703,-0.001457404345274,-153.0920715332),390733,2291)
	alife():create("mina_4",vector():set(1087.0782470703,-0.00063095614314079,-31.056022644043),477894,2280)
	alife():create("mina_5",vector():set(1028.77734375,-0.0079029686748981,-24.666233062744),459662,2396)
	alife():create("mina_6",vector():set(1002.3880615234,-0.012666050344706,-139.56097412109),447816,2397)
	alife():create("mina_7",vector():set(901.89697265625,-0.00032101199030876,-57.091156005859),394606,2293)
	alife():create("mina_8",vector():set(841.47302246094,-0.0012289397418499,-35.717510223389),366796,2296)
	alife():create("mina_9",vector():set(648.89172363281,-0.0012837611138821,-85.53532409668),281599,2326)
	alife():create("mina_10",vector():set(287.48379516602,-0.10270606726408,-75.660026550293),119829,2380)
	alife():create("mina_11",vector():set(236.96267700195,-0.0025937221944332,-59.768760681152),99013,2379)
	alife():create("mina_12",vector():set(116.13967132568,-0.0037788338959217,-70.015098571777),61545,2376)
	alife():create("mina_13",vector():set(583.08911132813,1.9380296468735,-192.01530456543),257758,2338)
	alife():create("mina_14",vector():set(541.46759033203,-0.0017397664487362,-49.941009521484),241627,2303)
	alife():create("mina_15",vector():set(733.53247070313,25.485893249512,-2.311895608902),317549,2298)
	alife():create("mina_16",vector():set(733.59167480469,8.4873838424683,-2.3020799160004),317549,2298)
	alife():create("mina_17",vector():set(753.35595703125,0.70225024223328,-43.299514770508),326246,2298)
	alife():create("mina_18",vector():set(820.06134033203,-0.0027979649603367,-55.374057769775),355439,2296)
	alife():create("mina_19",vector():set(844.63507080078,0.23695309460163,-72.218910217285),367064,2307)
	alife():create("mina_20",vector():set(623.07269287109,-0.011519279330969,-7.954981803894),271408,2301)
		amk.start_timer("battle", 0, {"l03_agroprom", 32, 1})
end
function find_mina_have(task, info)
     if db.actor:has_info("info_mina_1") and db.actor:has_info("info_mina_2") and 
	db.actor:has_info("info_mina_3") and db.actor:has_info("info_mina_4") and
	db.actor:has_info("info_mina_5") and db.actor:has_info("info_mina_6") and
	db.actor:has_info("info_mina_7") and db.actor:has_info("info_mina_8") and
	db.actor:has_info("info_mina_9") and db.actor:has_info("info_mina_10") and
	db.actor:has_info("info_mina_11") and db.actor:has_info("info_mina_12") and
	db.actor:has_info("info_mina_13") and db.actor:has_info("info_mina_14") and
	db.actor:has_info("info_mina_15") and db.actor:has_info("info_mina_16") and
	db.actor:has_info("info_mina_17") and db.actor:has_info("info_mina_18") and
	db.actor:has_info("info_mina_19") and db.actor:has_info("info_mina_20") then
		return db.actor:give_info_portion("find_mina_have") and 
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ïóòü ðàñ÷èùåí, ðàíäåâó íà Çàòîíå. Íå ïîäâåäè, êîìàíäèð!".."".."\n", nil, nil, 30000)
     end
		return false
end

-- ÂÎËÍÀ: ÄÅÍÜ ÍÓËÅÂÎÉ
function volna_day0_start()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÍÀÇÀÐ:".."\\n".."%c[255,255,128,128]Çà íàìè ãîíèòñÿ ñòàÿ õèìåð. Áåæèì ñî ñòîðîíû çàïðàâêè. Íîé è ñîòîâàðèùè, ïðèãîòîâüòå ìóòàíòàì äðóæåñòâåííûé ïðè¸ì!".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	local obj = alife():create("nazar_volna",vector():set(-48.429752349854,-5.4333939552307,-3.4940474033356),848956,3679)
	snp.set_stalker_story_id(obj,21017)
	obj = alife():create("zaton_masha",vector():set(-56.104801177979,-6.453932762146,-17.97127532959),832952,3679)
	snp.set_stalker_story_id(obj,21010)
	obj = alife():create("zaton_dasha",vector():set(-62.469230651855,-5.2623071670532,2.29660987854),819182,3679)
	snp.set_stalker_story_id(obj,21011)
		amk.start_timer("battle", 0, {"zaton", 36, 1})
end
function volna_day0_spawn()
	alife():create("new_electro_chimera",vector():set(-80.308982849121,-6.7969913482666,2.7682657241821),781318,3679)
	alife():create("fire_chimera",vector():set(-77.815536499023,-6.8974170684814,-10.899563789368),787305,3679)
	alife():create("new_electro_chimera",vector():set(-76.910568237305,-7.0560307502747,-27.270740509033),788764,3679)
	alife():create("chimera_x_ray",vector():set(-66.004386901855,-7.0004630088806,-40.179885864258),811733,3679)
	alife():create("chimera_black",vector():set(-93.96223449707,-7.0012526512146,-46.688461303711),753404,3679)
	alife():create("chimera_wolf",vector():set(-111.31645202637,-7.0520977973938,-25.38920211792),717809,3679)
	alife():create("chimera_normal",vector():set(-109.49478149414,-7.0002913475037,-5.8981695175171),721897,3679)
	alife():create("fire_chimera",vector():set(-99.122657775879,-5.433660030365,31.163948059082),742046,3677)
	alife():create("chimera_wolf",vector():set(-94.540016174316,-2.9634194374084,44.401992797852),752068,3677)
	alife():create("chimera_x_ray",vector():set(-129.19021606445,-7.036096572876,-7.1669888496399),682571,3679)
	alife():create("chimera_strong",vector():set(-54.470260620117,-7.0009560585022,-58.014560699463),835939,3679)
	alife():create("chimera_black",vector():set(-72.037399291992,-7.0225377082825,-70.604995727539),798650,3679)
end
function volna_day0_nazar()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÓÊÀØ:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, ÿ äîëæåí òåáå êîå-÷òî ñîîáùèòü. Ëè÷íî! Ýòî ñâÿçàíî ñ òåìè êåéñàìè íà¸ìíèêîâ. Æäó òåáÿ íà íàøåé áàçå.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function volna_day0_lukash()
	alife():create("volna_barrel",vector():set(23.015798568726,-0.6549220085144,69.900817871094),990991,3677)
	alife():create("volna_barrel",vector():set(24.745418548584,-0.60829615592957,72.544464111328),993818,3677)
	alife():create("volna_barrel",vector():set(27.490400314331,-0.81777322292328,72.239952087402),999594,3677)
	alife():create("volna_barrel",vector():set(35.954071044922,-1.10025203228,74.457344055176),1016655,3677)
	alife():create("volna_barrel",vector():set(32.076805114746,-0.85575747489929,78.255264282227),1012233,3677)
	alife():create("volna_barrel",vector():set(45.017684936523,-1.593835234642,73.936630249023),1035626,3677)
	alife():create("volna_barrel",vector():set(41.71431350708,-1.3815964460373,79.58674621582),1029911,3677)
	alife():create("volna_barrel",vector():set(52.747451782227,-2.673309803009,70.97395324707),1050678,3677)
	alife():create("volna_barrel",vector():set(60.306781768799,-3.602233171463,68.259422302246),1065444,3677)
	alife():create("volna_barrel",vector():set(57.37572479248,-3.1348271369934,76.685470581055),1060228,3677)
	alife():create("volna_barrel",vector():set(68.993591308594,-5.573308467865,60.42688369751),1082795,3677)
	alife():create("volna_barrel",vector():set(73.480194091797,-6.3388409614563,67.427810668945),1090881,3677)
	alife():create("volna_barrel",vector():set(57.899467468262,-7.5870289802551,51.667213439941),1061508,3677)
	alife():create("volna_barrel",vector():set(56.20528793335,-7.7881731987,50.937206268311),1057584,3677)
	alife():create("volna_barrel",vector():set(54.068572998047,-9.0444717407227,41.43616104126),1053404,3677)
	alife():create("volna_barrel",vector():set(52.724304199219,-8.9137697219849,39.716335296631),1050651,3677)
	alife():create("volna_barrel",vector():set(51.65958404541,-8.8759536743164,38.151126861572),1049274,3677)
	alife():create("volna_barrel",vector():set(78.650367736816,-6.7639007568359,53.154266357422),1100245,3677)
	alife():create("volna_barrel",vector():set(81.556465148926,-6.6671075820923,43.394130706787),1106701,3677)
	alife():create("volna_barrel",vector():set(90.711730957031,-6.9912133216858,38.863845825195),1122825,3677)
	alife():create("volna_barrel",vector():set(81.247077941895,-6.8374242782593,30.640041351318),1105411,3677)
	alife():create("volna_barrel",vector():set(76.647499084473,-6.6636009216309,29.68169593811),1096225,3677)
	alife():create("volna_barrel",vector():set(78.741203308105,-6.637197971344,33.15571975708),1100222,3677)
	alife():create("volna_barrel",vector():set(88.599464416504,-7.0639677047729,0.93791502714157),1119021,3679)
	alife():create("volna_barrel",vector():set(84.634208679199,-6.9679684638977,-5.7129597663879),1111562,3679)
	alife():create("volna_barrel",vector():set(70.401016235352,-6.8379445075989,-7.0866084098816),1085359,3679)
	alife():create("volna_barrel",vector():set(65.913314819336,-6.8265409469604,-6.2583990097046),1076102,3679)
	alife():create("volna_barrel",vector():set(71.607200622559,-6.4792466163635,14.5792760849),1086707,3679)
	alife():create("volna_barrel",vector():set(68.724510192871,-6.1109976768494,15.933893203735),1081446,3679)
	alife():create("volna_barrel",vector():set(52.020988464355,-6.7371730804443,-2.6337826251984),1049222,3679)
	alife():create("volna_barrel",vector():set(52.078365325928,-7.0030779838562,-12.406723976135),1049213,3679)
	alife():create("volna_barrel",vector():set(42.678070068359,-6.5286364555359,-6.1446318626404),1031214,3679)
	alife():create("volna_barrel",vector():set(28.227802276611,-6.9160485267639,-15.471948623657),1000902,3679)
	alife():create("volna_barrel",vector():set(25.089626312256,-6.8224205970764,-6.2868909835815),995136,3679)
	alife():create("volna_barrel",vector():set(11.296245574951,-6.7327499389648,-2.7372245788574),966764,3679)
	alife():create("volna_barrel",vector():set(-2.1789493560791,-6.1469216346741,-6.4480500221252),939759,3679)
	alife():create("volna_barrel",vector():set(4.4613409042358,-6.4165897369385,-8.5111484527588),952323,3679)
	alife():create("volna_barrel",vector():set(-8.6522197723389,-5.8774733543396,8.0656995773315),927186,3679)
	alife():create("volna_barrel",vector():set(-16.587078094482,-6.3156132698059,-5.6920537948608),911293,3679)
	alife():create("volna_barrel",vector():set(-29.432918548584,-6.9157338142395,2.5635197162628),887424,3679)
	alife():create("volna_barrel",vector():set(-26.862060546875,-6.812735080719,-4.9747576713562),892817,3679)
	alife():create("volna_barrel",vector():set(-27.725246429443,-6.5346508026123,10.758536338806),890096,3679)
	alife():create("volna_barrel",vector():set(-36.743961334229,-6.7164793014526,19.830930709839),873584,3677)
	alife():create("volna_barrel",vector():set(-46.46019744873,-7.0021524429321,28.690803527832),853262,3677)
	alife():create("volna_barrel",vector():set(-43.353664398193,-7.0006380081177,39.049392700195),859019,3677)
	alife():create("volna_barrel",vector():set(-32.789520263672,-7.0003371238708,50.764072418213),880705,3677)
	alife():create("volna_barrel",vector():set(-26.006355285645,-7.0009069442749,59.819217681885),894267,3677)
	alife():create("volna_barrel",vector():set(-17.974290847778,-7.0001587867737,73.146781921387),908718,3677)
	alife():create("volna_barrel",vector():set(-6.6676416397095,-7.0708665847778,75.345260620117),930105,3677)
	alife():create("volna_barrel",vector():set(-37.420185089111,-7.0001759529114,62.120796203613),872156,3677)
	alife():create("volna_barrel",vector():set(15.020845413208,-0.94289028644562,67.154106140137),973810,3677)
	alife():create("volna_barrel",vector():set(7.9493865966797,-2.7114372253418,58.219570159912),959675,3677)
	alife():create("volna_barrel",vector():set(0.87662816047668,-3.6129035949707,68.115211486816),945426,3677)
	alife():create("volna_barrel",vector():set(91.296295166016,-7.0276007652283,53.763854980469),1122846,3677)
	alife():create("volna_barrel",vector():set(68.530166625977,-6.8774356842041,-17.624935150146),1081403,3679)
	alife():create("volna_barrel",vector():set(-24.569904327393,-5.9850025177002,25.671945571899),896928,3677)
	alife():create("volna_barrel",vector():set(-27.90856552124,-6.1853775978088,37.211757659912),890113,3677)
	alife():create("volna_barrel",vector():set(-15.036225318909,-6.1585350036621,62.824699401855),915219,3677)
	alife():create("volna_barrel",vector():set(-5.3294506072998,-4.5944724082947,59.626132965088),932886,3677)
	alife():create("volna_barrel",vector():set(-18.361930847168,-6.0214505195618,48.976127624512),908698,3677)
	alife():create("volna_fuelcan",vector():set(18.25350189209,-6.3636083602905,-20.972150802612),981014,3679)
	alife():create("volna_fuelcan",vector():set(14.763871192932,-6.381227016449,-20.14161491394),973693,3679)
	alife():create("volna_fuelcan",vector():set(2.1609025001526,-6.3848714828491,-19.251770019531),948083,3679)
	alife():create("volna_fuelcan",vector():set(-1.0695569515228,-5.1661329269409,20.300369262695),941179,3677)
	alife():create("volna_fuelcan",vector():set(-4.9846596717834,-5.3007321357727,19.678457260132),934218,3677)
	alife():create("volna_fuelcan",vector():set(-46.166580200195,-6.7865118980408,12.508541107178),853239,3677)
	alife():create("volna_fuelcan",vector():set(39.879306793213,-4.6998567581177,54.543930053711),1025573,3677)
	alife():create("volna_fuelcan",vector():set(37.515537261963,-4.7453327178955,53.024909973145),1021148,3677)
	alife():create("volna_fuelcan",vector():set(41.953670501709,-5.2141900062561,41.448375701904),1029875,3677)
	alife():create("volna_fuelcan",vector():set(41.409694671631,-5.2141308784485,32.214862823486),1028443,3677)
	alife():create("amk_kanistra",vector():set(10.715935707092,-5.2025580406189,31.089324951172),965416,3677)
	alife():create("amk_kanistra",vector():set(10.715935707092,-5.2025580406189,31.089324951172),965416,3677)
	alife():create("amk_kanistra",vector():set(10.715935707092,-5.2025580406189,31.089324951172),965416,3677)
	alife():create("amk_kanistra",vector():set(10.715935707092,-5.2025580406189,31.089324951172),965416,3677)
	alife():create("amk_kanistra",vector():set(10.715935707092,-5.2025580406189,31.089324951172),965416,3677)
	alife():create("amk_kanistra",vector():set(10.715935707092,-5.2025580406189,31.089324951172),965416,3677)
	alife():create("amk_kanistra",vector():set(10.715935707092,-5.2025580406189,31.089324951172),965416,3677)
	alife():create("amk_kanistra",vector():set(10.715935707092,-5.2025580406189,31.089324951172),965416,3677)
	alife():create("amk_kanistra",vector():set(10.715935707092,-5.2025580406189,31.089324951172),965416,3677)
	alife():create("amk_kanistra",vector():set(10.715935707092,-5.2025580406189,31.089324951172),965416,3677)
	alife():create("amk_ballon",vector():set(10.98521900177,-5.2153468132019,41.330089569092),966825,3677)
	alife():create("amk_ballon",vector():set(10.98521900177,-5.2153468132019,41.330089569092),966825,3677)
	alife():create("amk_ballon",vector():set(10.98521900177,-5.2153468132019,41.330089569092),966825,3677)
	alife():create("amk_ballon",vector():set(10.98521900177,-5.2153468132019,41.330089569092),966825,3677)
	alife():create("amk_ballon",vector():set(10.98521900177,-5.2153468132019,41.330089569092),966825,3677)
	alife():create("amk_ballon",vector():set(10.98521900177,-5.2153468132019,41.330089569092),966825,3677)
	alife():create("amk_ballon",vector():set(10.98521900177,-5.2153468132019,41.330089569092),966825,3677)
	alife():create("amk_ballon",vector():set(10.98521900177,-5.2153468132019,41.330089569092),966825,3677)
	alife():create("amk_ballon",vector():set(10.98521900177,-5.2153468132019,41.330089569092),966825,3677)
	alife():create("amk_ballon",vector():set(10.98521900177,-5.2153468132019,41.330089569092),966825,3677)
	alife():create("a_inventory_box50",vector():set(-2.1783237457275,-0.5108363032341,31.076219558716),939804,3677)
		amk.start_timer("battle", 0, {"l07_military", 31, 1})
end

-- ÂÎËÍÀ: ÄÅÍÜ ÏÅÐÂÛÉ
--' Âîñòàíîâëåíèå îòíîøåíèé ïî õèòó. lsclon for OP_2013 '--
-- no_hit_name - ïî èìåíè èç àëëñïàâíà
-- no_hit_sect - ïî ñåêöèè èç spawn_sections.ltx
-- çàïîëíåíèå: èìÿ/ñåêöèÿ = èíôîïîðøåíü
-- ïîêà ýòî âñå îòêëþ÷åíî - ïðîñòî âîññòàíàâëèâàåì îòíîøåíèÿ ó âñåõ íåïèñåé íà Çàòîíå âî âðåìÿ Âîëíû
--[[
	local no_hit_name = {
		["buusty_zaton"] = "volna_goodwill",
		["kuzmat_zaton"] = "volna_goodwill",
		["zat_romale"] = "volna_goodwill",
		["mercaushiy_zaton"] = "volna_goodwill"
	}
	local no_hit_sect = {
		["noi_npc"] = "volna_goodwill",
		["chudak_npc"] = "volna_goodwill",
		["nazar_volna"] = "volna_goodwill",
		["zaton_masha"] = "volna_goodwill",
		["zaton_dasha"] = "volna_goodwill",
		["kogot_volna"] = "volna_goodwill",
		["pes_volna"] = "volna_goodwill",
		["gonta_volna"] = "volna_goodwill",
		["gluhar_volna"] = "volna_goodwill",
		["medved_volna"] = "volna_goodwill",
		["fenix_volna"] = "volna_goodwill",
		["elbrus_volna"] = "volna_goodwill",
		["locman_volna"] = "volna_goodwill",
		["gromoboi_volna"] = "volna_goodwill",
		["grif_volna"] = "volna_goodwill",
		["slavka_volna"] = "volna_goodwill",
		["freedom_volna"] = "volna_goodwill",
		["dolg_volna1"] = "volna_goodwill",
		["dolg_volna2"] = "volna_goodwill",
		["dolg_volna3"] = "volna_goodwill",
		["dolg_volna4"] = "volna_goodwill",
		["ohotnik_volna"] = "volna_goodwill",
		["stalker_volna1"] = "volna_goodwill",
		["stalker_volna2"] = "volna_goodwill",
		["stalker_volna3"] = "volna_goodwill",
		["stalker_volna4"] = "volna_goodwill"
	}
--]]
function on_npc_hit(self, obj, amount, local_direction, who, bone_index)
--[[
	local actor = db.actor
	local sect = obj and obj:section()
	local info_sect = sect and no_hit_sect[sect]
	local name = sect and obj:name()
	local info_name = name and no_hit_name[name]
	if (has_alife_info(info_name) or has_alife_info(info_sect)) and actor and who and who:id() == actor:id() then
--]]
	if has_alife_info("volna_goodwill") and level.name() == "zaton" and who and who:id() == db.actor:id() then
		local npc = self.object
		npc:enable_memory_object(db.actor,false)
		npc:set_goodwill(self.npc_goodwill,db.actor)
		relation_registry.set_community_goodwill(npc:character_community(),db.actor:id(),self.com_goodwill)
		--get_console():execute("load ~~~ set self.object:character_community(): "..self.object:character_community())
		--get_console():execute("load ~~~ set community_goodwill: "..relation_registry.community_goodwill(self.object:character_community(), db.actor:id()))
	end
end
function volna_day1_start()
	sak.create_items_actor("wpn_rpg7",1)
	amk.start_timer("battle", 0, {"zaton", 37, 1})
end
function volna_day1_sound()
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\noah]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function volna_day1_have(task, info)
     if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") and 
	db.actor:has_info("kontrik_senator_dead") then 
		return db.actor:give_info_portion("volna_day1_have")
     end
		return false
end
function volna_day1_dogs()
	alife():create("dog_habaruch",vector():set(90.351585388184,-6.7781538963318,-27.460136413574),1121500,3679)
	alife():create("dog_sil_hill",vector():set(82.854187011719,-6.5504951477051,-26.58150100708),1107877,3679)
	alife():create("dog_skeleton",vector():set(78.455261230469,-6.7382054328918,-30.494583129883),1105347,3679)
	alife():create("dog_green",vector():set(72.024597167969,-6.8537330627441,-26.948795318604),1088026,3679)
	alife():create("volkodav",vector():set(65.457962036133,-6.7435846328735,-31.217468261719),1076080,3679)
	alife():create("pseudodog_strong",vector():set(52.906799316406,-7.0549683570862,-35.200580596924),1051928,3679)
	alife():create("dog_strong",vector():set(45.561016082764,-6.9965977668762,-42.618492126465),1036919,3679)
	alife():create("dog_zombie",vector():set(43.23217010498,-7.3048553466797,-35.58980178833),1032600,3679)
	alife():create("pseudodog_big",vector():set(37.602890014648,-6.9214825630188,-41.849185943604),1021026,3679)
	alife():create("dog_habaruch",vector():set(30.864740371704,-6.9928097724915,-45.780696868896),1006469,3679)
	alife():create("dog_skeleton",vector():set(15.26273727417,-7.001992225647,-34.817558288574),975113,3679)
	alife():create("dog_green",vector():set(14.461875915527,-7.0034284591675,-40.404373168945),973669,3679)
	alife():create("dog_normal",vector():set(-1.1400167942047,-6.9802856445313,-31.175846099854),941126,3679)
	alife():create("pseudodog_strong",vector():set(-0.22248750925064,-7.0611171722412,-37.723403930664),943894,3679)
	alife():create("volkodav",vector():set(-7.0012512207031,-6.9086899757385,-36.717613220215),929981,3679)
	alife():create("pseudodog_big",vector():set(-18.899053573608,-7.014340877533,-32.328617095947),907317,3679)
	alife():create("dog_habaruch",vector():set(-22.936185836792,-7.0286440849304,-40.125507354736),899501,3679)
	alife():create("dog_sil_hill",vector():set(-29.331729888916,-7.0155076980591,-31.219598770142),887384,3679)
	alife():create("dog_skeleton",vector():set(-24.172273635864,-6.9542527198792,-23.174041748047),896875,3679)
	alife():create("volkodav",vector():set(-50.750129699707,-6.3475799560547,-16.721073150635),841819,3679)
	alife():create("dog_strong",vector():set(-54.223114013672,-5.9265727996826,-11.138344764709),837478,3679)
	alife():create("dog_zombie",vector():set(-63.816055297852,-6.5247297286987,-15.431084632874),816184,3679)
	alife():create("pseudodog_big",vector():set(-62.552257537842,-5.9932422637939,-7.3102588653564),819176,3679)
	alife():create("dog_habaruch",vector():set(-65.170356750488,-5.6352100372314,-0.23844130337238),813241,3679)
	alife():create("dog_skeleton",vector():set(-70.11888885498,-5.4352993965149,7.6380472183228),803045,3679)
	alife():create("dog_green",vector():set(-69.069061279297,-5.9583206176758,-0.79265308380127),804479,3679)
	alife():create("psy_dog",vector():set(54.079620361328,-6.8343634605408,-8.0842180252075),1053337,3679)
end
function volna_day1_boars()
	alife():create("rotan",vector():set(-81.346481323242,-6.2350339889526,19.767473220825),779815,3677)
	alife():create("flesh_normal",vector():set(-81.770172119141,-4.8763709068298,25.177213668823),778303,3677)
	alife():create("tushkano_normal",vector():set(-83.370124816895,-4.2067251205444,31.296627044678),775257,3677)
	alife():create("boar_kachok",vector():set(-77.188499450684,-3.8797991275787,36.291969299316),788845,3677)
	alife():create("molerat",vector():set(-76.944541931152,-3.3880515098572,43.483772277832),788855,3677)
	alife():create("boar_strong",vector():set(-76.739654541016,-3.0281646251678,49.529346466064),790315,3677)
	alife():create("tushkano_strong",vector():set(-79.785736083984,-2.0559186935425,57.603572845459),781379,3677)
	alife():create("rotan",vector():set(-75.83154296875,-2.1152396202087,62.020332336426),791759,3677)
	alife():create("kikimora",vector():set(-72.975204467773,-1.9791611433029,68.581344604492),797382,3677)
	alife():create("tushkano_normal",vector():set(-82.888671875,-1.2278746366501,64.436721801758),776818,3677)
	alife():create("boar_kachok",vector():set(-72.571220397949,-1.3958971500397,75.16529083252),797391,3677)
	alife():create("flesh_strong",vector():set(-80.456558227539,0.13271099328995,82.012870788574),781414,3677)
	alife():create("boar_strong",vector():set(-69.075485229492,-0.88383972644806,85.79744720459),804553,3677)
	alife():create("tushkano_strong",vector():set(-69.888031005859,-0.24583508074284,92.363372802734),803131,3677)
	alife():create("rotan",vector():set(-61.698448181152,-1.6389778852463,89.297607421875),820801,3677)
	alife():create("nosales",vector():set(-60.058227539063,-1.2498625516891,98.569747924805),823908,3677)
	alife():create("kikimora",vector():set(-52.946338653564,-1.9391529560089,101.74831390381),839100,3677)
	alife():create("boar_kachok",vector():set(-51.159690856934,-1.4142837524414,109.20529174805),843387,3677)
	alife():create("flesh_swamp",vector():set(-41.410259246826,-3.1216237545013,105.88146209717),863456,3677)
	alife():create("boar_strong",vector():set(-39.852054595947,-1.8044912815094,117.44790649414),866341,3677)
	alife():create("tushkano_strong",vector():set(-29.686054229736,-3.3612575531006,111.98773193359),886189,3677)
	alife():create("molerat",vector():set(-24.477119445801,-2.777220249176,118.2392578125),897054,3677)
	alife():create("rotan",vector():set(-18.017539978027,-3.2898869514465,116.5767364502),908770,3677)
	alife():create("flesh_normal",vector():set(-12.625970840454,-4.2447457313538,109.61401367188),919105,3677)
	alife():create("kikimora",vector():set(-4.4941434860229,-4.0305333137512,109.85118103027),935752,3677)
	alife():create("boar_kachok",vector():set(3.9324700832367,-3.04634308815,79.444381713867),952447,3677)
end
function volna_day1_done(first_speaker, second_speaker)
	amk.start_timer("battle", 0, {"zaton", 38, 1})
	local gtime = amk.game_minutes()
	amk.save_variable("volna_day1", gtime + math.random(9, 9) * 60)
end
function is_day1_ready(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("volna_day1", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_day1(first_speaker, second_speaker)
	amk.start_timer("battle", 0, {"zaton", 39, 1})
	amk.del_variable("volna_day1")
	local obj = alife():create("kogot_volna",vector():set(407.45401000977,39.446308135986,-5.3833456039429),1635479,3693)
	snp.set_stalker_story_id(obj,21018)
	alife():create("pes_volna",vector():set(405.44256591797,35.497051239014,22.674139022827),1632467,3691)
	alife():create("gonta_volna",vector():set(425.23245239258,36.263259887695,-3.6440095901489),1661935,3691)
	alife():create("gluhar_volna",vector():set(438.12075805664,36.369422912598,-52.189315795898),1685271,3693)
	alife():create("medved_volna",vector():set(409.54824829102,36.261035919189,-22.16127204895),1638575,3693)
	alife():create("a_inventory_box50",vector():set(411.50271606445,40.346813201904,-4.0832467079163),1641604,3693)
	alife():create("volna_barrel",vector():set(437.5217590332,36.002296447754,-66.92667388916),1684116,3693)
	alife():create("volna_barrel",vector():set(438.78927612305,36.017971038818,-66.93879699707),1686368,3693)
	alife():create("volna_barrel",vector():set(439.96597290039,36.13646697998,-66.998229980469),1688592,3693)
	alife():create("volna_barrel",vector():set(441.31274414063,36.104236602783,-67.111114501953),1689704,3693)
	alife():create("volna_barrel",vector():set(442.58666992188,36.097625732422,-67.005851745605),1691900,3693)
	alife():create("volna_barrel",vector():set(443.84631347656,36.102432250977,-66.874649047852),1694116,3693)
	alife():create("volna_barrel",vector():set(442.66473388672,36.099063873291,-65.141815185547),1691903,3693)
	alife():create("volna_barrel",vector():set(441.34887695313,36.136936187744,-65.170463562012),1689707,3693)
	alife():create("volna_barrel",vector():set(440.12963867188,36.055488586426,-65.186447143555),1688595,3693)
	alife():create("volna_barrel",vector():set(416.96646118164,36.106334686279,-64.720932006836),1649775,3693)
	alife():create("volna_barrel",vector():set(418.14688110352,36.065761566162,-64.44116973877),1650897,3693)
	alife():create("volna_barrel",vector():set(419.28579711914,36.066398620605,-64.424690246582),1653165,3693)
	alife():create("volna_barrel",vector():set(420.65905761719,36.066131591797,-64.398529052734),1655383,3693)
	alife():create("volna_barrel",vector():set(421.52914428711,36.081932067871,-64.523040771484),1656459,3693)
	alife():create("volna_barrel",vector():set(422.28482055664,36.158123016357,-65.03702545166),1657512,3693)
	alife():create("volna_barrel",vector():set(409.30950927734,35.967395782471,-64.705291748047),1638515,3693)
	alife():create("volna_barrel",vector():set(408.06039428711,36.072750091553,-64.716514587402),1636424,3693)
	alife():create("volna_barrel",vector():set(407.31558227539,36.034313201904,-64.622528076172),1635382,3693)
	alife():create("volna_barrel",vector():set(406.24935913086,35.982620239258,-64.511734008789),1633362,3693)
	alife():create("volna_barrel",vector():set(405.14038085938,35.953826904297,-64.57511138916),1632359,3693)
	alife():create("volna_barrel",vector():set(403.90908813477,35.912395477295,-64.656791687012),1630207,3693)
	alife():create("volna_barrel",vector():set(403.07180786133,35.882976531982,-64.56859588623),1629119,3693)
	alife():create("volna_barrel",vector():set(402.16934204102,35.862384796143,-64.563690185547),1628037,3693)
	alife():create("volna_barrel",vector():set(401.16772460938,35.850440979004,-64.648139953613),1625859,3693)
	alife():create("volna_barrel",vector():set(400.1330871582,35.692611694336,-64.905570983887),1625858,3693)
	alife():create("volna_barrel",vector():set(401.47091674805,36.062614440918,-66.779563903809),1626935,3693)
	alife():create("volna_barrel",vector():set(402.97747802734,36.094753265381,-66.663101196289),1629116,3693)
	alife():create("volna_barrel",vector():set(404.705078125,36.13890838623,-66.642379760742),1631297,3693)
	alife():create("volna_barrel",vector():set(406.21685791016,36.185497283936,-66.631233215332),1633359,3693)
	alife():create("volna_barrel",vector():set(407.93914794922,36.231418609619,-66.544052124023),1636421,3693)
	alife():create("volna_barrel",vector():set(375.31958007813,34.477603912354,-60.979957580566),1586286,3693)
	alife():create("volna_barrel",vector():set(374.462890625,34.690479278564,-60.109767913818),1585405,3693)
	alife():create("volna_barrel",vector():set(374.59881591797,34.697437286377,-58.818096160889),1585407,3693)
	alife():create("volna_barrel",vector():set(374.69287109375,34.709484100342,-57.664264678955),1584517,3691)
	alife():create("volna_barrel",vector():set(374.87658691406,34.420600891113,3.1753344535828),1586359,3691)
	alife():create("volna_barrel",vector():set(374.78552246094,34.364677429199,4.2359275817871),1585417,3691)
	alife():create("volna_barrel",vector():set(374.72430419922,34.311729431152,5.3109283447266),1585419,3691)
	alife():create("volna_barrel",vector():set(374.70022583008,34.287059783936,6.3357343673706),1585420,3691)
	alife():create("volna_barrel",vector():set(374.57202148438,34.261878967285,7.5050158500671),1585422,3691)
	alife():create("volna_barrel",vector():set(375.72909545898,34.367153167725,4.1051082611084),1587321,3691)
	alife():create("volna_barrel",vector():set(375.73568725586,34.26806640625,5.824535369873),1587323,3691)
	alife():create("volna_barrel",vector():set(379.92749023438,33.749282836914,15.862352371216),1593404,3691)
	alife():create("volna_barrel",vector():set(380.01940917969,33.650035858154,16.87407875061),1593405,3691)
	alife():create("volna_barrel",vector():set(380.06536865234,33.53413772583,18.102472305298),1593407,3691)
	alife():create("volna_barrel",vector():set(380.09878540039,33.41907119751,19.33136177063),1593409,3691)
	alife():create("volna_barrel",vector():set(379.87588500977,33.297206878662,20.491910934448),1593410,3691)
	alife():create("volna_barrel",vector():set(380.33731079102,32.688220977783,34.598918914795),1593425,3691)
	alife():create("volna_barrel",vector():set(380.14553833008,32.703304290771,35.646198272705),1593426,3691)
	alife():create("volna_barrel",vector():set(379.90850830078,32.721973419189,36.762512207031),1593428,3691)
	alife():create("volna_barrel",vector():set(379.5227355957,32.752521514893,37.452568054199),1592379,3691)
	alife():create("volna_barrel",vector():set(382.38522338867,32.558902740479,36.290325164795),1596636,3691)
	alife():create("volna_barrel",vector():set(381.54711914063,32.590980529785,37.03596496582),1595552,3691)
	alife():create("volna_barrel",vector():set(380.85601806641,32.645893096924,38.386600494385),1594489,3691)
	alife():create("volna_barrel",vector():set(379.50329589844,32.754108428955,34.754680633545),1592376,3691)
	alife():create("volna_barrel",vector():set(379.26293945313,32.773048400879,36.316360473633),1592378,3691)
	alife():create("volna_barrel",vector():set(374.81628417969,34.313587188721,-10.818908691406),1586344,3691)
	alife():create("volna_barrel",vector():set(374.8291015625,34.313587188721,-11.769840240479),1585415,3691)
	alife():create("volna_barrel",vector():set(374.82177734375,34.313587188721,-12.935215950012),1585414,3691)
	alife():create("volna_barrel",vector():set(374.77151489258,34.313587188721,-13.991859436035),1585412,3691)
	alife():create("volna_barrel",vector():set(374.77722167969,34.314311981201,-15.096302032471),1586337,3691)
	alife():create("volna_barrel",vector():set(373.23709106445,34.853309631348,-26.29744720459),1583607,3691)
	alife():create("volna_barrel",vector():set(373.26666259766,34.853309631348,-24.937030792236),1583609,3691)
	alife():create("volna_barrel",vector():set(373.28375244141,34.607116699219,-21.175945281982),1583613,3691)
	alife():create("volna_barrel",vector():set(373.380859375,34.763454437256,-32.159385681152),1583604,3691)
	alife():create("volna_barrel",vector():set(373.22872924805,34.674198150635,-33.690143585205),1583602,3691)
	alife():create("volna_barrel",vector():set(373.14501953125,34.870716094971,-48.536571502686),1583581,3691)
	alife():create("volna_barrel",vector():set(373.25210571289,34.857124328613,-46.941623687744),1583583,3691)
	alife():create("volna_barrel",vector():set(378.01559448242,34.313289642334,-50.451595306396),1590227,3691)
	alife():create("volna_barrel",vector():set(381.43218994141,34.312091827393,-49.643798828125),1595440,3691)
	alife():create("volna_barrel",vector():set(379.51843261719,34.362163543701,-49.167053222656),1592294,3691)
	alife():create("volna_barrel",vector():set(422.904296875,36.263195037842,-50.742015838623),1658584,3693)
	alife():create("volna_barrel",vector():set(421.3288269043,36.26049041748,-50.872337341309),1656469,3693)
	alife():create("volna_barrel",vector():set(419.89398193359,36.261798858643,-50.816291809082),1653184,3693)
	alife():create("volna_barrel",vector():set(418.57327270508,36.261798858643,-50.921871185303),1652066,3693)
	alife():create("volna_barrel",vector():set(434.22113037109,36.199447631836,-29.675695419312),1678315,3693)
	alife():create("volna_barrel",vector():set(434.43060302734,36.194953918457,-30.800073623657),1679508,3693)
	alife():create("volna_barrel",vector():set(434.26690673828,36.198352813721,-31.853977203369),1678313,3693)
	alife():create("volna_barrel",vector():set(407.48092651367,36.262840270996,0.99888932704926),1636530,3691)
	alife():create("volna_barrel",vector():set(407.16955566406,36.309902191162,2.5830535888672),1634451,3691)
	alife():create("volna_fuelcan",vector():set(382.02862548828,34.311332702637,-51.512310028076),1596522,3693)
	alife():create("volna_fuelcan",vector():set(380.69268798828,34.312705993652,-51.799095153809),1594376,3693)
	alife():create("volna_fuelcan",vector():set(379.34878540039,34.313289642334,-51.839363098145),1592290,3691)
	alife():create("volna_fuelcan",vector():set(378.09484863281,34.313289642334,-52.010681152344),1590225,3691)
	alife():create("volna_fuelcan",vector():set(404.43655395508,36.262413024902,-19.272548675537),1632415,3691)
	alife():create("volna_fuelcan",vector():set(404.49865722656,36.262413024902,-18.383249282837),1631357,3691)
	alife():create("volna_fuelcan",vector():set(404.53378295898,36.263206481934,-12.358968734741),1632424,3691)
	alife():create("volna_fuelcan",vector():set(404.51519775391,36.259563446045,-11.317068099976),1631364,3691)
	alife():create("volna_fuelcan",vector():set(404.49472045898,36.26294708252,-5.3726134300232),1632433,3691)
	alife():create("volna_fuelcan",vector():set(404.44134521484,36.258262634277,-4.4303226470947),1631371,3691)
end

-- ÂÎËÍÀ: ÄÅÍÜ ÂÒÎÐÎÉ
function volna_day2_start()
	amk.start_timer("battle", 0, {"zaton", 40, 1})
end
function volna_day2_have(task, info)
     if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") and 
	db.actor:has_info("kontrik_senator_dead") then 
		return db.actor:give_info_portion("volna_day2_have")
     end
		return false
end
function volna_day2_dogs()
	alife():create("dog_habaruch",vector():set(398.876953125,32.745319366455,-111.84837341309),1622555,3693)
	alife():create("dog_sil_hill",vector():set(403.84591674805,32.467670440674,-112.88887786865),1630142,3693)
	alife():create("dog_skeleton",vector():set(408.06927490234,32.291069030762,-114.95631408691),1636370,3693)
	alife():create("dog_green",vector():set(412.02703857422,32.197143554688,-118.15978240967),1642457,3693)
	alife():create("dog_weak",vector():set(415.30856323242,32.354965209961,-120.24710083008),1647550,3693)
	alife():create("dog_normal",vector():set(419.13165283203,32.887184143066,-121.93914794922),1653101,3693)
	alife():create("volkodav",vector():set(427.94198608398,33.253406524658,-135.28753662109),1666901,3693)
	alife():create("dog_strong",vector():set(431.8134765625,33.255397796631,-133.92051696777),1674595,3693)
	alife():create("dog_zombie",vector():set(430.32153320313,33.255630493164,-136.76284790039),1672094,3693)
	alife():create("pseudodog_big",vector():set(435.57006835938,33.470836639404,-137.63674926758),1680580,3693)
	alife():create("dog_habaruch",vector():set(425.09420776367,33.467853546143,-136.9972076416),1661784,3693)
	alife():create("dog_sil_hill",vector():set(430.04763793945,33.254577636719,-129.34704589844),1670855,3693)
	alife():create("dog_skeleton",vector():set(443.89855957031,32.060600280762,-126.11673736572),1694056,3693)
	alife():create("dog_green",vector():set(442.2727355957,33.028762817383,-116.95006561279),1691846,3693)
	alife():create("volkodav",vector():set(447.76409912109,33.05774307251,-113.01271057129),1700618,3693)
	alife():create("dog_normal",vector():set(450.43048095703,33.177268981934,-110.7575378418),1703725,3693)
	alife():create("pseudodog_strong",vector():set(453.86715698242,33.115707397461,-108.64134216309),1708855,3693)
	alife():create("dog_strong",vector():set(458.0549621582,32.938869476318,-107.1329498291),1712954,3693)
	alife():create("dog_zombie",vector():set(461.64660644531,32.815822601318,-105.72079467773),1719911,3693)
	alife():create("pseudodog_big",vector():set(466.50463867188,32.538078308105,-103.86773681641),1726943,3693)
	alife():create("dog_habaruch",vector():set(466.75061035156,31.602146148682,-110.39513397217),1727968,3693)
	alife():create("dog_sil_hill",vector():set(461.77883911133,32.114688873291,-111.50084686279),1720889,3693)
	alife():create("dog_skeleton",vector():set(458.72686767578,32.325370788574,-112.79064941406),1715987,3693)
	alife():create("dog_green",vector():set(455.74172973633,32.371482849121,-115.70552062988),1712950,3693)
	alife():create("dog_weak",vector():set(453.05853271484,32.278057098389,-116.90731811523),1711911,3693)
	alife():create("volkodav",vector():set(449.57955932617,31.688097000122,-121.66639709473),1702702,3693)
	alife():create("pseudodog_strong",vector():set(445.23773193359,31.678525924683,-126.56485748291),1696332,3693)
	alife():create("dog_strong",vector():set(411.38858032227,30.982942581177,-126.76146697998),1641463,3693)
	alife():create("dog_zombie",vector():set(407.12432861328,30.632978439331,-123.12693786621),1638451,3693)
	alife():create("pseudodog_big",vector():set(399.3349609375,31.120653152466,-116.47846221924),1622552,3693)
	alife():create("pseudodog_strong",vector():set(444.39868164063,36.106998443604,-84.765884399414),1698547,3693)
end
function volna_day2_boars()
	alife():create("boar_normal",vector():set(340.21258544922,31.996610641479,30.118618011475),1533375,3691)
	alife():create("kikimora",vector():set(342.64447021484,32.201442718506,24.366947174072),1536611,3691)
	alife():create("tushkano_strong",vector():set(336.41403198242,31.245878219604,26.513126373291),1527813,3691)
	alife():create("boar_kachok",vector():set(333.25793457031,30.903522491455,33.954254150391),1522644,3691)
	alife():create("flesh_strong",vector():set(343.96810913086,32.301239013672,43.347114562988),1538897,3691)
	alife():create("boar_strong",vector():set(341.86895751953,32.394905090332,36.912464141846),1535525,3691)
	alife():create("molerat",vector():set(352.87835693359,32.720401763916,49.827537536621),1548935,3691)
	alife():create("boar_normal",vector():set(352.87835693359,32.720401763916,49.827537536621),1548935,3691)
	alife():create("flesh_weak",vector():set(355.37835693359,31.988454818726,60.241432189941),1557647,3691)
	alife():create("tushkano_strong",vector():set(345.91009521484,32.121341705322,11.485078811646),1542301,3691)
	alife():create("boar_kachok",vector():set(344.37634277344,31.290285110474,-2.4194169044495),1539999,3691)
	alife():create("flesh_swamp",vector():set(347.83801269531,31.327533721924,-13.479951858521),1545635,3691)
	alife():create("nosales",vector():set(344.42181396484,30.493913650513,-22.528221130371),1539973,3691)
	alife():create("tushkano_normal",vector():set(351.51388549805,31.869897842407,-28.622831344604),1551007,3691)
	alife():create("kikimora",vector():set(340.95559692383,30.582748413086,-5.2828598022461),1534388,3691)
	alife():create("flesh_normal",vector():set(344.93508911133,30.275327682495,-40.148693084717),1541107,3691)
	alife():create("tushkano_strong",vector():set(343.90524291992,29.445793151855,-47.734336853027),1538775,3691)
	alife():create("boar_kachok",vector():set(346.82260131836,29.363090515137,-56.736465454102),1543350,3691)
	alife():create("nosales",vector():set(352.28610229492,31.632326126099,-50.286640167236),1552029,3691)
	alife():create("boar_strong",vector():set(350.09356689453,30.238317489624,-61.559707641602),1548804,3691)
	alife():create("tushkano_normal",vector():set(353.61279296875,30.66833114624,-70.689781188965),1554173,3691)
	alife():create("molerat",vector():set(356.73318481445,30.966421127319,-81.739379882813),1559676,3693)
	alife():create("boar_normal",vector():set(359.98840332031,30.484334945679,-90.007766723633),1564041,3693)
	alife():create("flesh_swamp",vector():set(366.14788818359,30.124206542969,-96.398292541504),1573992,3693)
	alife():create("tushkano_strong",vector():set(370.828125,30.817852020264,-95.820083618164),1580696,3693)
	alife():create("boar_kachok",vector():set(379.64501953125,32.123653411865,-100.09028625488),1592227,3693)
	alife():create("boar_strong",vector():set(339.96801757813,29.378814697266,-29.36150932312),1533293,3691)
end
function volna_day2_done()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÍÎÉ:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, åñëè âû òàì çàêîí÷èëè, òî âîçâðàùàéñÿ íà êîðàáëü. Òâîÿ ïîìîùü çäåñü áûëà áû î÷åíü êñòàòè.".."".."\n", nil, nil, 30000)
	this.volna_day1_dogs()
	this.volna_day1_boars()
	alife():create("boar_kachok",vector():set(22.919694900513,-4.9127922058105,48.344036102295),990969,3677)
	alife():create("flesh_swamp",vector():set(40.995315551758,-5.129487991333,47.806564331055),1028463,3677)
	alife():create("rotan",vector():set(-20.559589385986,-5.6132941246033,42.628414154053),904787,3677)
	alife():create("dog_zombie",vector():set(-12.025557518005,-5.3810710906982,20.246437072754),920368,3677)
	alife():create("pseudodog_big",vector():set(12.459208488464,-6.6838340759277,0.19291967153549),969545,3679)
	alife():create("pseudodog_strong",vector():set(47.443798065186,-6.6378579139709,-2.9707870483398),1041153,3679)
end

-- ØÒÓÐÌ ÑÒÀÍÖÈÈ
function volna_fenix_spawn()
	local obj = alife():create("fenix_volna",vector():set(121.78497314453,28.3440990448,-401.53509521484),1175042,3683)
	snp.set_stalker_story_id(obj,21019)
	obj = alife():create("elbrus_volna",vector():set(127.61248016357,27.83337020874,-390.88861083984),1184669,3683)
	snp.set_stalker_story_id(obj,21020)
	obj = alife():create("locman_volna",vector():set(130.23593139648,27.829496383667,-390.70104980469),1189370,3683)
	snp.set_stalker_story_id(obj,21021)
	obj = alife():create("gromoboi_volna",vector():set(123.89934539795,27.710985183716,-389.87017822266),1178696,3683)
	snp.set_stalker_story_id(obj,21022)
	obj = alife():create("grif_volna",vector():set(134.31253051758,28.011629104614,-395.46215820313),1196411,3683)
	snp.set_stalker_story_id(obj,21016)
	alife():create("stalker_volna4",vector():set(106.26837158203,27.67227935791,-389.30392456055),1148887,3683)
	alife():create("stalker_volna4",vector():set(106.84302520752,27.518468856812,-384.0520324707),1150050,3683)
	alife():create("stalker_volna4",vector():set(101.8134765625,27.906187057495,-383.62078857422),1140751,3683)
     	alife():create("leshyi_bandit1",vector():set(293.42163085938,38.295631408691,-389.37551879883),1465559,3690)
	alife():create("leshyi_bandit2",vector():set(318.69079589844,41.696338653564,-389.02893066406),1502060,3690)
	alife():create("leshyi_bandit3",vector():set(341.89956665039,38.287391662598,-389.19390869141),1535105,3690)
	alife():create("leshyi_bandit4",vector():set(314.77264404297,33.242420196533,-391.68664550781),1497366,3690)
	alife():create("leshyi_bandit5",vector():set(354.26126098633,37.445247650146,-401.02691650391),1554937,3690)
		amk.start_timer("battle", 0, {"zaton", 41, 1})
end
function shturm_station_start()
	alife():create("stalker_volna2",vector():set(97.067596435547,28.440380096436,-323.69189453125),1133432,3683)
	alife():create("stalker_volna1",vector():set(105.10147094727,27.629663467407,-321.41442871094),1146674,3683)
     	alife():create("leshyi_bandit1",vector():set(293.42163085938,38.295631408691,-389.37551879883),1465559,3690)
	alife():create("leshyi_bandit2",vector():set(318.69079589844,41.696338653564,-389.02893066406),1502060,3690)
	alife():create("leshyi_bandit3",vector():set(341.89956665039,38.287391662598,-389.19390869141),1535105,3690)
	alife():create("leshyi_bandit4",vector():set(314.77264404297,33.242420196533,-391.68664550781),1497366,3690)
	alife():create("leshyi_bandit5",vector():set(354.26126098633,37.445247650146,-401.02691650391),1554937,3690)
	alife():create("leshyi_bandit1",vector():set(290.46215820313,33.257942199707,-441.10363769531),1460986,3690)
	alife():create("leshyi_bandit2",vector():set(292.30200195313,33.242736816406,-396.82696533203),1464424,3690)
	alife():create("leshyi_bandit3",vector():set(280.4455871582,29.667718887329,-387.93402099609),1445440,3690)
	alife():create("leshyi_bandit4",vector():set(337.75534057617,33.276515960693,-379.83947753906),1529581,3690)
	alife():create("leshyi_bandit5",vector():set(399.876953125,35.556640625,-425.609375),1624453,3694)
	alife():create("leshyi_bandit1",vector():set(325.5700378418,38.342727661133,-393.05078125),1511183,3690)
	alife():create("leshyi_bandit2",vector():set(323.11376953125,41.748332977295,-402.28335571289),1508516,3690)
	alife():create("leshyi_bandit3",vector():set(344.40112304688,33.242774963379,-400.55877685547),1539553,3690)
	alife():create("leshyi_bandit4",vector():set(361.97903442383,33.257648468018,-332.31134033203),1567144,3690)
	alife():create("leshyi_bandit5",vector():set(317.22479248047,33.242485046387,-418.07272338867),1500130,3690)
end
function shturm_station_done(first_speaker, second_speaker)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÍÎÉ:".."\\n".."%c[255,255,128,128]Ïðèøëî ñîîáùåíèå îò Êðóãëîâà. Äî ñëåäóþùåé âîëíû îñòàëîñü 11 ÷àñîâ. Èñïîëüçóé âðåìÿ ñ óìîì. Âñòðåòèìñÿ íà ïðåæíåì ìåñòå.".."".."\n", nil, nil, 30000)
	local gtime = amk.game_minutes()
	amk.save_variable("volna_day2", gtime + math.random(11, 11) * 60)
end
function is_day2_ready(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("volna_day2", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_day2(first_speaker, second_speaker)
	amk.del_variable("volna_day2")
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÍÀÇÀÐ:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, íåñêîëüêî ìîèõ ñòàðûõ äðóçåé äîáðàëèñü äî Çàòîíà. ß îòïðàâëþ èõ íà ñòàíöèþ íà ïîìîùü Ôåíèêñó.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("a_inventory_box50",vector():set(345.10076904297,39.377990722656,-402.22543334961),1538404,3690)
	alife():create("volna_barrel",vector():set(265.18579101563,33.140369415283,-437.65466308594),1419877,3690)
	alife():create("volna_barrel",vector():set(264.21102905273,33.142913818359,-437.25054931641),1417459,3690)
	alife():create("volna_barrel",vector():set(263.25335693359,33.154209136963,-436.78381347656),1416241,3690)
	alife():create("volna_barrel",vector():set(262.23150634766,33.166538238525,-436.27990722656),1415024,3690)
	alife():create("volna_barrel",vector():set(249.6438293457,33.175228118896,-430.80892944336),1392731,3690)
	alife():create("volna_barrel",vector():set(248.89947509766,33.165145874023,-430.53204345703),1391464,3690)
	alife():create("volna_barrel",vector():set(247.80268859863,33.149925231934,-430.13235473633),1388986,3690)
	alife():create("volna_barrel",vector():set(246.97799682617,33.140075683594,-429.796875),1387770,3690)
	alife():create("volna_barrel",vector():set(233.88296508789,33.257801055908,-414.09310913086),1363713,3690)
	alife():create("volna_barrel",vector():set(233.08102416992,33.220287322998,-412.49145507813),1362456,3685)
	alife():create("volna_barrel",vector():set(232.49911499023,33.065052032471,-387.55206298828),1361290,3690)
	alife():create("volna_barrel",vector():set(232.49768066406,33.065036773682,-386.81610107422),1361291,3690)
	alife():create("volna_barrel",vector():set(232.49769592285,33.065093994141,-385.77670288086),1361293,3690)
	alife():create("volna_barrel",vector():set(232.53268432617,33.066612243652,-384.61254882813),1361295,3690)
	alife():create("volna_barrel",vector():set(233.21044921875,33.286911010742,-341.52914428711),1362545,3690)
	alife():create("volna_barrel",vector():set(233.14477539063,33.273323059082,-340.79019165039),1362546,3690)
	alife():create("volna_barrel",vector():set(233.08715820313,33.257667541504,-339.94247436523),1362547,3690)
	alife():create("volna_barrel",vector():set(233.01541137695,33.256565093994,-339.15719604492),1362548,3690)
	alife():create("volna_barrel",vector():set(234.68486022949,33.287181854248,-341.84780883789),1365086,3690)
	alife():create("volna_barrel",vector():set(234.6070098877,33.268138885498,-340.83160400391),1365087,3690)
	alife():create("volna_barrel",vector():set(234.49835205078,33.250949859619,-339.84713745117),1365088,3690)
	alife():create("volna_barrel",vector():set(264.1174621582,33.200813293457,-330.54507446289),1417557,3690)
	alife():create("volna_barrel",vector():set(264.88900756836,33.201541900635,-330.57601928711),1418771,3690)
	alife():create("volna_barrel",vector():set(265.86282348633,33.202503204346,-330.61096191406),1421174,3690)
	alife():create("volna_barrel",vector():set(266.60848999023,33.203342437744,-330.62670898438),1422361,3690)
	alife():create("volna_barrel",vector():set(267.39044189453,33.202823638916,-330.77325439453),1423570,3690)
	alife():create("volna_barrel",vector():set(285.56701660156,33.351360321045,-331.89923095703),1453354,3690)
	alife():create("volna_barrel",vector():set(286.30319213867,33.351802825928,-331.86972045898),1454432,3690)
	alife():create("volna_barrel",vector():set(287.20230102539,33.351802825928,-331.77053833008),1455528,3690)
	alife():create("volna_barrel",vector():set(288.25946044922,33.353187561035,-331.65029907227),1457716,3690)
	alife():create("volna_barrel",vector():set(289.24334716797,33.231349945068,-330.65563964844),1458845,3690)
	alife():create("volna_barrel",vector():set(290.36245727539,33.234306335449,-330.68807983398),1461105,3690)
	alife():create("volna_barrel",vector():set(291.44384765625,33.232898712158,-330.74627685547),1462209,3690)
	alife():create("volna_barrel",vector():set(292.49920654297,33.231575012207,-330.81716918945),1464490,3690)
	alife():create("volna_barrel",vector():set(323.60507202148,33.236381530762,-330.78475952148),1508586,3690)
	alife():create("volna_barrel",vector():set(324.57852172852,33.237152099609,-330.73364257813),1510358,3690)
	alife():create("volna_barrel",vector():set(325.61892700195,33.237846374512,-330.55444335938),1511228,3690)
	alife():create("volna_barrel",vector():set(326.55517578125,33.23966217041,-330.41616821289),1512124,3690)
	alife():create("volna_barrel",vector():set(396.76226806641,33.605270385742,-337.5651550293),1619102,3690)
	alife():create("volna_barrel",vector():set(397.60546875,33.671401977539,-338.00628662109),1620211,3690)
	alife():create("volna_barrel",vector():set(398.32135009766,33.726215362549,-338.37896728516),1621315,3690)
	alife():create("volna_barrel",vector():set(399.11199951172,33.786720275879,-338.77911376953),1622383,3690)
	alife():create("volna_barrel",vector():set(399.77526855469,33.827705383301,-339.20751953125),1624550,3690)
	alife():create("volna_barrel",vector():set(400.55810546875,33.720989227295,-340.17239379883),1625625,3690)
	alife():create("volna_barrel",vector():set(401.2463684082,33.632225036621,-340.99542236328),1626706,3694)
	alife():create("volna_barrel",vector():set(401.96008300781,33.584434509277,-341.54168701172),1626704,3694)
	alife():create("volna_barrel",vector():set(402.59036254883,33.497085571289,-342.29202270508),1627795,3694)
	alife():create("volna_barrel",vector():set(405.98092651367,33.352100372314,-372.25015258789),1633118,3694)
	alife():create("volna_barrel",vector():set(405.94219970703,33.367595672607,-373.48049926758),1633116,3694)
	alife():create("volna_barrel",vector():set(405.92944335938,33.384056091309,-374.56857299805),1633115,3694)
	alife():create("volna_barrel",vector():set(405.93829345703,33.398326873779,-375.34429931641),1633114,3694)
	alife():create("volna_barrel",vector():set(416.29119873047,34.819953918457,-414.05151367188),1648395,3694)
	alife():create("volna_barrel",vector():set(416.38076782227,34.769550323486,-415.29907226563),1648394,3694)
	alife():create("volna_barrel",vector():set(416.43695068359,34.73046875,-416.29742431641),1648392,3694)
	alife():create("volna_barrel",vector():set(416.5302734375,34.680652618408,-417.40014648438),1648391,3694)
	alife():create("volna_barrel",vector():set(337.32244873047,33.276828765869,-342.26736450195),1528521,3690)
	alife():create("volna_barrel",vector():set(338.29891967773,33.276718139648,-342.26611328125),1529643,3690)
	alife():create("volna_barrel",vector():set(339.03601074219,33.276630401611,-342.26519775391),1530768,3690)
	alife():create("volna_barrel",vector():set(339.73733520508,33.276546478271,-342.26434326172),1531910,3690)
	alife():create("volna_barrel",vector():set(339.39981079102,33.276546478271,-343.63949584961),1531906,3690)
	alife():create("volna_barrel",vector():set(338.37911987305,33.276546478271,-343.60534667969),1529639,3690)
	alife():create("volna_barrel",vector():set(337.41781616211,33.276546478271,-343.58798217773),1528517,3690)
	alife():create("volna_barrel",vector():set(339.55187988281,33.273380279541,-357.27838134766),1531880,3690)
	alife():create("volna_barrel",vector():set(339.548828125,33.275074005127,-358.65936279297),1531878,3690)
	alife():create("volna_barrel",vector():set(337.2255859375,33.276649475098,-359.16500854492),1528490,3690)
	alife():create("volna_barrel",vector():set(337.21759033203,33.276649475098,-360.43762207031),1528488,3690)
	alife():create("volna_barrel",vector():set(339.5793762207,33.276714324951,-365.87017822266),1531867,3690)
	alife():create("volna_barrel",vector():set(339.56945800781,33.276714324951,-367.38116455078),1531865,3690)
	alife():create("volna_barrel",vector():set(337.28790283203,33.275356292725,-368.74435424805),1528476,3690)
	alife():create("volna_barrel",vector():set(337.23867797852,33.273220062256,-370.0505065918),1528474,3690)
	alife():create("volna_barrel",vector():set(339.55264282227,33.276695251465,-376.88027954102),1531852,3690)
	alife():create("volna_barrel",vector():set(339.56304931641,33.276695251465,-378.08148193359),1531850,3690)
	alife():create("volna_barrel",vector():set(337.26034545898,33.276950836182,-379.65069580078),1528461,3690)
	alife():create("volna_barrel",vector():set(337.27655029297,33.276950836182,-380.70901489258),1528459,3690)
	alife():create("volna_fuelcan",vector():set(291.44311523438,33.242492675781,-396.52124023438),1462162,3690)
	alife():create("volna_fuelcan",vector():set(291.47241210938,33.242488861084,-395.83624267578),1463285,3690)
	alife():create("volna_fuelcan",vector():set(344.71215820313,33.242530822754,-391.25747680664),1539577,3690)
	alife():create("volna_fuelcan",vector():set(345.40524291992,33.242530822754,-391.25067138672),1540735,3690)
	alife():create("volna_fuelcan",vector():set(311.66159057617,33.241184234619,-395.84204101563),1492522,3690)
	alife():create("volna_fuelcan",vector():set(311.64169311523,33.241184234619,-396.48687744141),1492522,3690)
	alife():create("volna_fuelcan",vector():set(333.99487304688,33.240821838379,-396.64221191406),1524272,3690)
	alife():create("volna_fuelcan",vector():set(333.99615478516,33.234352111816,-395.86486816406),1523243,3690)
end

-- ÂÎËÍÀ: ÄÅÍÜ ÒÐÅÒÈÉ
function volna_day3_start()
	amk.start_timer("battle", 0, {"zaton", 42, 1})
end
function volna_day3_have(task, info)
     if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") and 
	db.actor:has_info("kontrik_senator_dead") then 
		return db.actor:give_info_portion("volna_day3_have")
     end
		return false
end
function volna_day3_boars()
	alife():create("molerat",vector():set(224.5795135498,32.576835632324,-387.41094970703),1347550,3685)
	alife():create("flesh_normal",vector():set(224.77035522461,32.666271209717,-383.88101196289),1347555,3690)
	alife():create("boar_strong",vector():set(218.62619018555,32.283397674561,-379.22103881836),1335980,3685)
	alife():create("boar_kachok",vector():set(214.19808959961,31.40093421936,-389.7834777832),1328232,3685)
	alife():create("flesh_strong",vector():set(227.42630004883,33.482013702393,-334.98272705078),1353800,3690)
	alife():create("boar_strong",vector():set(222.73197937012,33.33203125,-345.02392578125),1343777,3690)
	alife():create("boar_kachok",vector():set(218.41661071777,33.316047668457,-342.11987304688),1336028,3690)
	alife():create("boar_normal",vector():set(218.10287475586,33.576675415039,-335.64093017578),1336037,3690)
	alife():create("kikimora",vector():set(262.23257446289,33.077095031738,-321.54028320313),1415134,3690)
	alife():create("boar_strong",vector():set(269.47109985352,33.125720977783,-323.59378051758),1427148,3690)
	alife():create("boar_kachok",vector():set(258.96496582031,31.760480880737,-313.66888427734),1411538,3690)
	alife():create("flesh_swamp",vector():set(266.00054931641,31.547674179077,-312.56604003906),1421199,3690)
	alife():create("boar_strong",vector():set(284.38372802734,33.159217834473,-322.00534057617),1451202,3690)
	alife():create("boar_kachok",vector():set(288.84957885742,33.203098297119,-318.52197265625),1458862,3690)
	alife():create("boar_normal",vector():set(276.00628662109,32.999282836914,-320.75451660156),1437342,3690)
	alife():create("molerat",vector():set(295.03094482422,32.950344085693,-317.69360351563),1467748,3690)
	alife():create("boar_strong",vector():set(299.10317993164,32.909049987793,-317.92993164063),1473883,3690)
	alife():create("boar_kachok",vector():set(323.03909301758,33.238304138184,-321.31607055664),1507692,3690)
	alife():create("flesh_weak",vector():set(328.41046142578,33.240188598633,-321.88980102539),1514944,3690)
	alife():create("boar_strong",vector():set(329.61279296875,31.623701095581,-313.55291748047),1517008,3690)
	alife():create("boar_kachok",vector():set(325.20599365234,30.619178771973,-311.96197509766),1511254,3690)
	alife():create("boar_strong",vector():set(320.10821533203,30.643892288208,-312.70458984375),1503910,3690)
	alife():create("kikimora",vector():set(313.57247924805,31.128324508667,-313.26977539063),1495566,3690)
	alife():create("flesh_swamp",vector():set(337.50457763672,32.034763336182,-313.58850097656),1528554,3690)
	alife():create("boar_kachok",vector():set(242.30618286133,33.242008209229,-403.28021240234),1379042,3690)
end
function volna_day3_chimera()
	alife():create("new_electro_chimera",vector():set(402.31481933594,32.187450408936,-331.10540771484),1627811,3690)
	alife():create("fire_chimera",vector():set(404.45413208008,32.422206878662,-331.78167724609),1631077,3690)
	alife():create("chimera_x_ray",vector():set(407.8069152832,32.916858673096,-335.13864135742),1636212,3694)
	alife():create("chimera_black",vector():set(408.45886230469,33.134834289551,-342.0537109375),1637261,3694)
	alife():create("bear",vector():set(381.34201049805,33.239841461182,-323.4201965332),1595214,3690)
	alife():create("chimera_strong",vector():set(393.96536254883,31.403999328613,-327.01351928711),1614634,3690)
	alife():create("new_electro_chimera",vector():set(415.07727050781,33.2233543396,-365.70022583008),1646292,3694)
	alife():create("chimera_wolf",vector():set(407.72149658203,33.224369049072,-360.76559448242),1635133,3694)
	alife():create("electro_chimera",vector():set(414.87622070313,33.275890350342,-370.63348388672),1646285,3694)
	alife():create("chimera_black",vector():set(415.14373779297,33.302932739258,-378.95343017578),1646273,3694)
	alife():create("chimera_x_ray",vector():set(410.23107910156,33.669750213623,-382.30166625977),1639243,3694)
	alife():create("new_electro_chimera",vector():set(416.69158935547,34.676277160645,-393.50372314453),1648416,3694)
	alife():create("electro_chimera",vector():set(419.91543579102,33.229072570801,-421.77606201172),1653966,3694)
	alife():create("chimera_strong",vector():set(418.66830444336,34.032203674316,-417.15707397461),1651708,3694)
	alife():create("fire_chimera",vector():set(418.74633789063,34.309619903564,-404.59725952148),1651726,3694)
	alife():create("chimera_wolf",vector():set(418.87054443359,34.207733154297,-408.72232055664),1651720,3694)
	alife():create("bear",vector():set(419.84848022461,33.756561279297,-411.66384887695),1653971,3694)
	alife():create("chimera_black",vector():set(398.11120605469,33.585815429688,-393.43002319336),1622355,3694)
	alife():create("chimera_x_ray",vector():set(386.08679199219,34.257221221924,-415.15240478516),1602585,3694)
	alife():create("chimera_normal",vector():set(238.79168701172,32.798892974854,-432.67596435547),1374007,3685)
	alife():create("new_electro_chimera",vector():set(248.33045959473,32.790767669678,-437.95877075195),1390203,3685)
	alife():create("fire_chimera",vector():set(254.48760986328,32.782409667969,-441.25610351563),1401369,3685)
end
function volna_day3_done(first_speaker, second_speaker)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÍÎÉ:".."\\n".."%c[255,255,128,128]×åðåç 10 ÷àñîâ íàñ íàñòèãíåò î÷åðåäíàÿ âîëíà. Ïîñòàðàéñÿ íå óìåðåòü çà ýòî âðåìÿ. Âñòðåòèìñÿ íà Øåâ÷åíêî.".."".."\n", nil, nil, 30000)
	local gtime = amk.game_minutes()
	amk.save_variable("volna_day3", gtime + math.random(10, 10) * 60)
end
function is_day3_ready(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("volna_day3", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_day3(first_speaker, second_speaker)
	amk.del_variable("volna_day3")
	sak.create_items_actor("medkit",5)
	sak.create_items_actor("medkit_army",5)
	sak.create_items_actor("medkit_scientic",10)
	sak.create_items_actor("bandage",20)
	amk.start_timer("battle", 0, {"zaton", 43, 1})
	spawn_restrictor.volna_btr1_sr1()
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(255.91418457031,5.349621295929,21.442276000977),1404424,3684),"vehicle_btr", "scripts\\ohota\\volna_btr.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(233.88291931152,6.0127511024475,44.053417205811),1364224,3684),"vehicle_btr", "scripts\\ohota\\volna_btr.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-161.06631469727,6.9040660858154,114.68376159668),619679,3670),"vehicle_btr", "scripts\\ohota\\volna_btr.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-136.18292236328,5.4236483573914,137.06491088867),669443,3677),"vehicle_btr", "scripts\\ohota\\volna_btr.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-146.8278503418,14.131395339966,-252.6442565918),648510,3673),"vehicle_btr", "scripts\\ohota\\volna_btr.ltx")
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(-178.93087768555,16.230792999268,-238.77981567383),582548,3671),"vehicle_btr", "scripts\\ohota\\volna_btr.ltx")
end

-- ÂÎËÍÀ: ÏÎÑËÅÄÍßß ÁÈÒÂÀ
function volna_day4_have(task, info)
     if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") and 
	db.actor:has_info("kontrik_senator_dead") then 
		return db.actor:give_info_portion("volna_day4_have")
     end
		return false
end
function cap_filatov_spawn()
	alife():create("capitan_filatov",vector():set(-152.96566772461,14.272410392761,-256.41458129883),635470,3673)
end
function volna_day4_filatov()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÍÎÉ:".."\\n".."%c[255,255,128,128]Êàæåòñÿ, âîëíà çàõëåáíóëàñü. Ëþäè Êîðøóíà è Ôåíèêñà äîáèâàþò ðàíåíûõ è óáåãàþùèõ ìóòàíòîâ.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function volna_day4_done()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÑÈÄÎÐÎÂÈ×:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, ìíå óäàëîñü âûòàùèòü ðåçóëüòàòû ôîòîñú¸ìêè ñ æ¸ñòêîãî äèñêà áåñïèëîòíèêà. Ñíèìêè òåáÿ êðàéíå çàèíòåðåñóþò.".."".."\n", nil, nil, 30000)
	alife():create("a_inventory_box54",vector():set(92.937683105469,4.5230751037598,413.7197265625),204560,2265)
	alife():create("gigant_jumper_normal",vector():set(80.848739624023,1.1983361244202,362.96994018555),192252,2157)
	alife():create("gigant_jumper_normal",vector():set(12.451368331909,0.84441006183624,363.22637939453),117391,2260)
	alife():create("gigant_jumper_normal",vector():set(-50.654155731201,0.69528865814209,334.28295898438),49231,2156)
	local obj
    for a=1,65535,1 do
    obj=alife():object(a)
    if obj and (string.find(obj:name(),"bloodsucker_volna") or string.find(obj:name(),"new_hell_volna") or string.find(obj:name(),"deathclaw_volna") or 
	string.find(obj:name(),"bibliotekar_volna") or string.find(obj:name(),"bibliotekar_black_volna") or string.find(obj:name(),"chimera_wolf_volna") or 
	string.find(obj:name(),"chimera_xray_volna")) then
    alife():release(obj,true)
    end
    end
end
function release_all_online(section)
	local obj
	for k,v in pairs(db.storage) do
	obj = level.object_by_id(k)
	if obj:section() == section then
		alife():release(alife():object(obj:id()))
	end
	end
end
function delete_volna_btr()
	this.release_all_online("vehicle_btr")
end
function volna_day4_sidor()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÂÎÐÎÍÈÍ:".."\\n".."%c[255,255,128,128]Ìå÷åíûé, íàñòàëî âðåìÿ íàíåñòè óäàð ïî íà¸ìíûì ñîáàêàì. Æäó òåáÿ â ñâî¸ì øòàáå.".."".."\n", nil, nil, 30000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end

-- ÒÀÉÍÈÊ ÍÎß
function taynik_noi_take()
	if new_dialog.item_much("af_provoloka",1) and
	   new_dialog.item_much("af_ahill_piata",1) then
		noi_teleport1()
		return true
	else
		return false
	end
end
function noi_teleport1()
	alife():create("chimera_black",vector():set(39.336574554443,-2.2261734008789,-130.66979980469),149796,2136)
	alife():create("new_electro_chimera",vector():set(10.443556785583,-1.2186834812164,-160.66801452637),114363,2129)
	alife():create("fire_chimera",vector():set(-28.615875244141,-2.3913388252258,-126.31538391113),70568,2133)
	alife():create("fracture_master",vector():set(-7.035581111908,-2.2311496734619,-92.469085693359),93081,2124)
	alife():create("fracture_karlik",vector():set(27.900512695313,-2.2217047214508,-88.934097290039),136818,2123)
	alife():create("fracture_master",vector():set(27.948041915894,-2.2266187667847,-149.34620666504),136747,2120)
	alife():create("karlito",vector():set(-9.2927074432373,-2.3232755661011,-151.98017883301),90394,2119)
	alife():create("monolith_x8_regular",vector():set(16.633480072021,5.1003928184509,191.87060546875),122356,2201)
	alife():create("tank_spawn_zasada4",vector():set(-26.535495758057,4.6896462440491,184.22891235352),72847,2196)
	alife():create("monolith_x8_veteran",vector():set(-19.223356246948,-0.015666872262955,210.94892883301),80281,2198)
	alife():create("monolith_x8_master",vector():set(-23.704053878784,-0.0018191039562225,193.02339172363),75369,2195)
	alife():create("tank_x003",vector():set(30.171550750732,5.0792708396912,179.83291625977),139850,2201)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
		amk.start_timer("battle", 0, {"l11_pripyat", 32, 1})
    	local a = vector()
        a.x = 9.973593711853
      	a.y = -2.2239174842834
	a.z = -121.54296875
	db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	level.add_pp_effector("yantar_underground_psi.ppe", 2001, true)
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function noi_teleport2_tp()
     if volna_sak_have_all() then
		noi_teleport2()
		return true
     end
		return false
end
function noi_teleport2()
	alife():create("zombie_hell3",vector():set(-92.394386291504,-2.2222709655762,-29.971103668213),21248,2257)
	alife():create("zombie_hell4",vector():set(-118.17924499512,-2.19757771492,-22.787868499756),7233,2256)
	alife():create("zombie_hell5",vector():set(-92.90055847168,-2.2219784259796,-58.257991790771),20814,2138)
	alife():create("zombie_hell",vector():set(-117.71669006348,-2.2134883403778,-60.235939025879),7444,2256)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2001)
    	local a = vector()
        a.x = -1.3099663257599
      	a.y = 3.3145933151245
	a.z = 208.30516052246
	db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	level.add_pp_effector("total_recall.ppe", 2002, true)
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function noi_teleport3_tp()
     if volna_sak_have_all() then
		noi_teleport3()
		return true
     end
		return false
end
function noi_teleport3()
	alife():create("controller_babka",vector():set(-111.18870544434,-2.2211673259735,-70.236824035645),10461,2256)
	alife():create("controller_senator",vector():set(-108.42320251465,-2.2480440139771,-13.770338058472),12090,2256)
	alife():create("psyonik",vector():set(-108.42320251465,-2.2480440139771,-13.770338058472),12090,2256)
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2002)
    	local a = vector()
        a.x = -109.21657562256
      	a.y = -2.3925879001617
	a.z = -38.420658111572
	db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	level.add_pp_effector("snd_shock.ppe", 2003, true)
end
function noi_teleport_end()
     if volna_sak_have_all() then
		noi_teleport_finish()
		return true
     end
		return false
end
function noi_teleport_finish()
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2003)
        local a = vector()
        a.x = 71.348213195801
        a.y = 0.98738873004913
        a.z = 338.56936645508
        db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
end
function taynik_noi_have()
     if volna_sak_have_all() and 
	db.actor:has_info("volna_sak_test") then
		db.actor:give_info_portion("taynik_noi_have")
		return true
     end
		return false
end
function taynik_noi_done()
	aem_manager.manage_money(5000, "out")
end

-- ÄÅÀÊÒÈÂÀÒÎÐ ÒÏ Â ÍÛ×ÊÓ ÑÒÐÅËÊÀ
function iam_mudak_have_all()
	return
		db.actor:money()>=20000 
end
function iam_mudak_give()
	aem_manager.manage_money(20000, "out")
	sak.create_items_actor("item_delete1",1)
end

-- ÂÛÄÀ×À ÆÑ
function squad_is_alive()
	sak.create_items_actor("af_hl",1)
end
function psih_is_alive(first_speaker, second_speaker)
	first_speaker:set_relation(game_object.enemy, second_speaker)
end

-- ÓÄÀ×ÍÀß ØÓÒÊÀ
function tolik_robbed_spawn()
	alife():create("a_inventory_box55",vector():set(17.276149749756,3.3777673244476,92.552307128906),297048,93)
	alife():create("pseudodog_big",vector():set(-56.7790184021,-4.4267454147339,62.647483825684),221747,79)
	alife():create("pseudodog_strong",vector():set(-56.7790184021,-4.4267454147339,62.647483825684),221747,79)
	alife():create("pseudodog_strong",vector():set(-56.7790184021,-4.4267454147339,62.647483825684),221747,79)
end
function tolik_robbed_have_all()
	return
		new_dialog.item_much("tolik_shtany",1)
end
function tolik_robbed_have()
	if new_dialog.item_much("tolik_shtany",1) then
		db.actor:give_info_portion("tolik_robbed_have")
		return true
	else
		return false
	end
end
function tolik_robbed_done()
	sak.out_item_namber("tolik_shtany",1)
	aem_manager.manage_money(5000, "in")
end

-- ÌÅÆÄÓ ÌÎËÎÒÎÌ È ÍÀÊÎÂÀËÜÍÅÉ
function sak_kuvalda_have_all()
	return
		level.get_time_hours() >= 1 and level.get_time_hours() < 4 and
		new_dialog.item_much("fake_wpn_kuvalda",1) and
		new_dialog.item_much("army_counter",1) and
		new_dialog.item_much("monolit_black_outfit",1)
end
function sak_tank_start()
	alife():create("tank_zasada",vector():set(290.9621887207,-50.021816253662,-136.91621398926),61515,2089)
end
function check_actor_outfit()
	local outfit = db.actor:item_in_slot(6)
	local weapon = db.actor:item_in_slot(0)
	if has_alife_info("sak_gold_fish_start") and not has_alife_info("sak_gold_fish_have") and 
	(not outfit or outfit:section() ~= "monolit_black_outfit" or not weapon or (weapon:section() == "wpn_kuvalda" and db.actor:active_slot() == 0) or
	level.get_time_hours() < 1 or level.get_time_hours() >= 5 or
	not new_dialog.item_much("army_counter",1)) then
		this.sak_tank_hit()
	end
end
function sak_tank_hit()
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"tank_zasada") then
            local h = hit()
            h.power = 0.2
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0
            h.draftsman = db.actor
            h.type = hit.explosion
            obj:hit (h)
		break
	end
	end
end

-- ÎÒÂÅÒÍÛÉ ÓÄÀÐ
function strike_back_start()
	sak.create_items_actor("wpn_awm",1)
	sak.create_items_actor("killer_outfit",1)
	alife():create("cerber_guard",vector():set(397.51763916016,-0.0012913048267365,-54.860752105713),173450,2306)
	alife():create("cerber_guard",vector():set(427.89721679688,-0.045701026916504,-16.364421844482),187242,2306)
	alife():create("cerber_guard",vector():set(418.05889892578,1.5903673171997,-15.367861747742),182238,2306)
	alife():create("cerber_guard",vector():set(408.84716796875,-0.10036647319794,-32.958236694336),178213,2306)
	alife():create("cerber_guard",vector():set(375.46395874023,-0.00034463405609131,-26.658609390259),161693,2383)
	alife():create("cerber_guard",vector():set(378.6904296875,-0.0012104511260986,-43.215507507324),163692,2306)
	alife():create("cerber_guard",vector():set(387.39630126953,0.14963254332542,-4.0207748413086),168560,2383)
	alife():create("cerber_guard",vector():set(406.45315551758,-0.10099530220032,-49.268005371094),177244,2306)
	alife():create("tank_spawn_zasada6",vector():set(451.82354736328,28.919986724854,1.2008035182953),198653,2296)
	alife():create("tank_spawn_zasada6",vector():set(554.60650634766,28.919986724854,0.9071524143219),246650,2296)
	alife():create("tank_spawn_zasada6",vector():set(693.08929443359,28.91918182373,0.76650452613831),300039,2296)
	alife():create("tank_spawn_zasada6",vector():set(794.98229980469,28.919986724854,0.5395302772522),345041,2296)
	spawn_restrictor.strike_back_sr1()
end
function strike_back_bitva()
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=db.actor:position(),
		sound=[[weapons\explo\dynamite_boom]]})
	alife():create("cerber_npc",vector():set(392.54574584961,-0.0013739168643951,-30.579160690308),171291,2306)
	amk.start_timer("battle", 0, {"l12_stancia", 30, 1})
	db.actor:give_info_portion("strike_back_have")
end
function check_actor_armor()
	local outfit = db.actor:item_in_slot(6)
	if has_alife_info("strike_back_have") and not has_alife_info("cerber_npc_dead") and 
	(not outfit or outfit:section() ~= "killer_outfit" or
	level.get_time_hours() < 1 or level.get_time_hours() >= 4) then
		db.actor:give_info_portion("strike_back_fail")
	end
end
function strike_back_bum1()
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"cerber_npc") then
            local h = hit()
            h.power = 0.2
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0
            h.draftsman = db.actor
            h.type = hit.explosion
            obj:hit (h)
		break
	end
	end
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(424.89361572266,4.9869074821472,-89.864433288574),
		sound=[[weapons\explo\dynamite_boom]]})
end
function strike_back_bum2()
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(453.97155761719,-0.0012450516223907,-70.402992248535),
		sound=[[weapons\explo\dynamite_boom]]})
end
function strike_back_bum3()
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(454.65188598633,-0.00092729926109314,-48.864212036133),
		sound=[[weapons\explo\dynamite_boom]]})
end
function strike_back_bum4()
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(454.98764038086,-0.068769544363022,-31.978507995605),
		sound=[[weapons\explo\dynamite_boom]]})
end
function strike_back_bum5()
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(357.18869018555,-0.0025714039802551,-71.636459350586),
		sound=[[weapons\explo\dynamite_boom]]})
end
function strike_back_bum6()
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(356.43075561523,-0.0012509822845459,-52.250354766846),
		sound=[[weapons\explo\dynamite_boom]]})
end
function strike_back_bum7()
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(356.32864379883,-0.0011856555938721,-26.909870147705),
		sound=[[weapons\explo\dynamite_boom]]})
end
function strike_back_zasada()
	alife():create("tank_spawn_zasada7",vector():set(346.36911010742,-0.001205176115036,-223.03277587891),147245,2348)
	alife():create("tank_spawn_zasada7",vector():set(333.08755493164,3.2135624885559,-168.07688903809),141190,2349)
	alife():create("tank_spawn_zasada7",vector():set(303.60003662109,-0.0011861622333527,-213.08670043945),127207,2350)
	alife():create("tank_spawn_zasada7",vector():set(273.22760009766,-0.00028973817825317,-217.67593383789),113132,2350)
	alife():create("tank_spawn_zasada7",vector():set(381.33157348633,0.067089378833771,-232.93377685547),165141,2346)
	alife():create("tank_spawn_zasada7",vector():set(396.22534179688,-0.0010667741298676,-169.54579162598),172888,2344)
end
function strike_back_end()
	alife():create("monolith_x8_regular",vector():set(574.03747558594,0.037174820899963,-203.24517822266),252820,2338)
	alife():create("monolith_x8_veteran",vector():set(684.25793457031,0.05286368727684,-194.19082641602),295879,2313)
	alife():create("monolith_x8_master",vector():set(647.93011474609,4.9269909858704,-98.953727722168),281319,2326)
	alife():create("monolith_x8_regular",vector():set(744.38690185547,4.803653717041,-154.65013122559),322433,2321)
	alife():create("monolith_x8_veteran",vector():set(783.94488525391,-0.1046644449234,-171.75387573242),339919,2310)
	alife():create("monolith_x8_master",vector():set(818.91046142578,-0.00064811110496521,-53.0862159729),355442,2296)
	alife():create("tank_x003",vector():set(851.08056640625,-0.00018885731697083,-114.48236083984),369868,2308)
	alife():create("monolith_x8_regular",vector():set(861.03607177734,-0.09798863530159,-43.756225585938),374274,2293)
	alife():create("monolith_x8_veteran",vector():set(923.64215087891,-0.10784894227982,-65.634269714355),408341,2275)
	alife():create("monolith_x8_master",vector():set(880.73266601563,-0.00021025538444519,-201.61598205566),383078,2292)
	alife():create("monolith_x8_regular",vector():set(933.66162109375,-0.042613565921783,-223.75979614258),414360,2273)
	alife():create("monolith_x8_veteran",vector():set(907.99499511719,-0.00074759125709534,-315.14434814453),398983,2401)
	spawn_restrictor.strike_end_sr1()
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
if obj and (string.find(obj:name(),"monolith_x8_regular") or string.find(obj:name(),"monolith_x8_veteran") or string.find(obj:name(),"tank_spawn_zasada7")) then
            local h = hit()
            h.power = 0.3
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0
            h.draftsman = db.actor
            h.type = hit.explosion
            obj:hit (h)
	end
	end
end
function strike_back_done()
	kostya_dialog.give_ammo(7)
end

-- ÔÎÒÎÎÕÎÒÀ
function checking_taken_item85(obj)
 	if not has_alife_info("foto_ohota_start") and obj:section()=="wpn_fot" then
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Âîëê, òâî¸ ÷óòü¸ òåáÿ íå îáìàíóëî. Ïîõîæå, Ñåíÿ çàñòðåëèëñÿ, ïðè÷èíà íåèçâåñòíà. Ìíå î÷åíü æàëü... Â åãî ÏÄÀ ÿ íàø¸ë óñëîâèÿ êîíòðàêòà. Åñëè ÿ ñäåëàþ ñíèìêè, òî êîìó ìîãó ïåðåäàòü ôîòîãðàôèè è ïîëó÷èòü íàãðàäó?".."".."\n", nil, nil, 20000)
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÂÎËÊ:".."\\n".."%c[255,255,128,128]×¸ðò ïîáåðè! Åìó áû æèòü äà æèòü! ... Ïî òâîåìó âîïðîñó. Ó Ñèäîðîâè÷à åñòü êîíòàêòû ñ âîåííûìè. Ìîæåøü îòäàòü ïë¸íêó åìó... Ñïàñèáî, ÷òî ñîîáùèë ïðî Ñåíüêó.".."".."\n", 20, nil, 15000)
		db.actor:give_info_portion("foto_ohota_start")
	end
end
function foto_ohota_have_all()
	return
		db.actor:has_info("foto_ohota_dog_brown") and 
		db.actor:has_info("foto_ohota_dog_red") and 
		db.actor:has_info("foto_ohota_dog_white") and 
		db.actor:has_info("foto_ohota_dog_orange") and 
		db.actor:has_info("foto_ohota_dog_green") and 
		db.actor:has_info("foto_ohota_dog_shill") and 
		db.actor:has_info("foto_ohota_dog_doberman") and 
		db.actor:has_info("foto_ohota_dog_black") and 
		db.actor:has_info("foto_ohota_psydog_brown") and 
		db.actor:has_info("foto_ohota_psydog_grey") and 
		db.actor:has_info("foto_ohota_flesh") and 
		db.actor:has_info("foto_ohota_zanoza") and 
		db.actor:has_info("foto_ohota_boar") and 
		db.actor:has_info("foto_ohota_snork") and 
		db.actor:has_info("foto_ohota_vypolzen") and 
		db.actor:has_info("foto_ohota_vypolzen_red") and 
		db.actor:has_info("foto_ohota_tushkan") and 
		db.actor:has_info("foto_ohota_sucker") and 
		db.actor:has_info("foto_ohota_sucker_boloto") and 
		db.actor:has_info("foto_ohota_sucker_hell") and 
		db.actor:has_info("foto_ohota_controler") and 
		db.actor:has_info("foto_ohota_controler_senator") and 
		db.actor:has_info("foto_ohota_controler_babka") and 
		db.actor:has_info("foto_ohota_gigant") and 
		db.actor:has_info("foto_ohota_gigant_red") and 
		db.actor:has_info("foto_ohota_burer") and 
		db.actor:has_info("foto_ohota_carlic") and 
		db.actor:has_info("foto_ohota_chimera") and 
		db.actor:has_info("foto_ohota_chimera_electro") and 
		db.actor:has_info("foto_ohota_chimera_prizrak") and 
		db.actor:has_info("foto_ohota_new_electro") and 
		db.actor:has_info("foto_ohota_fire_chimera") and 
		db.actor:has_info("foto_ohota_chimera_white") and 
		db.actor:has_info("foto_ohota_chimera_wolf") and 
		db.actor:has_info("foto_ohota_tarakan") and 
		db.actor:has_info("foto_ohota_rat") and 
		db.actor:has_info("foto_ohota_cat") and 
		db.actor:has_info("foto_ohota_izlom") and 
		db.actor:has_info("foto_ohota_izlom_master") and 
		db.actor:has_info("foto_ohota_izlom_karlik") and 
		db.actor:has_info("foto_ohota_biblik") and 
		db.actor:has_info("foto_ohota_biblik_black") and 
		db.actor:has_info("foto_ohota_kogot") and 
		db.actor:has_info("foto_ohota_polter") and 
		db.actor:has_info("foto_ohota_polter_tele") and 
		db.actor:has_info("foto_ohota_polter_flame") and 
		db.actor:has_info("foto_ohota_snork_jumper") and 
		db.actor:has_info("foto_ohota_flesh_swamp") and 
		db.actor:has_info("foto_ohota_poltergeist_dd") and 
		db.actor:has_info("foto_ohota_kontroler_act") and 
		db.actor:has_info("foto_ohota_chimera_red") and 
		db.actor:has_info("foto_ohota_burer_strong") and 
		db.actor:has_info("foto_ohota_gigant_jumper") and 
		db.actor:has_info("foto_ohota_sucker_normal") and 
		db.actor:has_info("foto_ohota_tushkan_strong") and 
		db.actor:has_info("foto_ohota_sucker_albinos") and 
		db.actor:has_info("foto_ohota_electro_polter") and 
		db.actor:has_info("foto_ohota_controler_flame") and 
		db.actor:has_info("foto_ohota_karlito") and 
		db.actor:has_info("foto_ohota_chimera_black") and 
		db.actor:has_info("foto_ohota_burer_build") and 
		db.actor:has_info("foto_ohota_spider") and 
		db.actor:has_info("foto_ohota_rotan") and 
		db.actor:has_info("foto_ohota_polter_xray") and 
		db.actor:has_info("foto_ohota_oboroten") and 
		db.actor:has_info("foto_ohota_new_hell")
end
function start_foto_sidor(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	amk.save_variable("foto_sidor", gtime + math.random(23, 24) * 60)
end
function is_foto_sidor(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("foto_sidor", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function clear_foto_sidor(first_speaker, second_speaker)
	aem_manager.manage_money(100000, "in")
	kostya_dialog.give_ammo(5)
	sak.create_items_actor("ammo_23x76_shrap",8)
	sak.create_items_actor("wpn_protecta_col",1)
	sak.create_items_actor("wpn_9a91",1)
	amk.del_variable("foto_sidor")
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"journalist_npc") then
	alife():release(obj,true)
	break
	end
	end
end
function delete_journalist_npc()
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"journalist_npc") then
	alife():release(obj,true)
	break
	end
	end
end

-- ÔÎÒÎ ÀÍÎÌÀËÈÉ
function foto_anomaly_have_all()
	return
		db.actor:has_info("foto_anomaly_zharka") and 
		db.actor:has_info("foto_anomaly_electra") and 
		db.actor:has_info("foto_anomaly_holodec") and 
		db.actor:has_info("foto_anomaly_fontan") and 
		db.actor:has_info("foto_anomaly_karusel") and 
		db.actor:has_info("foto_anomaly_tramplin") and 
		db.actor:has_info("foto_anomaly_voronka") and 
		db.actor:has_info("foto_anomaly_snow") and 
		db.actor:has_info("foto_anomaly_puzyr") and 
		db.actor:has_info("foto_anomaly_tornado") and 
		db.actor:has_info("foto_anomaly_tuman") and 
		db.actor:has_info("foto_anomaly_oblako")
end
function foto_sidor_ammo()
	sak.create_items_actor("grenade_fb",2)
	sak.create_items_actor("grenade_sg",2)
	sak.create_items_actor("grenade_he",2)
	sak.create_items_actor("grenade_7643b",2)
	sak.create_items_actor("grenade_m61",5)
	kostya_dialog.give_ammo(15)
end

-- ÑÌÅÐÒÜ ÂÎ ÏËÎÒÈ
function ohota_kogot_start()
	alife():create("ohota_kogot1",vector():set(472.99774169922,-6.0909714698792,-12.097117424011),1464650,3744)
	alife():create("ohota_kogot2",vector():set(333.61676025391,-5.6954159736633,411.64508056641),1250410,3742)
	alife():create("ohota_kogot3",vector():set(-133.1316986084,2.8159966468811,458.19039916992),495759,3711)
	alife():create("ohota_kogot4",vector():set(-365.73184204102,-2.0540046691895,-219.73527526855),97621,3700)
	alife():create("ohota_kogot5",vector():set(-201.64901733398,3.3582987785339,-434.75463867188),375043,3710)
	alife():create("ohota_kogot6",vector():set(-38.023418426514,15.596120834351,-316.49411010742),654693,3710)
	alife():create("ohota_kogot7",vector():set(343.10113525391,27.181457519531,-276.87829589844),1263302,3743)
	alife():create("deathclaw_normal",vector():set(-215.94679260254,3.2588996887207,-52.239379882813),350619,3709)
	alife():create("new_hell",vector():set(-209.74783325195,-4.2870826721191,216.63638305664),361576,3717)
	alife():create("new_hell",vector():set(-156.87467956543,0.46609726548195,136.60060119629),446345,3717)
	alife():create("kikimora",vector():set(71.081848144531,24.103134155273,-238.51138305664),832094,3727)
	alife():create("kikimora",vector():set(420.14031982422,28.020040512085,-196.75463867188),1372711,3741)
	alife():create("kikimora",vector():set(71.081848144531,24.103134155273,-238.51138305664),832094,3727)
	alife():create("kikimora",vector():set(420.14031982422,28.020040512085,-196.75463867188),1372711,3741)
	alife():create("oboroten",vector():set(75.795036315918,24.058097839355,-233.35568237305),832094,3727)
	alife():create("oboroten",vector():set(399.07696533203,27.979808807373,-237.10144042969),1344207,3743)
	alife():create("bloodsucker_mil",vector():set(420.14031982422,28.020040512085,-196.75463867188),1372711,3741)
	alife():create("bloodsucker_mil",vector():set(75.795036315918,24.058097839355,-233.35568237305),832094,3727)
	alife():create("zanoza_strong",vector():set(259.39303588867,-28.941438674927,80.626167297363),1150982,3740)
	alife():create("zanoza_strong",vector():set(259.39303588867,-28.941438674927,80.626167297363),1150982,3740)
	alife():create("spider",vector():set(259.39303588867,-28.941438674927,80.626167297363),1150982,3740)
	alife():create("spider",vector():set(259.39303588867,-28.941438674927,80.626167297363),1150982,3740)
	alife():create("spider",vector():set(259.39303588867,-28.941438674927,80.626167297363),1150982,3740)
	alife():create("spider",vector():set(259.39303588867,-28.941438674927,80.626167297363),1150982,3740)
	alife():create("spider",vector():set(259.39303588867,-28.941438674927,80.626167297363),1150982,3740)
	alife():create("volkodav",vector():set(-282.99664306641,-2.3810155391693,-291.84008789063),236305,3710)
	alife():create("volkodav",vector():set(-282.99664306641,-2.3810155391693,-291.84008789063),236305,3710)
	alife():create("m_controller_act",vector():set(-282.99664306641,-2.3810155391693,-291.84008789063),236305,3710)
	alife():create("controller_flame",vector():set(-282.99664306641,-2.3810155391693,-291.84008789063),236305,3710)
	alife():create("zombie_hell15",vector():set(-348.30999755859,-2.8609094619751,257.73446655273),127163,3701)
	alife():create("zombie_hell15",vector():set(-188.61515808105,0.75683045387268,-274.26345825195),397274,3710)
	alife():create("new_electro_chimera",vector():set(-321.83377075195,-3.3240132331848,176.43943786621),170850,3707)
	alife():create("bear",vector():set(-188.61515808105,0.75683045387268,-274.26345825195),397274,3710)
	alife():create("fire_chimera",vector():set(-368.26684570313,-3.1679768562317,212.63063049316),93327,3701)
	alife():create("bear",vector():set(-188.61515808105,0.75683045387268,-274.26345825195),397274,3710)
	alife():create("zombie_plague",vector():set(53.474220275879,3.2375245094299,339.81106567383),805988,3725)
	alife():create("zombie_plague_komar",vector():set(-3.6702237129211,3.5029921531677,208.14154052734),709519,3724)
	alife():create("zombie_plague",vector():set(-37.533004760742,3.4937467575073,128.46008300781),655246,3724)
	alife():create("zombie_plague_komar",vector():set(-64.202751159668,4.1952624320984,144.69741821289),612679,3724)
	alife():create("zombie_plague",vector():set(-90.386085510254,3.4258918762207,213.30822753906),570420,3717)
	alife():create("zombie_plague_komar",vector():set(-57.33829498291,3.8197531700134,243.61006164551),623907,3719)
	alife():create("molerat",vector():set(53.474220275879,3.2375245094299,339.81106567383),805988,3725)
	alife():create("molerat",vector():set(-37.533004760742,3.4937467575073,128.46008300781),655246,3724)
	alife():create("controller_senator",vector():set(-302.10339355469,4.2315311431885,390.42922973633),204122,3703)
	alife():create("controller_babka",vector():set(-302.10339355469,4.2315311431885,390.42922973633),204122,3703)
	alife():create("psyonik",vector():set(-302.10339355469,4.2315311431885,390.42922973633),204122,3703)
	alife():create("m_controller_act",vector():set(-302.10339355469,4.2315311431885,390.42922973633),204122,3703)
	alife():create("controller_flame",vector():set(-302.10339355469,4.2315311431885,390.42922973633),204122,3703)
end
function ohota_kogot_have(task, info)
     if db.actor:has_info("ohota_mutant1_dead") and db.actor:has_info("ohota_mutant2_dead") and 
	db.actor:has_info("kontrik_yantar3_dead") and db.actor:has_info("kontrik_yantar4_dead") and 
	db.actor:has_info("kontrik_yantar5_dead") and db.actor:has_info("kontrik_yantar6_dead") and 
	db.actor:has_info("kontrik_yantar7_dead") then 
    		return db.actor:give_info_portion("ohota_kogot_have")
    end
		return false
end

-- ÏÅÐÅÃÎÍ
function is_baggi_alive()
	return alife():object("veh_car_baggi") ~= nil
end
function ugon_baggi_start()
	local se_obj = alife():create("space_restrictor",vector():set(-250.39189147949,-19.529262542725,-140.15148925781),9820,8)
	local custom = "[logic]\nactive = sr_idle\n[sr_idle]\non_info = {=distance_to_obj_le(14093:7)} nil %+ugon_baggi_have%"
	spawn_restrictor.rewrite_restrictor(se_obj, custom, 7)
end
function ugon_baggi_done()
	aem_manager.manage_money(10000, "in")
	sak.create_items_actor("ammo_357_ap_mag",2)
	sak.create_items_actor("wpn_addon_scope1",1)
	sak.create_items_actor("grenade_fb",1)
	sak.create_items_actor("grenade_sg",1)
	sak.create_items_actor("grenade_he",1)
	sak.create_items_actor("grenade_7643b",1)
	sak.create_items_actor("vodka",7)
end

-- ÑÅÇÎÍ ÎÕÎÒÛ
function povar_crows_have_all()
	return
		new_dialog.item_much("mutant_crow",20) and
		new_dialog.item_much("vodka",4) and
		new_dialog.item_much("treasure_item",1)
end
function povar_crows_have()
	if povar_crows_have_all() then
		db.actor:give_info_portion("povar_crows_have")
		return true
	else
		return false
	end
end
function povar_crows_done()
	sak.out_item_namber("mutant_crow",20)
	sak.out_item_namber("vodka",4)
	db.actor:give_info_portion("biznes_remove_special_item")
	sak.out_item_namber("treasure_item",1)
	db.actor:disable_info_portion("biznes_remove_special_item")
	kostya_dialog.give_ammo(4)
	sak.create_items_actor("wpn_ak109",1)
end

-- "ÏÎÄÀÐÎÊ" ÎÐÓÆÅÉÍÈÊÀ
function isnt_chertez_dimak(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("chertez_dimak", 0)
	if gtime >= ftime then
		return true
	else
		return false
	end
end
function is_chertez_dimak(first_speaker, second_speaker)
	local gtime = amk.game_minutes()
	local ftime = amk.load_variable("chertez_dimak", 0)
	if gtime <= ftime then
		return true
	else
		return false
	end
end

local taynik_true={
    {position={x=194.48515319824,y=2.716153383255,z=32.828880310059},gv=3684,lv=1295172},
    {position={x=194.48719787598,y=2.7114272117615,z=5.9124870300293},gv=3684,lv=1296274},
    {position={x=194.48782348633,y=2.7177376747131,z=-30.121898651123},gv=3688,lv=1296260}
}
function taynik_podarok_spawn(actor,npc,p1,p2)
    local a = taynik_true[math.random(table.getn(taynik_true))]
    local se_obj = alife():create("taynik_podarok", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
	sak.create_items_actor("device_pda_npc",1)
	amk.del_variable("chertez_dimak")
end
function chertez_podarok_have()
	if new_dialog.item_much("chertez_aug",1) then
		taynik_podarok_timer()
		return true
	else
		return false
	end
end
function chertez_dimak_10000()
	aem_manager.manage_money(10000, "out")
end
function chertez_dimak_40000()
	aem_manager.manage_money(40000, "out")
end
function chertez_dimak_fail(first_speaker, second_speaker)
	amk.del_variable("chertez_dimak")
end
function taynik_podarok_timer()
	local snd_obj = xr_sound.get_safe_sound_object([[zwuk\timer]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
		amk.start_timer("battle", 0, {"zaton", 47, 1})
	alife():create("m_poltergeist_dd",vector():set(171.47924804688,-7.0010828971863,-67.261695861816),1259459,3688)
	alife():create("electro_polter",vector():set(153.84661865234,-6.9864039421082,-49.391639709473),1229564,3688)
	alife():create("m_poltergeist_dd",vector():set(140.07339477539,-7.0562806129456,-7.38645362854),1203640,3684)
	alife():create("polter_xray",vector():set(171.43367004395,3.2048070430756,79.661994934082),1259629,3684)
	db.actor:give_info_portion("chertez_podarok_have")
end
function taynik_podarok_bum()
	local obj
	for a=1,65535,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"taynik_podarok") then
                amk_particle.amk_particle({
	particle="explosions\\explosion_barrel",
	pos=obj:position(),
	sound=[[weapons\explo\dynamite_boom]]})
	db.actor.health = -0.5
		break
	    end
	end
	level.add_cam_effector("camera_effects\\prison_1.anm", 25, false, "")
	alife():create("chimera_weak",vector():set(110.99293518066,-7.0026788711548,34.761245727539),1157504,3677)
	alife():create("chimera_black",vector():set(110.99293518066,-7.0026788711548,34.761245727539),1157504,3677)
	alife():create("chimera_strong",vector():set(113.79559326172,-7.0416893959045,-3.9221560955048),1162219,3679)
	alife():create("chimera_x_ray",vector():set(108.57666015625,-6.9925322532654,-30.767328262329),1152715,3679)
	alife():create("electro_chimera",vector():set(123.01264953613,-6.6865963935852,-57.103134155273),1177883,3679)
	alife():create("chimera_wolf",vector():set(137.81069946289,-6.4532752037048,-87.955718994141),1202445,3679)
	alife():create("new_electro_chimera",vector():set(166.65530395508,-6.7831063270569,-103.3825378418),1251252,3688)
	alife():create("fire_chimera",vector():set(188.32077026367,-7.0015769004822,-116.93754577637),1287274,3688)
end
function taynik_podarok_mutant()
	alife():create("m_controller_normal_fat",vector():set(238.11721801758,7.5900750160217,-12.05835723877),1371926,3688)
	alife():create("controller_senator",vector():set(240.00218200684,7.7064108848572,13.092669487),1375760,3684)
	alife():create("controller_babka",vector():set(245.43664550781,7.5034689903259,76.39582824707),1385885,3684)
	alife():create("psyonik",vector():set(245.43664550781,7.5034689903259,76.39582824707),1385885,3684)
	alife():create("zombie_blow",vector():set(247.26376342773,6.3214392662048,57.360969543457),1388321,3684)
	alife():create("zombie_beee",vector():set(230.06173706055,7.6052613258362,94.956871032715),1358098,3684)
	alife():create("zombie_hell",vector():set(254.3902130127,5.3470420837402,29.120939254761),1400695,3684)
	alife():create("zombie_blow",vector():set(242.37963867188,6.1894125938416,19.972532272339),1379535,3684)
	alife():create("zombie_beee",vector():set(237.54948425293,6.5286598205566,-26.416954040527),1370599,3688)
	alife():create("zombie_hell",vector():set(221.04705810547,3.4742894172668,-61.917503356934),1341524,3688)
	alife():create("m_controller_act",vector():set(229.52774047852,7.8173565864563,9.0663080215454),1356718,3684)
	alife():create("controller_flame",vector():set(221.04705810547,3.4742894172668,-61.917503356934),1341524,3688)
	alife():create("bibliotekar",vector():set(166.18518066406,4.2863049507141,99.947113037109),1250255,3684)
	alife():create("bibliotekar_black",vector():set(221.88369750977,8.049614906311,115.84055328369),1343042,3684)
end

-- ÏÅ×ÀÒÍÀß ÌÀØÈÍÊÀ
function phantoms()
	local yaw   = math.pi*2.0*math.random()
	local radius  = math.random(8,15) -- äàëüíîñòü ñïàâíà
	local height  = math.random()
	local a_pos  = db.actor:position()
	local pos  = vector():set(math.sin(yaw)*radius+a_pos.x, a_pos.y+height, math.cos(yaw)*radius+a_pos.z)
	phantom_manager.spawn_phantom(pos)
	if not has_alife_info("ziklop_mashinka_end") then
		amk.start_timer("run",math.random(5,8),"akill.phantoms()") -- âðåìÿ
	end
end
function ziklop_mashinka_start()
	alife():create("pechat_mashinka",vector():set(-187.10200500488,0.54761117696762,-358.89172363281),31552,3753)
end
function ziklop_mashinka_have_all()
	return
		new_dialog.item_much("pechat_mashinka",1)
end
function ziklop_mashinka_have()
	if new_dialog.item_much("pechat_mashinka",1) and
	not has_alife_info("ziklop_mashinka_have") then
		ziklop_mashinka_bitva()
		return true
	else
		return false
	end
end
function ziklop_mashinka_bitva()
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("m_controller_act",vector():set(-182.44137573242,-0.47110849618912,-396.62274169922),32812,3753)
	alife():create("controller_flame",vector():set(-138.04820251465,-0.42033639550209,-382.03695678711),62153,3753)
	alife():create("m_controller_act",vector():set(-144.51649475098,-0.48486909270287,-350.77008056641),57742,3753)
	alife():create("controller_flame",vector():set(-178.84487915039,-0.9439924955368,-313.95260620117),35668,3751)
	alife():create("m_controller_act",vector():set(-219.12983703613,-0.43522560596466,-346.58935546875),12612,3751)
	amk.start_timer("battle", 0, {"pripyat", 33, 1})
	level.add_pp_effector("total_recall.ppe", 2003, true)
	this.phantoms()
	db.actor:give_info_portion("ziklop_mashinka_have")
end
function ziklop_mashinka_mutant()
	local snd_obj = xr_sound.get_safe_sound_object([[zwuk\controller_evil]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2003)
	alife():create("zombie_blow",vector():set(-222.3752746582,-0.37439522147179,-369.25366210938),10994,3753)
	alife():create("zombie_beee",vector():set(-152.73617553711,-0.51175129413605,-405.3694152832),52190,3753)
	alife():create("zombie_hell",vector():set(-122.27612304688,-0.42189431190491,-379.73480224609),73565,3753)
	alife():create("zombie_blow",vector():set(-137.43692016602,-0.69958257675171,-326.19552612305),62775,3751)
	alife():create("zombie_beee",vector():set(-154.46971130371,-0.53907519578934,-318.38366699219),50952,3751)
	alife():create("zombie_hell",vector():set(-171.5804901123,-0.60314512252808,-314.48196411133),39862,3751)
	alife():create("zombie_beee",vector():set(-198.3561706543,-0.50968372821808,-312.02661132813),24704,3751)
	alife():create("zombie_hell",vector():set(-221.52032470703,-0.46064057946205,-325.68347167969),11991,3751)
	alife():create("controller_senator",vector():set(-192.93992614746,-0.48506209254265,-299.60690307617),27369,3751)
	level.add_pp_effector("snd_shock.ppe", 2004, true)
end
function ziklop_mashinka_end()
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.remove_pp_effector(2004)
	level.add_pp_effector ("radar_psi.ppe", 2005, false)
	db.actor:give_info_portion("ziklop_mashinka_end")
end
function ziklop_mashinka_done()
	sak.out_item_namber("pechat_mashinka",1)
	sak.create_items_actor("wpn_mauser_china",1)
	kostya_dialog.give_ammo(4)
	table_treasure_l.treasure()
end

-- ÂÈÄÅÎÌÀÃÍÈÒÎÔÎÍ
local dimak_video={
    {position={x=-45.497483825684,y=0.6388363838196,z=-259.65289306641},gv=2994,lv=4456},
    {position={x=-55.788088226318,y=0.22356485843658,z=-182.70599182129},gv=2991,lv=1957},
    {position={x=30.6710105896,y=4.2102344322205,z=-48.999953973389},gv=3017,lv=41835},
    {position={x=27.637963256836,y=-2.3200200080872,z=45.725495300293},gv=3015,lv=40855}
}
function dimak_video_start(actor,npc,p1,p2)
    local a = dimak_video[math.random(table.getn(dimak_video))]
    local se_obj = alife():create("vidik", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
end
function dimak_video_have_all()
	return
		new_dialog.item_much("vidik",1)
end
function dimak_video_have()
	if new_dialog.item_much("vidik",1) and
	not has_alife_info("dimak_video_have") then
		dimak_video_mutant()
		return true
	else
		return false
	end
end
function dimak_video_mutant()
	alife():create("volkodav",vector():set(2.719117641449,0.50842547416687,68.821723937988),26313,2988)
	alife():create("volkodav",vector():set(2.719117641449,0.50842547416687,68.821723937988),26313,2988)
	alife():create("volkodav",vector():set(-11.016554832458,-2.9145288467407,42.485004425049),19520,2988)
	alife():create("volkodav",vector():set(-11.016554832458,-2.9145288467407,42.485004425049),19520,2988)
	alife():create("m_controller_act",vector():set(59.969833374023,-6.0038905143738,49.75562286377),55080,3015)
	alife():create("m_controller_old_fat",vector():set(-22.056789398193,-5.0673732757568,-157.05195617676),13909,2995)
	alife():create("controller_flame",vector():set(-22.056789398193,-5.0673732757568,-157.05195617676),13909,2995)
	alife():create("psyonik",vector():set(-34.040790557861,-4.9912877082825,-134.07286071777),8531,2993)
	alife():create("psyonik",vector():set(1.829642534256,-3.0027103424072,-238.73297119141),22658,3001)
	alife():create("psyonik",vector():set(7.9214038848877,-3.0594987869263,-267.87005615234),29178,3004)
	alife():create("molerat",vector():set(60.596321105957,-7.0000772476196,-7.2541556358337),55296,3013)
	alife():create("molerat",vector():set(48.05052947998,-7.0006666183472,-2.1701283454895),50945,3013)
	alife():create("molerat",vector():set(35.743534088135,-7.0003170967102,1.4489914178848),45514,3013)
	alife():create("molerat",vector():set(15.737301826477,-7.0051231384277,6.7373423576355),34439,3013)
	alife():create("kikimora",vector():set(0.085574239492416,-6.1627259254456,18.316326141357),24617,3013)
	alife():create("kikimora",vector():set(5.1555619239807,-6.0018091201782,36.333923339844),27500,3015)
	alife():create("kikimora",vector():set(23.17985534668,-5.3592162132263,-10.369646072388),38561,3013)
	alife():create("kikimora",vector():set(7.1752543449402,-6.8526883125305,-28.931669235229),28822,3011)
	alife():create("kikimora",vector():set(41.190315246582,-7.005672454834,-27.791929244995),48473,3011)
	db.actor:give_info_portion("dimak_video_have")
end
function dimak_video_done()
	sak.out_item_namber("vidik",1)
	sak.create_items_actor("wpn_mauser_red9",1)
	kostya_dialog.give_ammo(4)
	table_treasure_l.treasure()
end

-- ÎÏÀÑÍÛÅ ÑÂßÇÈ
function check_habar3(first_speaker, second_speaker)
	return
		box_is_full("a_inventory_box60",habar3)
end
function kontrik_vodka_sms()
	level.add_pp_effector("snd_shock.ppe", 2004, true)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÈÑÒÎ×ÍÈÊ ÍÅÈÇÂÅÑÒÅÍ:".."\\n".."%c[255,255,128,128]Ñòàëêåð, íóæíà òâîÿ ïîìîùü. Òû äîëæåí ïðèíåñòè ìíå ÿùèê âîäêè. È ïîáûñòðåå, èíà÷å ÿ óìðó. Âèäåòü ìåíÿ òåáå ïîêà åù¸ ðàíî, ïîýòîìó âîäêó ïîëîæèøü â ðþêçàê, êîòîðûé ñïðÿòàí â ñòàðîì çàïîðîæöå, ñïðàâà îò äîðîãè, åñëè èäòè â Áàð. Ñäåëàåøü - îòáëàãîäàðþ.".."".."\n", nil, "norman", 20000)
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function kontrik_vodka_zvuk()
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function kontrik_vodka_start()
	level.add_pp_effector("monolith_off.ppe", 2005, false)
	level.remove_pp_effector(2004)
	level.add_cam_effector("camera_effects\\prison_1.anm", 25, false, "")
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_laugh]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	db.actor.psy_health = -0.30
end
function kontrik_vodka_sms2()
	level.add_pp_effector("snd_shock.ppe", 2004, true)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÈÑÒÎ×ÍÈÊ ÍÅÈÇÂÅÑÒÅÍ:".."\\n".."%c[255,255,128,128]Ñïàñèáî, ìóæèê, âûðó÷èë òû ìåíÿ. Âîçìîæíî, ìû åù¸ ñâèäèìñÿ è ÿ òåáå ïîìîãó. À ïîêà çàïîìèíàé íàâîäêó íà îäèí òàéíè÷îê, ÿ î í¸ì â ãîëîâå îäíîãî ñòàëêåðà óçíàë. Åñëè èäòè ïðÿìî â Áàð, òî óâèäèøü ñóõîå äåðåâî ñïðàâà îò äîðîãè. Ïîä åãî êîðíÿìè íàéä¸øü ðþêçà÷îê ñ õàáàðîì. Áûâàé!".."".."\n", nil, "norman", 20000)
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function kontrik_vodka_have()
     if check_habar3() then
		kontrik_vodka_done()
		return true
     end
		return false
end
function kontrik_vodka_done()
	snp.drink_vodka()
	alife():create("a_inventory_box61",vector():set(266.86901855469,1.3188534975052,-87.449729919434),67181,1278)
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"a_inventory_box60") then
	alife():release(obj,true)
	break
	end
	end
end

-- ÎÕÎÒÍÈÊ È ÄÎÁÛ×À
function support_spawn()
	local ap = db.actor:position()
	local lv = db.actor:level_vertex_id()
	local gv = db.actor:game_vertex_id()
	alife():create("tarakan_strong", vector():set(ap.x+math.random(-8,8), ap.y, ap.z+math.random(-8,8)), lv, gv)
end
function predator_vizor()
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\predator_vizor]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function predator_target()
	local snd_sobj = xr_sound.get_safe_sound_object([[characters_voice\human_01\predator\fight\hit\hit_4]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function predator_hit()
	local snd_sobj = xr_sound.get_safe_sound_object([[weapons\gauss\gauss_shoot]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	level.add_cam_effector("camera_effects\\head_shot.anm", 5001, false, "")
	db.actor.health = -0.35
end
function predator_god_spawn()
	local ap = db.actor:position()
	local lv = db.actor:level_vertex_id()
	local gv = db.actor:game_vertex_id()
	alife():create("predator_god", vector():set(ap.x+math.random(10,20), ap.y, ap.z+math.random(10,20)), lv, gv)
end
function predator_god_delete()
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"predator_god") then
	alife():release(obj,true)
	break
	end
	end
end
function predator_zvuk()
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\predator]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function predator_npc_spawn()
	local ap = db.actor:position()
	local lv = db.actor:level_vertex_id()
	local gv = db.actor:game_vertex_id()
	alife():create("predator_npc", vector():set(ap.x+math.random(10,20), ap.y, ap.z+math.random(10,20)), lv, gv)
end
function predator_gauss()
	local snd_sobj = xr_sound.get_safe_sound_object([[weapons\gauss\gauss_shoot]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function predator_npc_dead()
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\predator_laugh]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	amk.start_timer("battle", 0, {"puzir", 31, 1})
end
function predator_bum()
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"predator_npc") then
                amk_particle.amk_particle({
	particle="a_ufp_particles\\atom_blow",
	pos=obj:position(),
	sound=[[weapons\nucleus_blast]]})
		break
	end
	end
	local snd_sobj = xr_sound.get_safe_sound_object([[weapons\nucleus_blast]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function predator_npc_delete()
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
    	if obj and (string.find(obj:name(),"predator_npc") or string.find(obj:name(),"wpn_gauss_predator")) then
	alife():release(obj,true)
	end
	end
end
function kill_predator_done()
	sak.create_items_actor("wpn_ak107_m1",1)
	kostya_dialog.give_ammo(4)
end

-- ÑÞÐÏÐÈÇ ÎÒ ÒÎËÈÊÀ
function tolik_radio_sucker()
	alife():create("bloodsucker_weak",vector():set(-214.72402954102,-2.4916138648987,87.785079956055),21394,339)
	alife():create("bloodsucker_weak",vector():set(-199.62089538574,0.66574716567993,37.545585632324),30075,316)
	alife():create("bloodsucker_mil",vector():set(-126.52223968506,0.70098638534546,87.199516296387),89599,337)
	alife():create("bloodsucker_weak",vector():set(-201.39506530762,-0.86175584793091,141.65312194824),28995,342)
	alife():create("bloodsucker_weak",vector():set(-160.99227905273,-0.98726749420166,151.25465393066),58904,344)
end

-- ÐÓ×ÍÎÉ ÒÏ ÊÐÅÑÒÀ
function bandit_krest_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Ïàöàíû, äà çäåñü àðòîâ íåìåðåíî, ÿ ôóôåë ãíàòü íå áóäó! Íà ïðîøëîé íåäåëå áðèãàäà Êîçûðíîãî ñòîïîðíóëà íà ôåðìå ïàðó ñòàëêåðêîâ. Òàê âîò îíè ó ýòèõ áàêëàíîâ öåëûé ðþêçàê ñâåòèëîê îòæàëè. Îäèí èç íèõ áàëàêàë, ÷òî âåñü ëåñ èìè óñûïàí - õîäè äà ñîáèðàé.".."".."\n", 5, nil, 15000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Àãà, ïëÿòü, õîäè äà ñîáèðàé! À ïðî ìóòîâ îí áàçàð íå â¸ë? Â ýòîì, ìàòü åãî, çàêîëäîâàííîì ëåñó êàêèå òîëüêî òâàðè íå âîäÿòñÿ. Çàáûëè, ÷òî ñòàëîñü ñ Òèìîõîé? Îäíè ëèøü êèøêè, ðàçáðîñàííûå ïî âåòêàì... Êàê áû è íàì ñâîè æîïû íå íàäîðâàòü.".."".."\n", 20, nil, 15000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Õàðý áàñèòü! Ýòè ñêàçî÷êè äëÿ òàêèõ äåáèëîâ êàê òû è âûäóìûâàþò, ÷òîá ïîìåíüøå õîäîêîâ â ëåñ áûëî. À Òèìîõà òâîé, ÿñíîå äåëî, â àíîìàëêó óãîäèë... Âñ¸, êîí÷àé òðûíä¸æ! Ðàçáðåëèñü ïî îêðóãå, ÷åðåç ïîë÷àñèêà âñòðå÷àåìñÿ ó òðîïêè èç ëåñà.".."".."\n", 35, nil, 15000)
     	alife():create("leshyi_bandit1",vector():set(-31.042785644531,3.2580304145813,-58.077522277832),162785,2882)
	alife():create("leshyi_bandit2",vector():set(-5.4259867668152,10.913919448853,-15.920703887939),183439,2882)
	alife():create("leshyi_bandit3",vector():set(109.22012329102,-0.0026784837245941,-17.172704696655),274692,2884)
	alife():create("leshyi_bandit4",vector():set(127.90663146973,1.292366027832,44.304405212402),291446,2885)
	alife():create("leshyi_bandit5",vector():set(195.58355712891,-3.165717124939,73.532768249512),345236,2885)
end

-- ÀÐÒ ÄËß ÊÐÓÃËÎÂÀ
function mutant_kruglov_spawn()
     	alife():create("psyonik",vector():set(71.789047241211,0.10867658257484,-63.254905700684),77591,1516)
	alife():create("esc_arhara_stalker_zombied",vector():set(54.317993164063,0.048126637935638,-74.755340576172),67537,1517)
	alife():create("esc_arhara_stalker_zombied1",vector():set(27.038423538208,0.066197693347931,-40.705513000488),52578,1506)
	alife():create("girl_zombied",vector():set(92.137710571289,0.026715368032455,-31.190315246582),87822,1515)
	alife():create("voen_zombied1",vector():set(92.137710571289,0.026715368032455,-31.190315246582),87822,1515)
	alife():create("zombie_plague_komar",vector():set(92.137710571289,0.026715368032455,-31.190315246582),87822,1515)
	alife():create("yan_zombied_respawn_3",vector():set(99.925903320313,-0.10604000091553,-38.951847076416),91909,1515)
	alife():create("voen_zombied2",vector():set(99.925903320313,-0.10604000091553,-38.951847076416),91909,1515)
	alife():create("girl_zombied2",vector():set(69.144638061523,0.29303869605064,-42.357933044434),76043,1443)
end

-- ÄÎÊÓÌÅÍÒÛ ÄËß ÑÀÕÀÐÎÂÀ
function zasada_sahar_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Êîìàíäèð, ìû çàïåëåíãîâàëè ñèãíàë ðàäèîìàÿ÷êà ñ óêðàäåííîãî êåéñà. Îöåïëÿåì ðàéîí.".."".."\n", 5, nil, 13000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Èäèîò! Âñå ïåðåãîâîðû ïî âíóòðåííåé ñâÿçè!".."".."\n", 13, nil, 15000)
	alife():create("soldier_mines_veteran",vector():set(-153.05458068848,21.353319168091,189.54302978516),84854,522)
	alife():create("soldier_mines_veteran",vector():set(-135.96322631836,14.004502296448,164.24630737305),103721,523)
	alife():create("zasada_tonnel_agro_2",vector():set(-100.84465789795,13.445007324219,180.23135375977),139625,520)
	alife():create("soldier_mines_regular",vector():set(-133.2476348877,9.8901147842407,138.65231323242),106690,523)
	alife():create("zasada_tonnel_agro_3",vector():set(-100.59981536865,4.1233353614807,94.500953674316),140226,590)
	alife():create("soldier_mines_regular",vector():set(-118.63603210449,9.0481719970703,57.282573699951),121964,526)
	alife():create("zasada_blockpost_3",vector():set(-133.86022949219,5.8238258361816,25.694828033447),105781,539)
	alife():create("soldier_mines_veteran",vector():set(-111.77193450928,0.44296327233315,-30.6994972229),128002,599)
end

-- ÏÏ ÄËß ÞÐÈÊÀ
function dram_novice_spawn()
	local snd_sobj = xr_sound.get_safe_sound_object([[monsters\volkodav\volkodav_threaten_0]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
     	alife():create("volkodav",vector():set(-239.83702087402,0.32489171624184,14.062026977539),11901,314)
end

-- ÑÈÑÒÅÌÍÛÉ ÁËÎÊ
function system_blok_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Îí òî÷íî ïîø¸ë ñþäà, òû íå îøèáñÿ? Ìîæåò äîæä¸ìñÿ åãî íà ïîâåðõíîñòè? ×òî-òî ìíå íå ïî ñåáå îò ýòîãî ìåñòà...".."".."\n", 5, nil, 10000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Ãîâîðþ æå, ÿ âèäåë, êàê îí ñïóñòèëñÿ â ëàáîðàòîðèþ. Ýòà ïàäëà ãäå-òî çäåñü îøèâàåòñÿ. Ãëÿäèòå â îáà, ýòîò ñòàëêåð íå òàê-òî ïðîñò.".."".."\n", 12, nil, 15000)
     	alife():create("boevik_sniper",vector():set(-0.86848801374435,9.3197889328003,-7.7809157371521),2681,1109)
	alife():create("boevik_sniper",vector():set(-7.8673372268677,9.1754322052002,1.2526391744614),1849,1110)
	alife():create("boevik_sniper",vector():set(0.46330636739731,4.1887397766113,3.1146512031555),2903,1124)
	alife():create("boevik_sniper",vector():set(18.43529510498,4.1889820098877,-12.873696327209),5520,1117)
	alife():create("boevik_sniper",vector():set(0.4719532430172,-10.819253921509,-5.3832502365112),2876,1134)
	alife():create("boevik_sniper",vector():set(-23.302642822266,-10.81707572937,-4.1787786483765),806,1149)
	alife():create("boevik_sniper",vector():set(-2.4417736530304,-10.814518928528,18.512344360352),2449,1144)
end

-- ÔÎÍÀÐÈÊÈ ÄËß ØÀÕÒ¨ÐÀ
function shaxter_fonar_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÊÐÅÑÒ:".."\\n".."%c[255,255,128,128]Ãëÿ, Ìå÷åíûé! ×òî ýòî òàì â êóñòàõ øåâåëèòñÿ? Îé, äà ýòî æ êèêèìîðû!".."".."\n", 3, nil, 15000)
     	alife():create("kikimora",vector():set(-21.579236984253,2.7924468517303,-124.79498291016),170353,2882)
	alife():create("kikimora",vector():set(-40.491691589355,-0.28518429398537,-115.21422576904),154893,2882)
	alife():create("kikimora",vector():set(-57.253692626953,-0.60726290941238,-126.48887634277),141600,2882)
	alife():create("kikimora",vector():set(-62.174449920654,1.5024238824844,-135.17344665527),137670,2882)
	alife():create("kikimora",vector():set(-20.39575958252,3.3492636680603,-144.30824279785),171448,2882)
	alife():create("kikimora",vector():set(-28.721588134766,3.20157289505,-165.9970703125),164500,2882)
end

-- ÆÑ, ÊÎÍÒÅÉÍÅÐ Ñ ÀÐÒÅÔÀÊÒÎÌ
function life_heart_sidor_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]ÏÄÀ ñ ðåöåïòîì äîëæåí áûòü â ýòîì âàãîí÷èêå, îáûùèòå åãî... Âñåì âíèìàíèå! Ïîáëèçîñòè íåâåðíûé...".."".."\n", 2, nil, 15000)
     	alife():create("monolith_x8_regular",vector():set(520.03967285156,-49.106033325195,-250.83157348633),175421,2061)
	alife():create("monolith_x8_veteran",vector():set(511.95004272461,-48.032558441162,-234.15106201172),171898,2058)
	alife():create("monolith_x8_master",vector():set(533.38250732422,-45.137680053711,-255.8062286377),182008,2061)
	alife():create("monolith_x8_regular",vector():set(518.42590332031,-48.778263092041,-238.93838500977),174838,2114)
	alife():create("monolith_x8_veteran",vector():set(455.03460693359,-48.343654632568,-222.11038208008),148592,2110)
	alife():create("tank_spawn_zasada2",vector():set(469.76037597656,-47.749565124512,-221.53393554688),154120,2059)
     	alife():create("volkodav",vector():set(441.08584594727,-50.165664672852,-317.31729125977),143451,2064)
	alife():create("volkodav",vector():set(432.96884155273,-50.335838317871,-321.1637878418),140463,2064)
	alife():create("volkodav",vector():set(503.08432006836,-50.691356658936,-291.5475769043),167305,2062)
	alife():create("volkodav",vector():set(501.14248657227,-53.482055664063,-278.32000732422),166694,2060)
end

-- ÑÅÉÑÌÎÊÀÐÒÛ ÑÊËÀÄÎÂ
function fanat_teleport_spawn()
	add_earthquake()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ýòî ÷òî åù¸ çà íà õåð?!".."".."\n", 7, nil, 10000)
     	alife():create("bloodsucker_mil",vector():set(0.5571653842926,-10.817099571228,-7.2836208343506),2870,1134)
	alife():create("m_poltergeist_dd",vector():set(-1.9402735233307,-10.814374923706,20.65043258667),2453,1144)
     	alife():create("polter_xray",vector():set(-27.815765380859,-10.817368507385,-7.0142779350281),624,1149)
	alife():create("electro_polter",vector():set(1.3619726896286,4.1897988319397,-0.82146149873734),2996,1124)
	alife():create("psyonik",vector():set(1.3619726896286,4.1897988319397,-0.82146149873734),2996,1124)
end

-- ÍÎÓÒÁÓÊ ÀÐÕÀÐÛ
function yakut_treasure_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÀÄÐÅÍÀËÈÍ:".."\\n".."%c[255,255,128,128]Íàáëþäàþ âîëíó ìóòàíòîâ, äâèæåòñÿ â ñòîðîíó æ/ä òîííåëÿ. Áóäüòå îñòîðîæíû!".."".."\n", nil, nil, 10000)
     	alife():create("molerat",vector():set(227.00466918945,-0.20112097263336,54.384010314941),419093,498)
	alife():create("molerat",vector():set(227.00466918945,-0.20112097263336,54.384010314941),419093,498)
     	alife():create("molerat",vector():set(185.34367370605,-0.20275470614433,49.586303710938),400769,497)
	alife():create("nosales",vector():set(185.34367370605,-0.20275470614433,49.586303710938),400769,497)
     	alife():create("molerat",vector():set(191.17387390137,-0.20521274209023,40.643802642822),403533,498)
     	alife():create("nosales",vector():set(191.17387390137,-0.20521274209023,40.643802642822),403533,498)
	alife():create("molerat",vector():set(162.728515625,-0.20157723128796,44.84358215332),387880,496)
     	alife():create("nosales",vector():set(162.728515625,-0.20157723128796,44.84358215332),387880,496)
	alife():create("molerat",vector():set(164.08518981934,-0.083278387784958,50.235931396484),388698,497)
	alife():create("nosales",vector():set(164.08518981934,-0.083278387784958,50.235931396484),388698,497)
	alife():create("kikimora",vector():set(120.86385345459,-0.072768360376358,50.32137298584),354811,495)
     	alife():create("kikimora",vector():set(112.12621307373,0.011883020401001,37.305614471436),346056,422)
	alife():create("kikimora",vector():set(99.147605895996,0.21667113900185,53.360198974609),334027,494)
	alife():create("kikimora",vector():set(99.147605895996,0.21667113900185,53.360198974609),334027,494)
end

-- ÆÓÐÍÀË ÏÎË¨ÒÎÂ
function akim_journal_start()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Àêèì, äâîéíàÿ öåíà çà îðóæèå íå óñòðàèâàåò çàêàç÷èêà. Åñòü ëè àëüòåðíàòèâíûé âàðèàíò ðåøåíèÿ âîïðîñà?".."".."\n", nil, nil, 15000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÀÊÈÌ:".."\\n".."%c[255,255,128,128]Ïîêà òû áåãàë ïî Çîíå, ÿ âûÿñíèë ïðè÷èíó ïðîáëåìû. Ñ âîåííîé áàçû íåêèì ñòàëêåðîì áûëè óêðàäåíû ñåêðåòíûå äîêóìåíòû, ïîýòîìó âîÿêè óñèëèëè áëîêïîñòû è âîçäóøíûé êîíòðîëü. ×òîáû áåçîïàñíî äîñòàâëÿòü ãðóçû â Çîíó, ïîñòàâùèêó íóæåí æóðíàë ïîë¸òîâ âåðòóøåê. Â ýòîò ðàç îí ñìîã äîãîâîðèòüñÿ, äàâ íà ëàïó áîëüøóþ ñóììó, íî â ñëåäóþùèé ðàç ýòî íå ïðîêàòèò. Ïîýòîìó öåíà âûðîñëà â äâà ðàçà. Íî åñëè òû ïðèíåñ¸øü ìíå ýòîò æóðíàë, òî ïîëó÷èøü ñâîé çàêàç. Æóðíàë äîëæåí õðàíèòüñÿ â ñåéôå, â îäíîé èç êàçàðì òîé áàçû. Áóäü áäèòåëåí, ïåðèìåòð Àãðîïðîìà õîðîøî îõðàíÿåòñÿ.".."".."\n", 15, nil, 35000)
	spawn_restrictor.agro_journal_sr1()
     	alife():create("leshyi_bandit1",vector():set(-212.41458129883,1.0715938806534,-11.362323760986),22803,308)
	alife():create("leshyi_bandit2",vector():set(-204.92413330078,0.41869202256203,-21.864225387573),26747,306)
	alife():create("leshyi_bandit3",vector():set(-211.4543762207,0.40743026137352,-21.387945175171),23192,307)
	alife():create("leshyi_bandit4",vector():set(-210.94464111328,0.23323181271553,-36.803356170654),23567,307)
	alife():create("leshyi_bandit5",vector():set(-172.20532226563,0.39840999245644,-37.128116607666),49609,302)
	alife():create("soldier_mines_veteran",vector():set(-107.30572509766,7.3849053382874,-206.35697937012),132782,552)
	alife():create("soldier_mines_veteran",vector():set(-106.83578491211,7.385838508606,-137.08358764648),132866,696)
	alife():create("zasada_tonnel_agro_2",vector():set(-124.72811126709,-0.0017704963684082,-174.64685058594),115250,564)
	alife():create("soldier_mines_regular",vector():set(-134.48246765137,-0.00031968951225281,-202.26696777344),104719,649)
	alife():create("zasada_tonnel_agro_3",vector():set(-170.21655273438,5.3100771903992,-182.47137451172),66819,667)
	alife():create("agro_elite_soldier",vector():set(-153.04669189453,1.1005100011826,-164.42903137207),84359,669)
	alife():create("zasada_tonnel_agro_2",vector():set(76.34033203125,0.2026239335537,-107.39834594727),311687,427)
	alife():create("zasada_tonnel_agro_3",vector():set(97.913635253906,0.86905455589294,-115.78730773926),332439,611)
	alife():create("soldier_mines_veteran",vector():set(80.965850830078,0.011948227882385,-135.7227935791),316282,427)
	alife():create("soldier_mines_regular",vector():set(35.438545227051,5.1912317276001,-119.17440032959),274166,451)
	alife():create("zasada_blockpost_3",vector():set(39.879581451416,7.2174859046936,-93.713195800781),277950,451)
	alife():create("agro_elite_rpg",vector():set(117.99513244629,2.9283993244171,-157.55480957031),351817,430)
amk_mod.spawn_military_tech_pack(alife():create("vehicle_btr",vector():set(88.028366088867,0.30509641766548,-115.51955413818),322938,426),"vehicle_btr", "scripts\\ohota\\btr.ltx")
end
function akim_journal_have_all()
	return
		new_dialog.item_much("journal_poletov",1)
end
function akim_journal_have()
	if new_dialog.item_much("journal_poletov",1) then
		db.actor:give_info_portion("akim_journal_have")
		return true
	else
		return false
	end
end
function akim_journal_done()
	sak.out_item_namber("journal_poletov",1)
	sak.create_items_actor("wpn_b94",1)
end

-- ÏÀÓ×Üß ÑÅÒÜ
function check_habar4(first_speaker, second_speaker)
	return
		box_is_full("a_inventory_box64",habar4)
end
function nazar_spider_start()
	sak.create_items_actor("bomba_big",15)
	sak.create_items_actor("detonator_2",1)
	sak.create_items_actor("ammo_balon",1)
	local obj = alife():create("a_inventory_box64",vector():set(-125.37658691406,-11.084630966187,-218.41932678223),690484,3673)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Ïàó÷üå ëîãîâî")
	alife():create("spider",vector():set(-56.009544372559,2.7465238571167,-208.35214233398),832735,3681)
	alife():create("spider",vector():set(-59.989952087402,0.1158609688282,-195.37896728516),823560,3681)
	alife():create("spider",vector():set(-69.429611206055,1.4555698633194,-192.9507598877),804268,3681)
	alife():create("spider",vector():set(-82.410583496094,2.1658952236176,-191.81370544434),776513,3679)
	alife():create("spider",vector():set(-71.985794067383,0.52160573005676,-161.39184570313),782617,3679)
	alife():create("spider",vector():set(-81.22257232666,1.4647525548935,-159.25151062012),779592,3679)
	alife():create("spider",vector():set(-88.579666137695,2.9722080230713,-140.75346374512),763456,3679)
	alife():create("spider",vector():set(-71.612586975098,0.7065943479538,-139.7815246582),800001,3679)
	alife():create("spider",vector():set(-56.901992797852,0.93760073184967,-144.08215332031),831279,3679)
	alife():create("spider",vector():set(-26.558893203735,1.1782532930374,-197.76997375488),892590,3681)
	alife():create("spider",vector():set(-112.47367095947,-6.2621307373047,-227.37756347656),714839,3673)
	alife():create("spider",vector():set(-108.00131225586,-9.2249250411987,-207.9393157959),724474,3673)
	alife():create("spider",vector():set(-118.18695831299,-14.9057970047,-196.18884277344),703700,3673)
	alife():create("spider",vector():set(-86.536590576172,-0.1010415405035,-223.70846557617),767613,3673)
	alife():create("spider",vector():set(-137.33494567871,-17.544733047485,-198.50564575195),667849,3673)
	spawn_restrictor.spider_ohota_sr1()
end
function ohota_spider_have(task, info)
     if db.actor:has_info("ohota_spider1_dead") and db.actor:has_info("ohota_spider2_dead") then 
    		return db.actor:give_info_portion("ohota_spider_have")
    end
		return false
end
function nazar_spider_spawn()
	alife():create("spider",vector():set(-112.47367095947,-6.2621307373047,-227.37756347656),714839,3673)
	alife():create("spider",vector():set(-108.00131225586,-9.2249250411987,-207.9393157959),724474,3673)
	alife():create("spider",vector():set(-118.18695831299,-14.9057970047,-196.18884277344),703700,3673)
	alife():create("spider",vector():set(-86.536590576172,-0.1010415405035,-223.70846557617),767613,3673)
	alife():create("spider",vector():set(-137.33494567871,-17.544733047485,-198.50564575195),667849,3673)
	spawn_restrictor.spider_bomba_sr1()
end
function nazar_spider_have()
     if check_habar4() then
		nazar_spider_proverka()
		return true
     end
		return false
end
function nazar_spider_proverka()
	amk.start_timer("battle", 0, {"zaton", 49, 1})
end
function nazar_spider_timer()
	local snd_obj = xr_sound.get_safe_sound_object([[zwuk\timer]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function nazar_spider_bum()
        amk_particle.amk_particle({
		particle="a_ufp_particles\\atom_blow",
		pos=vector():set(-83.266731262207,8.0720977783203,-203.57981872559),
		sound=[[weapons\nucleus_blast]]})
        amk_particle.amk_particle({
		particle="a_ufp_particles\\atom_blow",
		pos=vector():set(-83.683959960938,7.9238104820251,-174.15715026855),
		sound=[[weapons\nucleus_blast]]})
	local snd_sobj = xr_sound.get_safe_sound_object([[weapons\nucleus_blast]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
		db.actor:give_info_portion("biznes_remove_special_item")
		sak.out_item_namber("detonator_2",1)
		db.actor:disable_info_portion("biznes_remove_special_item")
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"a_inventory_box64") then
	alife():release(obj,true)
	break
	end
	end
end

-- ÎÕÎÒÀ ÍÀ ÂÛÏÎËÇÍÅÉ
function ohota_vypolzen_start()
	sak.create_items_actor("detonator",1)
	alife():create("vypolzen_red",vector():set(-146.20608520508,0.82003569602966,29.918851852417),7071,3240)
	alife():create("vypolzen_red",vector():set(-120.46716308594,0.45337226986885,32.107948303223),8957,3240)
	alife():create("vypolzen_red",vector():set(-106.13043212891,0.76653468608856,20.771259307861),11178,3240)
	alife():create("vypolzen_red",vector():set(-131.43969726563,-6.2503733634949,-43.853549957275),7753,3240)
	alife():create("vypolzen_red",vector():set(-164.71687316895,2.1790130138397,-32.807331085205),4826,3240)
	alife():create("vypolzen_red",vector():set(-166.91174316406,2.1775574684143,-23.318031311035),4574,3240)
	alife():create("vypolzen_red",vector():set(-152.57968139648,2.2692580223083,14.191118240356),6352,3240)
	alife():create("vypolzen_red",vector():set(-196.14685058594,3.2430777549744,13.882815361023),1269,3240)
	alife():create("vypolzen_red",vector():set(-177.12161254883,2.2490842342377,-10.884649276733),3566,3240)
	alife():create("vypolzen_red",vector():set(-140.38761901855,4.2317218780518,14.720575332642),7309,3240)
	alife():create("vypolzen_red",vector():set(-136.51159667969,0.73766684532166,24.099943161011),7463,3240)
	alife():create("vypolzen_red",vector():set(-166.1745300293,1.5170897245407,20.64945602417),4671,3240)
	spawn_restrictor.ohota_vypolzen_sr1()
end
function ohota_vypolzen_have(task, info)
     if db.actor:has_info("ohota_vypolzen1_dead") and db.actor:has_info("ohota_vypolzen2_dead") and db.actor:has_info("ohota_vypolzen3_dead") then 
    		return db.actor:give_info_portion("ohota_vypolzen_have")
    end
		return false
end
function ohota_vypolzen_spawn()
	alife():create("vypolzen_red",vector():set(-131.43969726563,-6.2503733634949,-43.853549957275),7753,3240)
	alife():create("vypolzen_red",vector():set(-164.71687316895,2.1790130138397,-32.807331085205),4826,3240)
	alife():create("vypolzen_red",vector():set(-166.91174316406,2.1775574684143,-23.318031311035),4574,3240)
	spawn_restrictor.new_vypolzen_sr1()
	amk.start_timer("battle", 0, {"red_forest", 31, 1})
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(-85.972450256348,2.322550535202,-53.39575958252),
		sound=[[weapons\explo\dynamite_boom]]})
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(-86.016456604004,2.6613688468933,-57.208297729492),
		sound=[[weapons\explo\dynamite_boom]]})
	db.actor.health = -0.3
end
function ohota_vypolzen_bum1()
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(-94.588958740234,2.3307747840881,-53.402732849121),
		sound=[[weapons\explo\dynamite_boom]]})
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(-94.299034118652,2.2878785133362,-57.345626831055),
		sound=[[weapons\explo\dynamite_boom]]})
end
function ohota_vypolzen_bum2()
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(-102.80667114258,2.2819402217865,-54.087230682373),
		sound=[[weapons\explo\dynamite_boom]]})
	amk_particle.amk_particle({
		particle="explosions\\explosion_01c",
		pos=vector():set(-102.48865509033,2.26180768013,-57.666427612305),
		sound=[[weapons\explo\dynamite_boom]]})
end
function new_vypolzen_spawn()
	level.add_cam_effector("camera_effects\\earthquake.anm", 2002, false, "")
	local snd_sobj = xr_sound.get_safe_sound_object([[ambient\earthquake]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("ohota_vypolzen1",vector():set(-99.710151672363,0.77098631858826,29.054004669189),12411,3240)
	alife():create("ohota_vypolzen2",vector():set(-121.47547912598,-6.252019405365,-43.06729888916),8779,3240)
	alife():create("ohota_vypolzen3",vector():set(-123.83085632324,2.4070556163788,-53.46960067749),8545,3240)
	alife():create("vypolzen_red",vector():set(-181.25112915039,2.2699301242828,2.620267868042),3120,3240)
	alife():create("vypolzen_red",vector():set(-150.79515075684,2.3252458572388,-14.015027999878),6709,3240)
	alife():create("vypolzen_red",vector():set(-157.39810180664,2.2882540225983,-45.388233184814),5655,3240)
	alife():create("vypolzen_red",vector():set(-146.20608520508,0.82003569602966,29.918851852417),7071,3240)
	alife():create("vypolzen_red",vector():set(-120.46716308594,0.45337226986885,32.107948303223),8957,3240)
	alife():create("vypolzen_red",vector():set(-106.13043212891,0.76653468608856,20.771259307861),11178,3240)
	alife():create("kikimora",vector():set(15.685874938965,-0.8739720582962,-73.474075317383),76148,3287)
	alife():create("kikimora",vector():set(-2.25883436203,-0.35026943683624,-83.180015563965),66512,3287)
	alife():create("kikimora",vector():set(-19.389835357666,-0.62097549438477,-62.078193664551),50780,3267)
	alife():create("volkodav",vector():set(-40.902069091797,0.24443730711937,-34.197132110596),35485,3260)
	alife():create("volkodav",vector():set(-29.887393951416,0.054875880479813,-28.637645721436),42216,3260)
	alife():create("volkodav",vector():set(-32.187858581543,-0.0098590552806854,-12.166639328003),40859,3263)
	alife():create("volkodav",vector():set(-53.487968444824,0.0013825595378876,-16.899991989136),27657,3251)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Äüÿâîë! Êàê áû øàõòà íå îáâàëèëàñü! Íóæíî ïîñêîðåå âñ¸ çà÷èñòèòü è âûáèðàòüñÿ îòñþäà.".."".."\n", nil, nil, 15000)
end
function add_earthquake()
	level.add_cam_effector("camera_effects\\earthquake.anm", 2002, false, "")
	local snd_sobj = xr_sound.get_safe_sound_object([[ambient\earthquake]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function ohota_vypolzen_done()
	sak.create_items_actor("ammo_357_ap_mag",2)
	sak.create_items_actor("ammo_357_hp_mag",2)
	sak.create_items_actor("ammo_23x76_shrap",2)
	sak.create_items_actor("wpn_shmel",1)
end

-- ÏÅÐÅÂ¨ÐÒÛØÈ
function adrenalin_obves_start()
	spawn_restrictor.perevert_boloto_sr1()
	spawn_restrictor.perevert_zaton_sr1()
	spawn_restrictor.perevert_upiter_sr1()
	alife():create("perevert1_npc",vector():set(-289.95843505859,0.34447726607323,-182.8889465332),4400,3356)
	alife():create("perevert2_npc",vector():set(-421.7939453125,23.744298934937,-332.78335571289),145084,3664)
	alife():create("perevert3_npc",vector():set(-379.1643371582,4.2290143966675,396.7307434082),111766,3703)
	local obj = alife():create("a_inventory_box66",vector():set(360.2610168457,-6.3284125328064,432.46984863281),1289287,3742)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Âîçìîæíîå ìåñòîïîëîæåíèå êóðüåðà")
	local sobj = alife():create("a_inventory_box65",vector():set(-290.65875244141,0.18712916970253,-182.35989379883),4230,3356) -- Áîëîòà
	level.map_add_object_spot_ser(sobj.id, "crlc_big", "Âîçìîæíîå ìåñòîïîëîæåíèå êóðüåðà")
	local se_obj = alife():create("a_inventory_box65",vector():set(-421.82989501953,23.269790649414,-333.62600708008),145084,3664) -- Çàòîí
	level.map_add_object_spot_ser(se_obj.id, "crlc_big", "Âîçìîæíîå ìåñòîïîëîæåíèå êóðüåðà")
	local sr_obj = alife():create("a_inventory_box65",vector():set(-379.18218994141,4.2104773521423,396.30459594727),111766,3703) -- Þïèòåð
	level.map_add_object_spot_ser(sr_obj.id, "crlc_big", "Âîçìîæíîå ìåñòîïîëîæåíèå êóðüåðà")
end
function adrenalin_obves_have_all()
	return
		new_dialog.item_much("tactic_fonar",3) and
		new_dialog.item_much("periscope",3) and
		new_dialog.item_much("magpul_afg",3)
end
function adrenalin_obves_have()
	if adrenalin_obves_have_all() then
		db.actor:give_info_portion("adrenalin_obves_have")
		return true
	else
		return false
	end
end
function adrenalin_xrail_have_all()
	return
		new_dialog.item_much("shotgun_reload",1)
end
function adrenalin_xrail_have()
	if new_dialog.item_much("shotgun_reload",1) then
		db.actor:give_info_portion("adrenalin_xrail_have")
		return true
	else
		return false
	end
end
function adrenalin_obves_done()
	sak.out_item_namber("tactic_fonar",3)
	sak.out_item_namber("periscope",3)
	sak.out_item_namber("magpul_afg",3)
	sak.out_item_namber("shotgun_reload",1)
	sak.create_items_actor("akill_radio",2)
	kostya_dialog.give_ammo(3)
	spawn_restrictor.perevert_bar_sr1()
	alife():create("perevert4_npc",vector():set(206.36891174316,-0.00026005506515503,90.401298522949),49970,1193)
	local obj = alife():create("a_inventory_box67",vector():set(28.392078399658,21.045454025269,684.23913574219),307284,208)
	level.map_add_object_spot_ser(obj.id, "treasure", "Òàéíèê Àäðåíàëèíà")
	snp.drink_vodka()
end
function perevert1_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ýé, ñòàëêåð...".."".."\n", nil, nil, 12000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ìàìà! ×òî ýòî áûëî, ÷¸ðò âîçüìè! ×óòü â øòàíû íå íàëîæèë!".."".."\n", 30, nil, 15000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	local obj,pos,lv,gv
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and obj:section_name() == "perevert1_npc" then
		pos = obj.position
		lv = obj.m_level_vertex_id
		gv = obj.m_game_vertex_id
		alife():release(obj,true)
		alife():create("bloodsucker_effector",vector():set(pos.x+math.random(0.3,0.3), pos.y, pos.z+math.random(0.3,0.3)), lv, gv)
		alife():create("wpn_vepr",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("bandit_master_outfit",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.2,1.2), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("flaska",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("ammo_12x70_kart",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("ammo_12x70_kart",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("grenade_m61",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("grenade_m61",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
	return
	end
	end
end
function perevert2_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Òû êóðüåð...".."".."\n", nil, nil, 12000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	local obj,pos,lv,gv
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and obj:section_name() == "perevert2_npc" then
		pos = obj.position
		lv = obj.m_level_vertex_id
		gv = obj.m_game_vertex_id
		alife():release(obj,true)
		alife():create("burer_build",vector():set(pos.x+math.random(0.6,0.6), pos.y, pos.z+math.random(0.6,0.6)), lv, gv)
		alife():create("wpn_vepr",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("bandit_veteran_outfit",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.2,1.2), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("ammo_12x76_zhekan",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("ammo_12x76_zhekan",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("grenade_f1",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("grenade_f1",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
	alife():create("burer_build",vector():set(-421.91674804688,23.746770858765,-360.68316650391),145047,3664)
	alife():create("burer_build",vector():set(-407.95220947266,26.201202392578,-311.24890136719),165763,3664)
	alife():create("burer_strong",vector():set(-404.67010498047,32.197612762451,-339.51370239258),170966,3664)
	alife():create("burer_electro",vector():set(-420.50708007813,36.274631500244,-384.65405273438),146953,3664)
	alife():create("m_poltergeist_dd",vector():set(-381.59466552734,40.337829589844,-386.40863037109),205171,3664)
	alife():create("poltergeist_build",vector():set(-389.98962402344,39.814231872559,-355.60543823242),192791,3664)
	alife():create("electro_polter",vector():set(-424.10256958008,40.056022644043,-357.84783935547),142078,3664)
	alife():create("polter_xray",vector():set(-391.28897094727,40.037010192871,-337.00610351563),190828,3664)
	return
	end
	end
end
function perevert3_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]×åãî ðàññåëñÿ?".."".."\n", nil, nil, 12000)
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_silence]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	local obj,pos,lv,gv
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and obj:section_name() == "perevert3_npc" then
		pos = obj.position
		lv = obj.m_level_vertex_id
		gv = obj.m_game_vertex_id
		alife():release(obj,true)
		alife():create("controller_senator",vector():set(pos.x+math.random(0.3,0.3), pos.y, pos.z+math.random(0.3,0.3)), lv, gv)
		alife():create("wpn_mossberg590",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("ammo_12x76_dart",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("ammo_12x76_dart",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("sigaret",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("grenade_rgd5",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
	alife():create("m_controller_act",vector():set(-352.10037231445,4.2327280044556,382.78076171875),121415,3703)
	alife():create("controller_flame",vector():set(-369.57913208008,3.5686473846436,410.13238525391),91191,3703)
	alife():create("psyonik",vector():set(-313.55151367188,4.2329039573669,398.15231323242),185316,3703)
	alife():create("controller_babka",vector():set(-271.88604736328,3.6826982498169,408.18563842773),256348,3703)
	alife():create("zombie_plague",vector():set(-297.85772705078,4.2309103012085,388.36566162109),211271,3703)
	alife():create("zombie_plague_komar",vector():set(-297.85772705078,4.2309103012085,388.36566162109),211271,3703)
	alife():create("zombie_blow",vector():set(-314.53378295898,4.7185521125793,407.84393310547),184121,3703)
	alife():create("zombie_hell11",vector():set(-293.20309448242,3.6935620307922,397.93090820313),219588,3703)
	alife():create("zombie_hell12",vector():set(-282.38043212891,3.3824286460876,425.07192993164),238401,3703)
	alife():create("zombie_hell13",vector():set(-260.30154418945,3.6412353515625,396.9831237793),275103,3703)
	return
	end
	end
end
function bitva_rotan()
	alife():create("ballast",vector():set(0,0,0),0,0,0)
	amk.start_timer("battle", 0, {"jupiter", 37, 1})
end
function rotan_spawn()
	alife():create("rotan",vector():set(375.59432983398,-5.9476194381714,400.12194824219),1311353,3742)
	alife():create("rotan",vector():set(413.87945556641,-6.3380832672119,426.77438354492),1370064,3742)
	alife():create("rotan",vector():set(416.5400390625,-5.5870342254639,458.71362304688),1374794,3742)
	alife():create("rotan",vector():set(321.0285949707,-5.4549255371094,447.77133178711),1231414,3742)
	alife():create("rotan",vector():set(322.80529785156,-5.7403593063354,424.78134155273),1234409,3742)
	alife():create("rotan",vector():set(332.607421875,-5.6873264312744,407.49209594727),1248338,3742)
end
function rotan_help_spawn()
	alife():create("bar_ohotnik_respawn_1",vector():set(346.60693359375,-4.9520726203918,406.08145141602),1269332,3742)
	alife():create("gar_stalker_respawn_2",vector():set(390.88265991211,-5.3796815872192,387.1962890625),1332723,3742)
	alife():create("agr_stalker_veteran",vector():set(318.61660766602,3.9390988349915,381.73764038086),1228358,3742)
	alife():create("bar_ohotnik_respawn_1",vector():set(348.4208984375,-0.87314593791962,387.22528076172),1272403,3742)
end
function ballast_delete()
	amk.remove_item_from_inventory_by_name("ballast",db.actor)
	aem_manager.manage_money(5000, "out")
	aem_manager.manage_money(5000, "out")
end
function perevert4_spawn()
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_laugh]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	local obj,pos,lv,gv
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and obj:section_name() == "perevert4_npc" then
		pos = obj.position
		lv = obj.m_level_vertex_id
		gv = obj.m_game_vertex_id
		alife():release(obj,true)
		alife():create("rat_strong",vector():set(pos.x+math.random(0.3,0.3), pos.y, pos.z+math.random(0.3,0.3)), lv, gv)
		alife():create("rat_strong",vector():set(pos.x+math.random(0.3,0.3), pos.y, pos.z+math.random(0.3,0.3)), lv, gv)
		alife():create("rat_strong",vector():set(pos.x+math.random(0.3,0.3), pos.y, pos.z+math.random(0.3,0.3)), lv, gv)
		alife():create("rat_strong",vector():set(pos.x+math.random(0.5,0.5), pos.y, pos.z+math.random(0.5,0.5)), lv, gv)
		alife():create("rat_strong",vector():set(pos.x+math.random(0.7,0.7), pos.y, pos.z+math.random(0.7,0.7)), lv, gv)
		alife():create("rat_strong",vector():set(pos.x+math.random(0.9,0.9), pos.y, pos.z+math.random(0.9,0.9)), lv, gv)
		alife():create("wpn_ak203",vector():set(pos.x+math.random(0.2,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.2,0.3)), lv, gv)
		alife():create("dolg_outfit",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.2,1.2), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("ammo_7.62x39_fmj",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("ammo_7.62x39_fmj",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("ammo_m209",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
		alife():create("ammo_m209",vector():set(pos.x+math.random(0.1,0.3), pos.y+math.random(1.1,1.1), pos.z+math.random(0.1,0.3)), lv, gv)
	return
	end
	end
end

-- ÍÅÌÅÖÊÈÉ ÎÐÄÅÍ
function nazar_orden_start()
	alife():create("zaton_vermaht1",vector():set(-395.48635864258,11.997255325317,-50.182106018066),184903,3663)
	alife():create("zaton_vermaht2",vector():set(-400.86950683594,10.999451637268,-29.97487449646),176615,3663)
	alife():create("zaton_vermaht3",vector():set(-412.45681762695,12.210076332092,-22.256042480469),159823,3663)
	alife():create("zaton_vermaht4",vector():set(-405.58853149414,10.998489379883,-10.033917427063),170286,3663)
	alife():create("zaton_vermaht8",vector():set(-405.90447998047,10.997860908508,2.6529483795166),169238,3663)
	alife():create("zaton_vermaht1",vector():set(-390.70635986328,6.8987627029419,-14.735213279724),192187,3663)
	alife():create("zaton_vermaht2",vector():set(-404.58728027344,6.8987774848938,-8.1998434066772),171363,3663)
	alife():create("zaton_vermaht3",vector():set(-401.63916015625,0.4975902736187,6.9739952087402),175644,3660)
	alife():create("zaton_vermaht4",vector():set(-417.13427734375,-1.1507948637009,63.060989379883),152580,3660)
	alife():create("zaton_vermaht8",vector():set(-439.28979492188,4.998854637146,47.148391723633),123701,3660)
	alife():create("vermaht_general",vector():set(-448.26272583008,5.0459132194519,52.879745483398),114428,3660)
end
function nazar_orden_have_all()
	return
		new_dialog.item_much("spain_krest",1)
end
function nazar_orden_have()
	if new_dialog.item_much("spain_krest",1) then
		db.actor:give_info_portion("nazar_orden_have")
		return true
	else
		return false
	end
end
function nazar_orden_done()
	sak.out_item_namber("spain_krest",1)
	sak.create_items_actor("ammo_23x76_shrap",2)
	sak.create_items_actor("ammo_12.7x108r",1)
	sak.create_items_actor("ammo_20x85",2)
	sak.create_items_actor("ammo_kumul_82",2)
	amk.start_timer("battle", 0, {"zaton", 51, 1})
end
function nazar_orden_bitva()
	amk.start_timer("battle", 0, {"zaton", 50, 1})
end
function nazar_orden_flash()
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_incoming]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function orden_tp1()
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-447.22442626953,-1.7696263790131,92.588760375977),
		sound=[[anomaly\teleport_work_2]]})
	alife():create("zaton_vermaht8",vector():set(-447.22442626953,-1.7696263790131,92.588760375977),115303,3660)
end
function orden_tp2()
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-413.43487548828,-0.83167111873627,116.55752563477),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-421.34454345703,-6.6943426132202,153.25057983398),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-453.4372253418,-5.7966485023499,178.81219482422),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-488.28079223633,-1.5652624368668,169.68084716797),
		sound=[[anomaly\teleport_work_2]]})
	alife():create("zaton_vermaht1",vector():set(-413.43487548828,-0.83167111873627,116.55752563477),158016,3666)
	alife():create("zaton_vermaht2",vector():set(-421.34454345703,-6.6943426132202,153.25057983398),146609,3666)
	alife():create("zaton_vermaht3",vector():set(-453.4372253418,-5.7966485023499,178.81219482422),108332,3660)
	alife():create("zaton_vermaht4",vector():set(-488.28079223633,-1.5652624368668,169.68084716797),69149,3660)
end
function orden_tp3()
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-356.86694335938,4.0548305511475,160.95867919922),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-398.48849487305,-6.7102246284485,186.01528930664),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-431.37518310547,-7.0127878189087,198.5135345459),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-478.30303955078,-6.6999578475952,232.3032989502),
		sound=[[anomaly\teleport_work_2]]})
	alife():create("zaton_vermaht1",vector():set(-356.86694335938,4.0548305511475,160.95867919922),244396,3666)
	alife():create("zaton_vermaht2",vector():set(-398.48849487305,-6.7102246284485,186.01528930664),184075,3666)
	alife():create("zaton_vermaht3",vector():set(-431.37518310547,-7.0127878189087,198.5135345459),184075,3666)
	alife():create("zaton_vermaht4",vector():set(-478.30303955078,-6.6999578475952,232.3032989502),82393,3660)
end
function orden_tp4()
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(87.36302947998,-6.7199020385742,-22.217546463013),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(114.34466552734,-6.996741771698,-22.907245635986),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(37.982799530029,-6.7162322998047,-51.419151306152),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-0.85265988111496,-6.847038269043,-29.060878753662),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-44.215774536133,-5.9873204231262,-9.4893217086792),
		sound=[[anomaly\teleport_work_2]]})
	alife():create("zaton_vermaht5",vector():set(87.36302947998,-6.7199020385742,-22.217546463013),1116497,3679)
	alife():create("zaton_vermaht6",vector():set(114.34466552734,-6.996741771698,-22.907245635986),1162192,3679)
	alife():create("zaton_vermaht7",vector():set(37.982799530029,-6.7162322998047,-51.419151306152),1021013,3679)
	alife():create("zaton_vermaht5",vector():set(-0.85265988111496,-6.847038269043,-29.060878753662),942518,3679)
	alife():create("zaton_vermaht6",vector():set(-44.215774536133,-5.9873204231262,-9.4893217086792),857473,3679)
end
function orden_tp5()
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(62.512565612793,-3.566023349762,68.917526245117),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(25.311531066895,-0.63662779331207,76.236343383789),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-6.5376424789429,-4.5134415626526,102.51031494141),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-43.480739593506,-6.1307945251465,72.529029846191),
		sound=[[anomaly\teleport_work_2]]})
	alife():create("zaton_vermaht1",vector():set(62.512565612793,-3.566023349762,68.917526245117),1069502,3677)
	alife():create("zaton_vermaht2",vector():set(25.311531066895,-0.63662779331207,76.236343383789),995248,3677)
	alife():create("zaton_vermaht3",vector():set(-6.5376424789429,-4.5134415626526,102.51031494141),931538,3677)
	alife():create("zaton_vermaht4",vector():set(-43.480739593506,-6.1307945251465,72.529029846191),859055,3677)
end
function orden_tp6()
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(49.112201690674,-5.2244625091553,41.15604019165),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(0.81249237060547,7.196542263031,35.811904907227),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(5.6225805282593,2.1325685977936,42.239414215088),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(3.8142101764679,2.1325945854187,30.890544891357),
		sound=[[anomaly\teleport_work_2]]})
	alife():create("zaton_vermaht8",vector():set(49.112201690674,-5.2244625091553,41.15604019165),1043917,3677)
	alife():create("zaton_vermaht1",vector():set(0.81249237060547,7.196542263031,35.811904907227),943995,3677)
	alife():create("zaton_vermaht2",vector():set(5.6225805282593,2.1325685977936,42.239414215088),955315,3677)
	alife():create("zaton_vermaht3",vector():set(3.8142101764679,2.1325945854187,30.890544891357),950945,3677)
end

-- ÊÎØÊÈ-ÌÛØÊÈ
local cat_thief={
    {position={x=55.049163818359,y=15.242540359497,z=158.5753326416},gv=510,lv=292127},
    {position={x=-179.14088439941,y=21.099739074707,z=180.5030670166},gv=592,lv=57933},
    {position={x=-123.0587387085,y=7.3667674064636,z=86.025588989258},gv=526,lv=117113},
    {position={x=-125.97621154785,y=0.20827826857567,z=-27.659332275391},gv=455,lv=113898},
    {position={x=-27.780168533325,y=11.848801612854,z=-115.56233215332},gv=544,lv=212410},
    {position={x=-205.79908752441,y=-0.12894283235073,z=-189.30018615723},gv=445,lv=30882}
}
function cat_kulon_start(actor,npc,p1,p2)
    local a = cat_thief[math.random(table.getn(cat_thief))]
    local se_obj = alife():create("cat_kulon", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
    level.map_add_object_spot_ser(se_obj.id, "crlc_big", "Êîøêà")
	local obj = alife():create("cat_quest",vector():set(155.81367492676,6.9766125679016,91.268730163574),383983,572)
	local wobj = alife():create("cat_quest",vector():set(-225.8081817627,7.8995728492737,10.123973846436),11380,540)
	local robj = alife():create("cat_quest",vector():set(-133.33383178711,7.4303450584412,-99.141128540039),106354,453)
	local tobj = alife():create("cat_quest",vector():set(150.59625244141,11.041550636292,-65.371574401855),379976,420)
	local sobj = alife():create("cat_quest",vector():set(44.391979217529,14.018128395081,-288.27377319336),281382,450)
	local dobj = alife():create("cat_quest",vector():set(-151.96034240723,-0.091725885868073,-307.54296875),85690,447)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Êîøêà")
	level.map_add_object_spot_ser(wobj.id, "crlc_big", "Êîøêà")
	level.map_add_object_spot_ser(robj.id, "crlc_big", "Êîøêà")
	level.map_add_object_spot_ser(tobj.id, "crlc_big", "Êîøêà")
	level.map_add_object_spot_ser(sobj.id, "crlc_big", "Êîøêà")
	level.map_add_object_spot_ser(dobj.id, "crlc_big", "Êîøêà")
end
function cat_kulon_have_all()
	return
		new_dialog.item_much("kulon",1)
end
function cat_kulon_have()
	if new_dialog.item_much("kulon",1) then
		db.actor:give_info_portion("cat_kulon_have")
		return true
	else
		return false
	end
end
function cat_kulon_done()
	sak.out_item_namber("kulon",1)
	sak.create_items_actor("wpn_addon_kobra",1)
	sak.create_items_actor("ammo_357_ap_mag",1)
	sak.create_items_actor("ammo_357_hp_mag",1)
	sak.create_items_actor("ammo_7.62x39_k",2)
	sak.create_items_actor("grenade_7643b",2)
	sak.create_items_actor("grenade_he",2)
	sak.create_items_actor("grenade_sg",2)
	sak.create_items_actor("grenade_fb",2)
end
function cat_kulon_delete()
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"cat_quest") then
	alife():release(obj,true)
	end
	end
end

-- ÇÀÑÀÄÛ
-- Çàòîí
function zasada_vermaht_timer()
	amk.start_timer("battle", 0, {"zaton", 52, 1})
end
function zasada_vermaht_spawn()
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-165.02841186523,8.9518117904663,75.048385620117),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-181.4266204834,8.9542379379272,91.420120239258),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-171.78216552734,7.8399348258972,136.7633972168),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(-158.5407409668,7.8931403160095,105.07553100586),
		sound=[[anomaly\teleport_work_2]]})
	alife():create("zaton_vermaht1",vector():set(-165.02841186523,8.9518117904663,75.048385620117),610998,3670)
	alife():create("zaton_vermaht2",vector():set(-181.4266204834,8.9542379379272,91.420120239258),578909,3670)
	alife():create("zaton_vermaht3",vector():set(-171.78216552734,7.8399348258972,136.7633972168),598091,3670)
	alife():create("zaton_vermaht4",vector():set(-158.5407409668,7.8931403160095,105.07553100586),625464,3670)
end
-- Ðàäàð
function zasada_monolit_timer()
	amk.start_timer("battle", 0, {"l10_radar", 31, 1})
end
function zasada_monolit_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Âñåì ðàññðåäîòî÷èòüñÿ è çàíÿòü... Íåâåðíûé! Óíè÷òîæèòü åãî!".."".."\n", nil, nil, 12000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(306.73986816406,-39.451770782471,-19.377676010132),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(307.50384521484,-45.86572265625,3.3571782112122),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(373.16403198242,-51.366542816162,30.511325836182),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(373.86447143555,-50.161598205566,-4.751317024231),
		sound=[[anomaly\teleport_work_2]]})
	amk_particle.amk_particle({
		particle="anomaly2\\teleport_out_00",
		pos=vector():set(405.65472412109,-48.350704193115,27.81258392334),
		sound=[[anomaly\teleport_work_2]]})
	alife():create("monolith_x8_master",vector():set(306.73986816406,-39.451770782471,-19.377676010132),69058,1930)
	alife():create("monolith_x8_veteran",vector():set(307.50384521484,-45.86572265625,3.3571782112122),69802,1929)
	alife():create("tank_spawn_zasada",vector():set(373.16403198242,-51.366542816162,30.511325836182),105910,1922)
	alife():create("monolith_x8_regular",vector():set(373.86447143555,-50.161598205566,-4.751317024231),106334,1864)
	alife():create("tank_x003",vector():set(405.65472412109,-48.350704193115,27.81258392334),127835,1922)
end
-- Ïðèïÿòü
function zasada_bw_timer()
	amk.start_timer("battle", 0, {"l11_pripyat", 33, 1})
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Ýòî Ýõî-1, âèæó öåëü... Âû óâåðåíû, ÷òî ýòî èìåííî òîò ñòàëêåð, óíè÷òîæèâøèé íàø ïåðåäîâîé îòðÿä íà Þïèòåðå?".."".."\n", nil, nil, 10000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function zasada_bw_shoot()
	local snd_obj = xr_sound.get_safe_sound_object([[weapons\hk417\hk417_silent]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	db.actor.health = -0.10
end
function zasada_bw_shoot_mimo()
	local snd_obj = xr_sound.get_safe_sound_object([[weapons\hk417\hk417_silent]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function zasada_bw_spawn()
	alife():create("bw_killers1",vector():set(28.973180770874,-2.2208688259125,-55.651512145996),137777,2131)
	alife():create("bw_killers2",vector():set(11.554111480713,-1.8931523561478,-78.573204040527),116183,2131)
	alife():create("bw_killers1",vector():set(-36.417087554932,-2.2221729755402,-100.27005004883),62189,2258)
	alife():create("bw_killers2",vector():set(-66.368072509766,-1.9992846250534,-52.769721984863),36949,2138)
	alife():create("bw_killers1",vector():set(-37.735771179199,-1.1194310188293,-39.552360534668),59961,2132)
	alife():create("bw_killers2",vector():set(-117.01759338379,-2.2064137458801,-69.168121337891),8756,2256)
	alife():create("bw_killers2",vector():set(22.614973068237,-1.1323990821838,-242.30718994141),129115,2161)
	alife():create("bw_killers1",vector():set(10.319374084473,-0.58218050003052,-244.78234863281),114257,2161)
	alife():create("bw_killers2",vector():set(-6.5662689208984,-2.2305986881256,-228.32168579102),93852,2161)
	alife():create("bw_killers1",vector():set(12.203956604004,-2.8139607906342,-216.54724121094),115996,2129)
	alife():create("bw_killers2",vector():set(30.544174194336,-2.1918001174927,-221.74923706055),140366,2161)
	alife():create("bw_killers2",vector():set(-1.1450325250626,-2.3909401893616,-192.00749206543),100187,2129)
	alife():create("bw_killers1",vector():set(26.305238723755,-2.2221617698669,-191.41702270508),134890,2129)
	alife():create("bw_killers2",vector():set(12.130491256714,-2.2206807136536,-190.04406738281),116029,2129)
	alife():create("bw_killers1",vector():set(-7.4822092056274,-2.2244737148285,-154.69088745117),92079,2119)
	alife():create("bw_killers2",vector():set(20.036785125732,-2.3928251266479,-160.4150390625),126596,2120)
end
-- Çàáûòûé ëåñ
function zasada_puzir_timer()
	amk.start_timer("battle", 0, {"puzir", 32, 1})
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]Òîâàðèù êàïèòàí, ðàçðåøèòå îáðàòèòüñÿ. Ó íàñ æå ïðèêàç íàéòè óïàâøóþ âåðòóøêó. Ïî÷åìó ìû çàíèìàåìñÿ ïîèñêîì àðòåôàêòîâ? ß ñëûøàë, â ýòîì äðåìó÷åì ëåñó âîäÿòñÿ ñòðàøíûå ìóòàíòû.".."".."\n", nil, nil, 15000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function stop_actor()
	alife():create("ballast",vector():set(0,0,0),0,0,0)
end
function zasada_puzir_spawn()
	amk.remove_item_from_inventory_by_name("ballast",db.actor)
	alife():create("soldier_mines_regular",vector():set(-225.02848815918,-0.13318964838982,19.055461883545),10307,2881)
	alife():create("soldier_mines_veteran",vector():set(-210.5959777832,-3.7289609909058,-2.8857018947601),21081,2882)
	alife():create("zasada_tonnel_agro_2",vector():set(-167.42660522461,-9.0763673782349,-30.203218460083),54967,2882)
	alife():create("zasada_tonnel_agro_3",vector():set(-157.24569702148,-0.34626746177673,46.695175170898),63000,2881)
	alife():create("agro_elite_rpg",vector():set(-205.74020385742,0.10608050227165,81.616287231445),24752,2881)
end
-- Ò¸ìíàÿ Äîëèíà, ïîìóòíåíèå
function kontrik_zasada_timer()
	amk.start_timer("battle", 0, {"l04_darkvalley", 31, 1})
	level.add_pp_effector("deadcity_wake.ppe", 2000, false)
	alife():create("ballast",vector():set(0,0,0),0,0,0)
	kontrik_vodka_zvuk()
end
function kontrik_zasada_soldier()
	alife():create("voen_zombied1",vector():set(50.596839904785,0.045519143342972,-284.45397949219),237855,931)
	alife():create("voen_zombied2",vector():set(41.275459289551,-0.010572612285614,-279.37408447266),225966,842)
	alife():create("voen_zombied2",vector():set(48.98807144165,0.09447830915451,-232.61602783203),236259,855)
	alife():create("voen_zombied1",vector():set(57.523315429688,0.045625418424606,-231.85317993164),245922,856)
	alife():create("voen_zombied2",vector():set(93.371162414551,0.11698144674301,-252.484375),287558,930)
	alife():create("voen_zombied1",vector():set(95.033821105957,0.15071830153465,-263.19708251953),289123,930)
	local snd_sobj = xr_sound.get_safe_sound_object([[zwuk\controller_laugh]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function kontrik_zasada_zombied()
	alife():create("voen_zombied1",vector():set(89.732200622559,-1.0000357627869,-275.40386962891),283671,930)
	alife():create("voen_zombied2",vector():set(28.343852996826,-1.5116890668869,-270.41345214844),208336,842)
	alife():create("voen_zombied2",vector():set(26.016883850098,-0.93402743339539,-254.44592285156),205768,854)
	alife():create("voen_zombied1",vector():set(82.879531860352,2.8074843883514,-229.38101196289),275641,929)
	alife():create("voen_zombied2",vector():set(98.169250488281,0.089456170797348,-233.5472869873),293031,930)
	alife():create("voen_zombied1",vector():set(72.742073059082,-1.5111576318741,-289.58551025391),263524,931)
	alife():create("psyonik",vector():set(117.40942382813,0.13101994991302,-253.17802429199),314402,955)
	alife():create("psyonik",vector():set(43.243675231934,0.053585678339005,-215.46960449219),228798,856)
	alife():create("psyonik",vector():set(26.795875549316,1.7272661924362,-315.10641479492),206576,842)
	amk.remove_item_from_inventory_by_name("ballast",db.actor)
	db.actor.psy_health = -0.45
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
	if obj and (string.find(obj:name(),"voen_zombied1") or string.find(obj:name(),"voen_zombied2")) then
            local h = hit()
            h.power = 0.2
            h.direction = vector():set(0, 0, 0)
            h.impulse = 0
            h.draftsman = db.actor
            h.type = hit.explosion
            obj:hit (h)
	end
	end
end

-- ÎÐÓÆÈÅ ÄËß ÏÐÎÂÎÄÍÈÊÀ
function kuznec_fosfor_not_rank()
	return db.actor:character_rank() <= 1400
end
function kuznec_fosfor_rank()
	return db.actor:character_rank() > 1400
end
function kuznec_fosfor()
	sak.create_items_actor("af_fosfor",15)
end
function kuznec_fosfor_has_10000()
	return db.actor:money()>=10000
end
function kuznec_fosfor_dont_has_10000()
	return db.actor:money()<10000
end

-- ÍÀÃÐÀÄÀ ÇÀ ÄÎÑÒÈÆÅÍÈß
function achieve_get_ammo()
	local ammo = {
		"ammo_23x76_shrap",
		"ammo_super_gauss",
		"ammo_minigun",
		"ammo_357_ap_mag",
		"ammo_kumul_82",
		"ammo_20x85",
		"ammo_7.62x39_k",
		"ammo_5.56x45_gd",
		"ammo_12.7x108",
		"ammo_12.7x108r",
		"ammo_og-7b",
		"ammo_balon",
		"ammo_zhekan_izomorf",
		"ammo_9x39_izomorf",
		"ammo_5.45x39_izomorf"
	}
	return ammo[math.random(#ammo)]
end
local achieve_point={
    {position={x=-111.28224945068,y=8.163890838623,z=73.754318237305},gv=81,lv=143668}, -- êîðäîí
    {position={x=266.43829345703,y=-9.2442789077759,z=-129.6284942627},gv=405,lv=374519}, -- ñâàëêà
    {position={x=16.684522628784,y=22.148620605469,z=209.39779663086},gv=506,lv=256993}, -- àãðîïðîì
    {position={x=-313.06442260742,y=0.21652182936668,z=-232.2261505127},gv=3356,lv=3628}, -- áîëîòà
    {position={x=-169.39683532715,y=10.135761260986,z=-205.9833984375},gv=2882,lv=53255}, -- çë
    {position={x=172.79797363281,y=4.5491991043091,z=-465.60559082031},gv=941,lv=373200}, -- äîëèíà
    {position={x=339.92431640625,y=7.0226788520813,z=-98.002784729004},gv=1176,lv=60676}, -- áàð
    {position={x=-92.387092590332,y=-3.0458126068115,z=-200.74020385742},gv=1485,lv=7435}, -- ÿíòàðü
    {position={x=348.04214477539,y=-55.134365081787,z=-364.60052490234},gv=2068,lv=91523}, -- ðàäàð
    {position={x=-137.40827941895,y=2.7663886547089,z=432.3869934082},gv=1858,lv=181982}, -- ñêëàäû
    {position={x=421.54315185547,y=-0.57068461179733,z=-263.48565673828},gv=2859,lv=981163}, -- àòï
    {position={x=-117.88938903809,y=-2.2094848155975,z=-54.357978820801},gv=2256,lv=8149}, -- ïðèïÿòü
    {position={x=162.6847076416,y=1.8601895570755,z=81.365409851074},gv=3319,lv=112106}, -- êë
    {position={x=256.69366455078,y=20.50217628479,z=560.0947265625},gv=3687,lv=1405068}, -- çàòîí
    {position={x=434.60748291016,y=0.21757724881172,z=471.8893737793},gv=3742,lv=1405036}, -- þïèòåð
    {position={x=132.3073425293,y=-2.2649962902069,z=-289.80804443359},gv=3765,lv=356226}, -- âîñò ïðèïÿòü
    {position={x=-281.80773925781,y=-0.003607302904129,z=204.34854125977},gv=1340,lv=1463} -- äò
}
function achieve_taynik()
	local a = achieve_point[math.random(table.getn(achieve_point))]
	return alife():create("a_inventory_box68", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
end
function achieve_fill_taynik(obj)
	for i = 1, math.random(3,6) do
		alife():create(achieve_get_ammo(), vector():set(0,0,0), 0, 0, obj.id)
	end

	if obj.online then
		alife():set_switch_online(obj.id, false)
		alife():set_switch_offline(obj.id, true)
		amk.convert_npc[obj.id] = 1 -- ñòàâèì â î÷åðåäü íà âûâîä â îíëàéí
	end
end
function achieve_taynik_spawn()
	local obj = achieve_taynik()
	level.map_add_object_spot_ser(obj.id, "treasure", "Íàãðàäà çà äîñòèæåíèå")
	achieve_fill_taynik(obj)
end
function achieve_all_taynik_spawn()
	local obj
	for _,a in pairs(achieve_point) do
		obj =  alife():create("a_inventory_box68", vector():set(a.position.x,a.position.y,a.position.z), a.lv, a.gv)
		level.map_add_object_spot_ser(obj.id, "treasure", "Íàãðàäà çà äîñòèæåíèå")
		achieve_fill_taynik(obj)
	end
end

-- ÌÈÃÐÀÖÈß
function kontrik_electro_start()
	sak.create_items_actor("amk_metka",3)
	alife():create("kontrik_electro1",vector():set(395.97882080078,-0.0015177428722382,-175.54721069336),172879,2343)
	alife():create("kontrik_electro2",vector():set(607.90594482422,-0.002551943063736,-11.547664642334),266227,2302)
	alife():create("kontrik_electro3",vector():set(693.35247802734,-0.0020561218261719,-213.88842773438),300067,2312)
end
function kontrik_electro_done()
	sak.create_items_actor("wpn_scar_mk17",1)
	sak.create_items_actor("ammo_7.62x51_fmj",1)
	sak.create_items_actor("ammo_m209",5)
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and (string.find(obj:name(),"kontrik_electro1") or string.find(obj:name(),"kontrik_electro2") or string.find(obj:name(),"kontrik_electro3")) then
	alife():release(obj,true)
	end
	end
end

-- ÄÐÓÃ ×ÅËÎÂÅÊÀ
function kalinin_dog_rank()
	return db.actor:character_rank() > 5000
end
function kalinin_dog_start()
	sak.create_items_actor("kolbasa",1)
	alife():create("dog_quest",vector():set(358.57766723633,-4.405837059021,-203.89872741699),889711,2851)
	alife():create("dog_normal",vector():set(367.45349121094,-4.4235258102417,-206.37678527832),902868,2851)
	alife():create("dog_strong",vector():set(354.89984130859,-5.0419201850891,-242.89402770996),884637,2847)
	alife():create("dog_habaruch",vector():set(363.36624145508,-3.9174456596375,-268.61254882813),896634,2847)
	alife():create("dog_green",vector():set(341.4375,-4.9119324684143,-266.57424926758),865460,2847)
	alife():create("dog_sil_hill",vector():set(317.72833251953,-5.2592396736145,-245.11389160156),831331,2847)
	alife():create("psyonik",vector():set(32.336547851563,-5.1835975646973,56.709350585938),425556,2811)
	alife():create("girl_zombied",vector():set(21.818037033081,-5.6197214126587,81.366477966309),410425,2811)
	alife():create("voen_zombied1",vector():set(33.547897338867,-4.8294944763184,65.214889526367),427600,2811)
	alife():create("esc_arhara_stalker_zombied",vector():set(12.081005096436,-5.2198958396912,45.686374664307),396215,2811)
	alife():create("girl_zombied1",vector():set(42.450996398926,-7.4433622360229,36.448631286621),440644,2820)
	alife():create("yan_zombied_respawn_3",vector():set(60.159851074219,-3.8895299434662,84.28150177002),465888,2811)
	alife():create("girl_zombied2",vector():set(100.26614379883,-5.4513049125671,97.624641418457),522251,2829)
	alife():create("voen_zombied2",vector():set(-12.132638931274,-5.8700127601624,24.875675201416),361431,2811)
	alife():create("psyonik",vector():set(-12.132638931274,-5.8700127601624,24.875675201416),361431,2811)
	alife():create("esc_arhara_stalker_zombied1",vector():set(-47.246391296387,-6.1158480644226,25.785842895508),310418,2809)
	alife():create("girl_zombied3",vector():set(-96.711776733398,-6.1150856018066,33.775817871094),238241,2802)
end
function kalinin_dog_spawn_taynik()
	alife():create("a_inventory_box69",vector():set(-12.821060180664,-2.0568410110474,-370.38354492188),357827,2807)
	alife():create("molerat",vector():set(-23.635328292847,-2.4124481678009,-334.673828125),343682,2807)
	alife():create("molerat",vector():set(-37.661285400391,-3.0997562408447,-357.73843383789),323111,2807)
	alife():create("molerat",vector():set(-8.3163452148438,-6.2824339866638,-313.49432373047),366071,2813)
	alife():create("molerat",vector():set(23.597053527832,-6.4948854446411,-281.27154541016),412930,2813)
	alife():create("molerat",vector():set(23.234510421753,-6.114718914032,-307.19479370117),411894,2813)
	alife():create("molerat",vector():set(0.38239049911499,-8.4543781280518,-276.8664855957),379378,2813)
end
function kalinin_dog_sound()
	if db.actor:has_info("kalinin_dog_taynik") then return end
	local snd_obj = xr_sound.get_safe_sound_object ([[monsters\dog\idle_2]])                                                                     
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	amk.start_timer("run", 2.5, "akill.kalinin_dog_sound()")
end
function kalinin_dog_taynik()
	if new_dialog.item_much("wpn_m79_m1",1) then
		return db.actor:give_info_portion("kalinin_dog_taynik") and 
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Âîò óìíèöà! Õîðîøàÿ ñîáàêà! ×åé-òî ñõðîí íàøëà! Äàâàé, âïåð¸ä, ïîéä¸ì ê ñòîÿíêå ñòàëêåðîâ.".."".."\n", nil, nil, 12000)
     	end
		return false
end
function kalinin_dog_done()
	kostya_dialog.give_ammo(2)
	alife():create("cat_strong",vector():set(-165.83401489258,2.7091691493988,216.55603027344),136896,2799)
	alife():create("cat_normal",vector():set(-165.83401489258,2.7091691493988,216.55603027344),136896,2799)
	alife():create("cat_weak",vector():set(-170.30685424805,3.0389003753662,201.55792236328),130792,2799)
	alife():create("cat_strong",vector():set(-170.30685424805,3.0389003753662,201.55792236328),130792,2799)
	alife():create("cat_normal",vector():set(-182.95492553711,4.5580635070801,191.45236206055),112502,2799)
	alife():create("cat_weak",vector():set(-190.74282836914,5.0008244514465,199.42642211914),101257,2799)
	alife():create("cat_strong",vector():set(-213.68534851074,5.4765009880066,216.98822021484),67233,2799)
	alife():create("cat_normal",vector():set(-211.54504394531,6.3633613586426,266.46102905273),70391,2799)
	alife():create("cat_weak",vector():set(-175.33599853516,1.8701850175858,267.81546020508),123785,2799)
	alife():create("cat_strong",vector():set(-146.25302124023,0.45221200585365,247.44995117188),165668,2799)
	alife():create("cat_normal",vector():set(-151.6731262207,1.2322807312012,229.47067260742),157423,2799)
	alife():create("cat_weak",vector():set(-155.44415283203,1.7248567342758,219.30621337891),152292,2799)
end

-- "ÑÒÐÀØÍÀß" ÌÅÑÒÜ
function messer_kaban_start()
	alife():create("boar_quest",vector():set(49.092346191406,0.15921583771706,-463.83294677734),235968,950)
	alife():create("molerat",vector():set(14.896224975586,3.2641100883484,-482.36639404297),191112,953)
	alife():create("molerat",vector():set(17.676246643066,0.79314708709717,-515.92700195313),194571,954)
	alife():create("molerat",vector():set(48.762107849121,0.25637659430504,-498.06240844727),235919,951)
	alife():create("molerat",vector():set(85.027931213379,0.97860825061798,-453.06683349609),277849,947)
	alife():create("flesh_swamp",vector():set(76.547264099121,-2.2006769180298,-405.7131652832),267575,940)
	alife():create("flesh_swamp",vector():set(49.275260925293,-4.7719016075134,-386.60748291016),236076,944)
	alife():create("molerat",vector():set(-4.0613956451416,-0.52750927209854,-429.42666625977),168734,952)
end
function messer_kaban_done()
	sak.create_items_actor("wpn_hpsa",1)
	sak.create_items_actor("ammo_9x19_fmj",2)
	sak.create_items_actor("ammo_12x70_buck",2)
	sak.create_items_actor("grenade_rgd5",2)
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"boar_quest") then
	alife():release(obj,true)
	break
	end
	end
end

local mb_kick = 0
function messer_boar_kick(actor, npc)
	local h = hit()
	h.draftsman = npc
	h.type = hit.wound
	h.direction = db.actor:direction():add(vector():set(0,math.random(0.4,0.6),0))
	h.power = 0
	h.impulse = 60000

	mb_kick = mb_kick+1
	if mb_kick == 1 then
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Àãà! Ïîíðàâèëîñü? Õî÷åøü åù¸? Ïîëó÷àé!".."".."\n", nil, nil, 6000)
		local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
		snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	elseif mb_kick == 6 then
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ìåññåð, è ñêîëüêî æå ÿ åãî ïèíàòü äîëæåí?".."".."\n", nil, nil, 7000)
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅÑÑÅÐ:".."\\n".."%c[255,255,128,128]Åù¸ íåñêîëüêî ðàç ïíè, ÷òîáû õîðîøî çàïîìíèë.".."".."\n", 4, nil, 7000)
		local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
		snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	elseif mb_kick == 12 then
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅÑÑÅÐ:".."\\n".."%c[255,255,128,128]À íàïîñëåäîê äàé-êà åìó íàñòîÿùåãî ïèíêà, ÷òîáû óëåòåë òóäà, îòêóäà íå âîçâðàùàþòñÿ!".."".."\n", nil, nil, 9000)
		local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
		snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	elseif mb_kick == 13 then
		h.impulse = 200000
		db.actor:give_info_portion("messer_kaban_have")
	end

	npc:hit(h)
	xr_sound.get_safe_sound_object([[monsters\boar\boar_threaten_]]..math.random(0,1)):play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end

-- ÏÎÄÇÀÐßÄÊÀ
function docent_chimera_start()
	sak.create_items_actor("acumm",26)
	sak.create_items_actor("af_dummy_battery",2)
	alife():create("chimera_quest",vector():set(390.01467895508,19.332548141479,-280.462890625),88301,1287)
end
function docent_chimera_have_all()
	return
		new_dialog.item_much("docent_acumm",26)
end
function docent_chimera_have()
	if new_dialog.item_much("docent_acumm",26) then
		db.actor:give_info_portion("docent_chimera_have")
		return true
	else
		return false
	end
end
function give_docent_acumm(actor, npc)
	amk.remove_item_from_inventory_by_name("acumm",db.actor)
	amk_particle.amk_particle({particle="anomaly2\\electra2_blast", pos=npc:bone_position("bip01_spine"), sound="anomaly\\electra_blast1"})
	sak.create_items_actor("docent_acumm",1)
	db.actor.health = -0.05
end
function docent_chimera_done()
	sak.out_item_namber("docent_acumm",26)
	sak.create_items_actor("wpn_akms_otdaca_ves",1)
	sak.create_items_actor("ammo_7.62x39_fmj",1)
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"chimera_quest") then
	alife():release(obj,true)
	break
	end
	end
end

-- ÍÎ×ÍÎÉ ÄÎÇÎÐ
function night_watch_time(actor, npc)
	return
		level.get_time_hours() >= 0 and level.get_time_hours() < 2
end
-- Êîìïëåêñ
function night_watch_start()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]×òî-òî ÏÍÂ íå ôóðû÷èò. Êàê íå êñòàòè!".."".."\n", nil, nil, 6000)
	alife():create("borov_bandit1",vector():set(117.46104431152,0.20231881737709,-260.55868530273),314396,955)
	alife():create("borov_bandit2",vector():set(115.92808532715,0.23323062062263,-237.31475830078),312992,957)
	alife():create("borov_bandit3",vector():set(142.23089599609,0.23238638043404,-235.94326782227),340315,958)
	alife():create("borov_bandit1",vector():set(134.16465759277,0.23460271954536,-272.01168823242),331585,960)
	alife():create("borov_bandit2",vector():set(147.62750244141,0.16975662112236,-248.31321716309),346795,959)
	alife():create("borov_bandit1",vector():set(161.97520446777,5.7831664085388,-261.47811889648),361986,964)
	alife():create("borov_bandit3",vector():set(153.04730224609,5.7707591056824,-272.47491455078),352859,964)
	alife():create("borov_bandit2",vector():set(142.25318908691,5.8320593833923,-242.48510742188),340306,966)
	alife():create("borov_bandit1",vector():set(150.85958862305,5.8322973251343,-246.93963623047),349904,967)
	db.actor:give_info_portion("no_pnv")
	spawn_restrictor.night_watch_komplex_sr1()
end
function night_watch_komplex_bandit()
	alife():create("val_bandit_respawn_1",vector():set(141.27368164063,0.16465583443642,-273.77880859375),339413,961)
	alife():create("val_bandit_respawn_2",vector():set(149.40760803223,0.23196026682854,-230.81143188477),348387,958)
	alife():create("val_bandit_respawn_3",vector():set(128.73728942871,0.15315100550652,-243.55964660645),325917,956)
	alife():create("val_bandit_respawn_4",vector():set(127.34355926514,0.14798286557198,-279.87020874023),324470,968)
	alife():create("val_bandit_respawn_1",vector():set(155.47720336914,0.21169331669807,-286.88934326172),355125,971)
	alife():create("val_bandit_respawn_2",vector():set(157.23175048828,0.23309686779976,-248.45587158203),357436,976)
	alife():create("val_bandit_respawn_3",vector():set(173.61193847656,0.15090242028236,-243.72384643555),374211,976)
	alife():create("val_bandit_respawn_4",vector():set(169.6332244873,0.069270193576813,-266.69378662109),370059,973)
	alife():create("val_bandit_respawn_1",vector():set(128.24340820313,0.15424212813377,-267.35208129883),325182,955)
	amk.start_timer("battle", 0, {"l04_darkvalley", 32, 1})
end
function night_watch_komplex_polter()
	alife():create("m_poltergeist_dd",vector():set(137.67623901367,0.23299977183342,-263.89450073242),335530,959)
	alife():create("electro_polter",vector():set(137.62370300293,0.1912377178669,-255.01327514648),335543,959)
	alife():create("poltergeist_build",vector():set(137.74755859375,0.23201540112495,-228.62094116211),335576,958)
	alife():create("polter_xray",vector():set(124.64405822754,-1.3680777549744,-230.42233276367),321685,957)
	alife():create("m_poltergeist_dd",vector():set(104.80223083496,0.15054354071617,-255.90840148926),300592,930)
	alife():create("poltergeist_build",vector():set(109.80102539063,0.11104932427406,-281.47653198242),306018,968)
	alife():create("electro_polter",vector():set(146.61987304688,0.16285738348961,-286.50738525391),345132,969)
	alife():create("polter_xray",vector():set(183.44627380371,0.12216547131538,-268.84594726563),383508,974)
	alife():create("electro_polter",vector():set(109.00491333008,0.14418640732765,-244.15658569336),305270,957)
end
function night_watch_borov_polter1()
	alife():create("borov_polter1",vector():set(178.9751739502,0.074992567300797,-281.55596923828),379721,972)
end
-- Çàïðàâêà
function night_watch_zapravka_bandit()
	alife():create("borov_bandit1",vector():set(100.7795715332,0.70191919803619,-2.6938819885254),296438,984)
	alife():create("borov_bandit2",vector():set(105.59380340576,4.2219004631042,-15.030334472656),301724,986)
	alife():create("borov_bandit3",vector():set(90.215469360352,0.699911236763,-2.9138722419739),284771,988)
	alife():create("borov_bandit1",vector():set(111.19355010986,0.72348260879517,-8.0449361801147),307935,983)
	alife():create("borov_bandit2",vector():set(92.510528564453,0.046523183584213,-39.049533843994),287043,990)
	alife():create("borov_bandit1",vector():set(92.068008422852,0.17377558350563,-76.872009277344),286992,978)
	alife():create("borov_bandit3",vector():set(128.84979248047,0.063521474599838,-38.410984039307),326176,980)
	alife():create("borov_bandit2",vector():set(113.71856689453,0.12454196810722,-85.757339477539),310189,978)
	spawn_restrictor.night_watch_zapravka_sr1()
end
function night_watch_zapravka_polter()
	alife():create("m_poltergeist_dd",vector():set(130.57974243164,0.075649410486221,-85.999977111816),328298,979)
	alife():create("electro_polter",vector():set(131.3367767334,0.042797446250916,-56.505001068115),329074,980)
	alife():create("poltergeist_build",vector():set(131.4189453125,0.19779607653618,-25.879341125488),329118,980)
	alife():create("polter_xray",vector():set(103.35708618164,-0.64502859115601,21.651496887207),300974,909)
	alife():create("m_poltergeist_dd",vector():set(79.316230773926,-0.067148834466934,20.656826019287),271604,908)
	alife():create("poltergeist_build",vector():set(65.235778808594,0.13783809542656,-38.166633605957),254910,990)
	alife():create("electro_polter",vector():set(61.92321395874,0.06236070394516,-55.082271575928),250860,991)
	alife():create("polter_xray",vector():set(91.348571777344,0.66979241371155,-97.432609558105),285434,922)
	alife():create("m_poltergeist_dd",vector():set(83.598182678223,0.10288909077644,-74.580863952637),276683,991)
	amk.start_timer("battle", 0, {"l04_darkvalley", 33, 1})
end
function night_watch_borov_polter2()
	alife():create("borov_polter2",vector():set(126.87745666504,6.9690442085266,-106.63632965088),323978,921)
end
-- Áàçà áàíäèòîâ
function night_watch_baza_bandit()
	alife():create("borov_bandit1",vector():set(47.617378234863,11.219765663147,6.6469311714172),234796,817)
	alife():create("borov_bandit2",vector():set(52.068614959717,11.219938278198,2.0408046245575),239763,817)
	alife():create("borov_bandit3",vector():set(20.354230880737,5.121337890625,26.092302322388),198966,1007)
	alife():create("borov_bandit1",vector():set(13.41255569458,5.1238489151001,26.32769203186),189996,1009)
	alife():create("borov_bandit2",vector():set(13.264981269836,0.086044579744339,24.673093795776),189991,1002)
	alife():create("borov_bandit1",vector():set(-16.82120513916,0.083257049322128,24.514503479004),154810,1014)
	alife():create("borov_bandit3",vector():set(26.508213043213,0.33429488539696,4.6789121627808),206997,1024)
	alife():create("borov_bandit2",vector():set(21.372821807861,1.9577089548111,-13.075839996338),200829,1050)
	alife():create("borov_bandit1",vector():set(-0.9302533864975,1.2382950782776,-12.895441055298),173187,1023)
	alife():create("borov_bandit3",vector():set(8.5963945388794,1.2376457452774,-13.60732460022),184000,1023)
	alife():create("borov_bandit2",vector():set(20.752597808838,6.1964221000671,-17.656196594238),199881,1052)
	spawn_restrictor.night_watch_baza_sr1()
end
function night_watch_baza_support()
	alife():create("val_bandit_respawn_1",vector():set(18.533596038818,1.9590038061142,-39.552307128906),196115,1050)
	alife():create("val_bandit_respawn_2",vector():set(-13.924301147461,0.033926755189896,-28.689762115479),157890,1021)
	alife():create("val_bandit_respawn_3",vector():set(-2.064537525177,0.079419851303101,39.531093597412),171674,1010)
	alife():create("val_bandit_respawn_4",vector():set(24.456748962402,5.1224918365479,33.89168548584),204363,1007)
	alife():create("val_bandit_respawn_1",vector():set(29.296426773071,-2.9205024242401,1.2796791791916),210395,1025)
	alife():create("val_bandit_respawn_2",vector():set(-2.6594777107239,1.237501502037,-38.539138793945),170781,1048)
	alife():create("val_bandit_respawn_3",vector():set(10.962965965271,1.2143352031708,-63.932113647461),187279,1037)
	alife():create("val_bandit_respawn_4",vector():set(26.135099411011,1.0478715896606,-84.143379211426),205995,1040)
	alife():create("val_bandit_respawn_1",vector():set(-6.612021446228,0.1180065870285,-70.203140258789),166788,1041)
	db.actor:give_info_portion("night_watch_have")
		amk.start_timer("battle", 0, {"l04_darkvalley", 34, 1})
end
function night_watch_baza_polter()
	alife():create("m_poltergeist_dd",vector():set(17.854675292969,0.2264446914196,47.723720550537),196251,996)
	alife():create("electro_polter",vector():set(14.522183418274,0.085539281368256,42.004970550537),191817,1003)
	alife():create("poltergeist_build",vector():set(-11.517751693726,0.094852089881897,37.544673919678),161128,1011)
	alife():create("polter_xray",vector():set(-22.934766769409,0.3744013607502,25.280727386475),147642,1014)
	alife():create("m_poltergeist_dd",vector():set(69.582641601563,0.046785771846771,3.9571607112885),259705,908)
	alife():create("poltergeist_build",vector():set(32.015079498291,0.091626137495041,-16.191631317139),213896,1031)
	alife():create("electro_polter",vector():set(31.148389816284,-2.9190094470978,-8.5995607376099),212126,1025)
	alife():create("polter_xray",vector():set(-0.73380672931671,-2.7703628540039,-13.917588233948),173184,1047)
	alife():create("electro_polter",vector():set(-20.416854858398,0.042774617671967,2.9982709884644),150844,1017)
	alife():create("m_poltergeist_dd",vector():set(3.8118493556976,-0.52135133743286,10.726306915283),178290,1012)
	alife():create("electro_polter",vector():set(-5.6013693809509,0.11448612809181,-62.935962677002),167679,1043)
	alife():create("poltergeist_build",vector():set(8.4852066040039,0.03269749879837,-99.704849243164),183918,1036)
	alife():create("polter_xray",vector():set(16.894172668457,0.3820603787899,-63.397205352783),194292,1103)
end
function night_watch_borov_polter3()
	alife():create("polter_blood",vector():set(-22.637987136841,0.17252340912819,26.555515289307),148475,1014)
end
function night_watch_done()
	sak.create_items_actor("wpn_aek973_otdaca_ves",1)
	sak.create_items_actor("ammo_7.62x39_k",3)
end

-- ÇÀÙÈÒÀ ÃÎÑÏÈÒÀËß
function defend_hospital_start()
	spawn_restrictor.defend_hospital_sr1()
	alife():create("ammo_7.62x51_fmj",vector():set(167.4952545166,-1.7802076816559,-139.86661560059),1259387,3688)
	alife():create("ammo_7.62x51_fmj",vector():set(167.4952545166,-1.7802076816559,-139.86661560059),1259387,3688)
	alife():create("ammo_7.62x51_fmj",vector():set(167.4952545166,-1.7802076816559,-139.86661560059),1259387,3688)
	alife():create("ammo_7.62x51_fmj",vector():set(167.4952545166,-2.5802076816559,-139.86661560059),1259387,3688)
	alife():create("ammo_7.62x51_fmj",vector():set(167.4952545166,-2.5802076816559,-139.86661560059),1259387,3688)
	alife():create("ammo_7.62x51_fmj",vector():set(167.4952545166,-2.5802076816559,-139.86661560059),1259387,3688)
	alife():create("ammo_7.62x54_ap",vector():set(167.4952545166,-2.5802076816559,-140.36661560059),1259387,3688)
	alife():create("ammo_7.62x54_ap",vector():set(167.4952545166,-2.5802076816559,-140.36661560059),1259387,3688)
	alife():create("ammo_7.62x54_ap",vector():set(167.4952545166,-2.5802076816559,-140.36661560059),1259387,3688)
	alife():create("ammo_7.62x54_ap",vector():set(167.4952545166,-2.5802076816559,-140.36661560059),1259387,3688)
	alife():create("ammo_7.62x54_ap",vector():set(167.4952545166,-2.5802076816559,-140.36661560059),1259387,3688)
	alife():create("ammo_7.62x54_ap",vector():set(167.5252545166,-1.7802076816559,-140.36661560059),1259387,3688)
	alife():create("ammo_7.62x54_ap",vector():set(167.5252545166,-1.7802076816559,-140.36661560059),1259387,3688)
	alife():create("ammo_7.62x54_ap",vector():set(167.5252545166,-1.7802076816559,-140.36661560059),1259387,3688)
	alife():create("ammo_7.62x54_ap",vector():set(167.5252545166,-1.7802076816559,-140.36661560059),1259387,3688)
	alife():create("ammo_12.7x108",vector():set(167.5252545166,-1.7802076816559,-140.86661560059),1259387,3688)
	alife():create("ammo_12.7x108",vector():set(167.5852545166,-1.7802076816559,-140.86661560059),1259387,3688)
	alife():create("ammo_12.7x108",vector():set(167.6452545166,-1.7802076816559,-140.86661560059),1259387,3688)
	alife():create("ammo_12.7x108",vector():set(167.4652545166,-1.7802076816559,-140.86661560059),1259387,3688)
	alife():create("ammo_12.7x108",vector():set(167.5252545166,-2.5802076816559,-140.86661560059),1259387,3688)
	alife():create("ammo_12.7x108",vector():set(167.5852545166,-2.5802076816559,-140.86661560059),1259387,3688)
	alife():create("ammo_12.7x108",vector():set(167.6452545166,-2.5802076816559,-140.86661560059),1259387,3688)
	alife():create("ammo_12.7x108",vector():set(167.4652545166,-2.5802076816559,-140.86661560059),1259387,3688)
	alife():create("medkit",vector():set(150.28332519531,-5.9032101631165,-138.01321411133),1223463,3688)
	alife():create("medkit_army",vector():set(150.28332519531,-5.920793056488,-138.78253173828),1223463,3688)
	alife():create("medkit_scientic",vector():set(150.28332519531,-5.8999104499817,-139.54864501953),1223463,3688)
	alife():create("medkit",vector():set(150.28332519531,-5.9032101631165,-138.01321411133),1223463,3688)
	alife():create("medkit_army",vector():set(150.28332519531,-5.920793056488,-138.78253173828),1223463,3688)
	alife():create("medkit_scientic",vector():set(150.28332519531,-5.8999104499817,-139.54864501953),1223463,3688)
	alife():create("medkit",vector():set(150.28332519531,-5.9032101631165,-137.67321411133),1223463,3688)
	alife():create("medkit_army",vector():set(150.28332519531,-5.920793056488,-138.35253173828),1223463,3688)
	alife():create("medkit_scientic",vector():set(150.28332519531,-5.8999104499817,-139.16864501953),1223463,3688)
	alife():create("medkit",vector():set(150.28332519531,-5.9032101631165,-137.67321411133),1223463,3688)
	alife():create("medkit_army",vector():set(150.28332519531,-5.920793056488,-138.35253173828),1223463,3688)
	alife():create("medkit_scientic",vector():set(150.28332519531,-5.8999104499817,-139.16864501953),1223463,3688)
	alife():create("bandage",vector():set(149.79992675781,-5.8984718322754,-137.77350463867),1222249,3688)
	alife():create("bandage",vector():set(149.79992675781,-5.8984718322754,-137.92350463867),1222249,3688)
	alife():create("bandage",vector():set(149.79992675781,-5.8984718322754,-138.07350463867),1222249,3688)
	alife():create("bandage",vector():set(149.79992675781,-5.8984718322754,-138.22350463867),1222249,3688)
	alife():create("bandage",vector():set(149.79992675781,-5.8984718322754,-138.37350463867),1222249,3688)
	alife():create("bandage",vector():set(149.79992675781,-5.8984718322754,-138.52350463867),1222249,3688)
	alife():create("antirad",vector():set(149.79992675781,-5.8984718322754,-138.77350463867),1222249,3688)
	alife():create("antirad",vector():set(149.79992675781,-5.8984718322754,-138.92350463867),1222249,3688)
	alife():create("antirad",vector():set(149.79992675781,-5.8984718322754,-139.07350463867),1222249,3688)
	alife():create("antirad",vector():set(149.79992675781,-5.8984718322754,-139.22350463867),1222249,3688)
	alife():create("antirad",vector():set(149.79992675781,-5.8984718322754,-139.37350463867),1222249,3688)
	alife():create("antirad",vector():set(149.79992675781,-5.8984718322754,-139.52350463867),1222249,3688)
	alife():create("maz",vector():set(149.65376281738,-5.0771061706543,-139.25505065918),1224670,3688)
	alife():create("maz",vector():set(149.65376281738,-5.0771061706543,-139.05505065918),1224670,3688)
	alife():create("maz",vector():set(149.65376281738,-5.0771061706543,-138.85505065918),1224670,3688)
	alife():create("maz",vector():set(149.65376281738,-5.0771061706543,-138.65505065918),1224670,3688)
	alife():create("maz",vector():set(149.65376281738,-5.0771061706543,-139.45505065918),1224670,3688)
	alife():create("vodka",vector():set(149.90948486328,-5.5084838867188,-143.00802307129),1224668,3688)
	alife():create("vodka",vector():set(150.09492492676,-5.5101661682129,-143.05930786133),1224668,3688)
	alife():create("vodka",vector():set(150.03877258301,-5.5086078643799,-143.21189880371),1224668,3688)
	alife():create("vodka",vector():set(149.83576843262,-5.5112113952637,-143.16189880371),1224668,3688)
	alife():create("energy_drink",vector():set(149.90948486328,-5.8084838867188,-143.00802307129),1224668,3688)
	alife():create("energy_drink",vector():set(150.09492492676,-5.8101661682129,-143.05930786133),1224668,3688)
	alife():create("energy_drink",vector():set(150.03877258301,-5.8086078643799,-143.21189880371),1224668,3688)
	alife():create("energy_drink",vector():set(149.83576843262,-5.8112113952637,-143.16189880371),1224668,3688)
	alife():create("beer_a",vector():set(149.90948486328,-6.1084838867188,-143.00802307129),1224668,3688)
	alife():create("beer_a",vector():set(150.09492492676,-6.1101661682129,-143.05930786133),1224668,3688)
	alife():create("beer_a",vector():set(150.03877258301,-6.1086078643799,-143.21189880371),1224668,3688)
	alife():create("beer_a",vector():set(149.83576843262,-6.1112113952637,-143.16189880371),1224668,3688)
	alife():create("flaska",vector():set(149.90948486328,-6.4084838867188,-143.00802307129),1224668,3688)
	alife():create("flaska",vector():set(150.09492492676,-6.4101661682129,-143.05930786133),1224668,3688)
	alife():create("flaska",vector():set(150.03877258301,-6.4111661682129,-143.21189880371),1224668,3688)
	alife():create("flaska",vector():set(149.83576843262,-6.4112113952637,-143.16189880371),1224668,3688)
	alife():create("oceanic815",vector():set(149.90948486328,-6.7084838867188,-143.00802307129),1224668,3688)
	alife():create("oceanic815",vector():set(150.09492492676,-6.7101661682129,-143.05930786133),1224668,3688)
	alife():create("oceanic815",vector():set(150.03877258301,-6.7111661682129,-143.21189880371),1224668,3688)
	alife():create("oceanic815",vector():set(149.83576843262,-6.7112113952637,-143.16189880371),1224668,3688)
	alife():create("conserva",vector():set(155.28366088867,-6.2039370536804,-143.36413574219),1231922,3688)
	alife():create("conserva",vector():set(155.08471679688,-6.2058806419373,-142.6363067627),1230696,3688)
	alife():create("vodka",vector():set(155.1978302002,-6.2094140052795,-142.77719116211),1231922,3688)
	alife():create("vodka",vector():set(154.9489440918,-6.2072100639343,-142.74856567383),1230696,3688)
	alife():create("vodka",vector():set(155.06288146973,-6.2170648574829,-142.98837280273),1231922,3688)
	alife():create("bread",vector():set(154.83058166504,-6.1056723594666,-143.14067077637),1230696,3688)
	alife():create("kolbasa",vector():set(155.35276794434,-6.2050666809082,-143.01690673828),1231922,3688)
	alife():create("kolbasa",vector():set(155.09558105469,-6.2126603126526,-143.2483215332),1231922,3688)
	alife():create("guitar_a",vector():set(153.12042236328,-6.3094673156738,-142.58937072754),1228275,3688)
	alife():create("medkit",vector():set(162.17956542969,-5.1077399253845,-141.14106750488),1241602,3688)
	alife():create("medkit_army",vector():set(162.17956542969,-5.1077399253845,-141.64106750488),1241602,3688)
	alife():create("medkit_scientic",vector():set(162.17956542969,-5.1077399253845,-142.14106750488),1241602,3688)
	alife():create("medkit",vector():set(162.17956542969,-5.1077399253845,-141.14106750488),1241602,3688)
	alife():create("medkit_army",vector():set(162.17956542969,-5.1077399253845,-141.64106750488),1241602,3688)
	alife():create("medkit_scientic",vector():set(162.17956542969,-5.1077399253845,-142.14106750488),1241602,3688)
	alife():create("medkit",vector():set(162.17956542969,-5.1077399253845,-141.14106750488),1241602,3688)
	alife():create("medkit_army",vector():set(162.17956542969,-5.1077399253845,-141.64106750488),1241602,3688)
	alife():create("medkit_scientic",vector():set(162.17956542969,-5.1077399253845,-142.14106750488),1241602,3688)
	alife():create("suvorotka",vector():set(162.17956542969,-5.9077399253845,-141.14106750488),1241602,3688)
	alife():create("suvorotka",vector():set(162.17956542969,-5.9077399253845,-141.64106750488),1241602,3688)
	alife():create("suvorotka",vector():set(162.17956542969,-5.9077399253845,-142.14106750488),1241602,3688)
	alife():create("antizombie",vector():set(162.47956542969,-5.9077399253845,-141.14106750488),1241602,3688)
	alife():create("antizombie",vector():set(162.47956542969,-5.9077399253845,-141.64106750488),1241602,3688)
	alife():create("antizombie",vector():set(162.47956542969,-5.9077399253845,-142.14106750488),1241602,3688)
	alife():create("sweetness",vector():set(152.06114196777,-6.2960896492004,-142.63394165039),1225866,3688)
	alife():create("sweetness",vector():set(152.06114196777,-6.2960896492004,-142.63394165039),1225866,3688)
	alife():create("sweetness",vector():set(152.06114196777,-6.2960896492004,-142.63394165039),1225866,3688)
	alife():create("sweetness",vector():set(152.06114196777,-6.2960896492004,-142.63394165039),1225866,3688)
	alife():create("sweetness",vector():set(152.06114196777,-6.2960896492004,-142.63394165039),1225866,3688)
	alife():create("conserva",vector():set(162.49238586426,-5.0963201522827,-141.15121459961),1241602,3688)
	alife():create("conserva",vector():set(162.49238586426,-5.0963201522827,-141.15121459961),1241602,3688)
	alife():create("conserva",vector():set(162.49238586426,-5.0963201522827,-141.65121459961),1241602,3688)
	alife():create("conserva",vector():set(162.49238586426,-5.0963201522827,-141.65121459961),1241602,3688)
	alife():create("conserva",vector():set(162.49238586426,-5.0963201522827,-142.15121459961),1241602,3688)
	alife():create("conserva",vector():set(162.49238586426,-5.0963201522827,-142.15121459961),1241602,3688)
	local obj = alife():create("freedom_volna_wound",vector():set(153.224609375,-6.8241305351257,-139.1845703125),1228278,3688)
	local tbl = amk.read_stalker_params(obj)
	tbl.health = 1
	tbl.updhealth = 0.1
	amk.write_stalker_params(tbl, obj)
	local sobj = alife():create("freedom_volna_wound",vector():set(152.57249450684,-6.8251714706421,-141.34112548828),1227071,3688)
	local stbl = amk.read_stalker_params(sobj)
	stbl.health = 1
	stbl.updhealth = 0.1
	amk.write_stalker_params(tbl, sobj)
	local qobj = alife():create("freedom_volna_wound",vector():set(159.94999694824,-6.9760131835938,-141.41166687012),1240395,3688)
	local qtbl = amk.read_stalker_params(qobj)
	qtbl.health = 1
	qtbl.updhealth = 0.1
	amk.write_stalker_params(tbl, qobj)
end
function defend_hospital_have(task, info)
     if db.actor:has_info("ohota_zombi4_dead") and db.actor:has_info("ohota_zombi5_dead") then 
		return db.actor:give_info_portion("defend_hospital_have")
     end
		return false
end
function defend_hospital_battle()
	amk.start_timer("battle", 0, {"zaton", 53, 1})
end
function defend_hospital_spawn1()
	alife():create("zombie_hospital1",vector():set(98.612083435059,-6.8423600196838,-131.22164916992),1134865,3681)
	alife():create("zombie_hospital2",vector():set(142.47445678711,-6.8233580589294,-83.701263427734),1210111,3688)
	alife():create("zombie_hospital3",vector():set(170.50215148926,-7.0011553764343,-72.194198608398),1258288,3688)
	alife():create("zombie_hospital1",vector():set(210.82415771484,-7.0962815284729,-131.16053771973),1322554,3688)
	alife():create("zombie_hospital3",vector():set(229.52731323242,-6.7170100212097,-157.61088562012),1356555,3688)
	alife():create("esc_arhara_stalker_zombied",vector():set(128.66044616699,-6.0150456428528,-98.338668823242),1187358,3679)
	alife():create("rad_zombied_respawn_1",vector():set(175.51170349121,-7.0002698898315,-101.32221984863),1266559,3688)
end
function defend_hospital_spawn2()
	alife():create("ohota_zombi4",vector():set(94.58455657959,-6.3320846557617,-76.983963012695),1128854,3679)
	alife():create("zombie_hospital2",vector():set(76.060317993164,-7.0010762214661,-100.02938842773),1096084,3679)
	alife():create("zombie_hospital3",vector():set(103.01977539063,-7.0013689994812,-187.9118347168),1143332,3681)
	alife():create("zombie_hospital1",vector():set(205.74125671387,-7.395233631134,-86.021003723145),1314441,3688)
	alife():create("zombie_hospital2",vector():set(142.47445678711,-6.8233580589294,-83.701263427734),1210111,3688)
	alife():create("upi_eco_zombied1",vector():set(203.9175567627,-7.0821781158447,-121.72924804688),1311150,3688)
	alife():create("girl_zombied",vector():set(104.29469299316,-7.0928139686584,-160.23092651367),1145690,3681)
end
function defend_hospital_spawn3()
	alife():create("zombie_hospital1",vector():set(157.35496520996,-6.9491701126099,-55.940586090088),1235693,3688)
	alife():create("zombie_hospital2",vector():set(117.71266174316,-6.5600051879883,-60.066471099854),1168181,3679)
	alife():create("zombie_hospital3",vector():set(75.167129516602,-7.0017347335815,-98.99437713623),1093420,3679)
	alife():create("zombie_hospital1",vector():set(179.11685180664,5.6355724334717,-214.97366333008),1272295,3688)
	alife():create("voen_zombied2",vector():set(159.07844543457,4.8222460746765,-189.5598449707),1237962,3688)
	alife():create("girl_zombied3",vector():set(200.34924316406,1.7342830896378,-168.72729492188),1305766,3688)
end
function defend_hospital_spawn4()
	alife():create("ohota_zombi5",vector():set(113.41151428223,-6.2406439781189,-90.233673095703),1160953,3679)
end
function defend_hospital_done()
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"freedom_volna_wound") then
	alife():release(obj,true)
	end
	end
end

-- ÌÀÑÊÈÐÎÂÊÀ
function max_camouflage_start()
	alife():create("a_inventory_box70",vector():set(-59.461566925049,4.3548192977905,214.82347106934),622759,3719)
	alife():create("tactic_fonar",vector():set(-44.752843322754,4.4319157600403,176.49935913086),644283,3724)
	alife():create("gunsight",vector():set(-44.61914932251,4.4467802619934,176.24812695313),643148,3724)
	alife():create("bw_sniper",vector():set(-49.114120483398,28.061214447021,-443.38159179688),847047,3680) -- çàòîí
	alife():create("bw_killers1",vector():set(-12.29253578186,32.962867736816,-444.58862304688),918547,3680)
	alife():create("bw_sniper",vector():set(-272.5751953125,38.069561004639,-474.49462890625),398646,3669)
	alife():create("bw_sniper",vector():set(-504.61944580078,27.304853439331,-146.68170166016),48104,3662)
	alife():create("bw_sniper",vector():set(-530.24041748047,7.282612323761,93.386543273926),18904,3660)
	alife():create("bw_killers2",vector():set(-516.11926269531,3.3652062416077,130.01138305664),34579,3660)
	alife():create("bw_sniper",vector():set(-359.47665405273,24.051910400391,382.12847900391),108103,3701) -- þïèòåð
	alife():create("bw_killers1",vector():set(-362.22317504883,25.326820373535,392.12814331055),104455,3701)
	alife():create("bw_sniper",vector():set(-398.59951782227,9.9078760147095,56.724025726318),47806,3708)
	alife():create("bw_sniper",vector():set(67.857040405273,24.19889831543,-412.96142578125),830691,3726)
	alife():create("bw_killers2",vector():set(51.242107391357,30.226823806763,-367.52798461914),801484,3726)
	alife():create("bw_sniper",vector():set(17.219844818115,18.524301528931,-60.399620056152),742817,3722)
	alife():create("bw_sniper",vector():set(371.16967773438,3.8763728141785,207.52856445313),1304979,3746)
	alife():create("bw_killers2",vector():set(-46.480674743652,3.4861378669739,202.8936920166),642032,3717)
	alife():create("bw_killers1",vector():set(-56.865261077881,3.4880635738373,193.94976806641),624959,3717)
	alife():create("bw_killers2",vector():set(-57.902404785156,-0.61923938989639,201.87130737305),622744,3717)
	alife():create("bw_killers1",vector():set(-49.998569488525,-0.62059777975082,197.99827575684),636193,3717)
	alife():create("bw_killers2",vector():set(-58.270679473877,3.485639333725,182.85346984863),622721,3724)
	alife():create("bw_killers1",vector():set(-42.683742523193,3.4873101711273,178.19259643555),647663,3724)
	alife():create("bw_killers1",vector():set(-58.221282958984,3.4872932434082,218.77520751953),622760,3719)
	alife():create("bw_sniper",vector():set(-223.60800170898,-0.40419745445251,425.95498657227),107057,1852) -- àñ
	alife():create("bw_killers1",vector():set(-177.1127166748,-3.2972362041473,427.47537231445),146106,1856)
	alife():create("bw_sniper",vector():set(130.44723510742,-1.189484834671,452.8727722168),411367,1812)
	alife():create("bw_killers2",vector():set(113.64656829834,0.38388738036156,459.28686523438),405848,1811)
	alife():create("bw_killers1",vector():set(94.896095275879,-4.7849907875061,449.18420410156),391355,1809)
	alife():create("bw_killers2",vector():set(121.55865478516,-6.6905226707458,409.65237426758),409103,1811)
	alife():create("bw_killers1",vector():set(145.21810913086,-2.635059595108,418.17544555664),413989,1812)
	alife():create("bw_killers2",vector():set(114.77529907227,-2.1999204158783,373.30828857422),406618,1810)
	alife():create("bw_killers1",vector():set(127.55460357666,-4.8771591186523,387.98013305664),410571,1810)
	alife():create("bw_sniper",vector():set(92.062446594238,9.129997253418,63.206478118896),263277,2885) -- çá
	alife():create("bw_sniper",vector():set(180.2572479248,9.8765716552734,-63.939441680908),333762,2884)
	alife():create("bw_sniper",vector():set(511.48724365234,-45.239135742188,-203.40168762207),171593,2057) -- ðàäàð
	alife():create("bw_sniper",vector():set(560.71575927734,-52.958515167236,-124.858543396),195724,2045)
	alife():create("bw_killers2",vector():set(524.86956787109,-48.484882354736,-180.83714294434),177781,2056)
	alife():create("bw_killers1",vector():set(546.42224121094,-54.819450378418,-93.921905517578),189190,2044)
	alife():create("bw_sniper",vector():set(-35.369243621826,0.40939536690712,-224.18801879883),61439,1433) -- äò
end
function max_camouflage_have_all()
	return
		new_dialog.item_much("camouflage",8)
end
function max_camouflage_have()
	if new_dialog.item_much("camouflage",8) then
		db.actor:give_info_portion("max_camouflage_have")
		return true
	else
		return false
	end
end
function max_camouflage_done()
	sak.out_item_namber("camouflage",8)
	sak.create_items_actor("ammo_7.62x54_ap",2)
	sak.create_items_actor("ammo_7.62x54_7h1",2)
	sak.create_items_actor("ammo_12.7x108",1)
end

-- ÏÎÒÅÐßÂØÈÉÑß
function krest_boar_start()
	sak.create_items_actor("ammo_11.43x23_hydro",2)
	alife():create("boar_child",vector():set(3.2006773948669,-0.0012073814868927,92.012237548828),190989,2881)
	local obj = alife():create("boar_mother",vector():set(-173.10052490234,0.42350587248802,-157.03224182129),50485,2882)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Ìàìàøà ïîðîñ¸íêà")
	alife():create("boar_children",vector():set(-173.10052490234,0.42350587248802,-157.03224182129),50485,2882)
	alife():create("boar_children",vector():set(-173.10052490234,0.42350587248802,-157.03224182129),50485,2882)
	alife():create("boar_children",vector():set(-173.10052490234,0.42350587248802,-157.03224182129),50485,2882)
	alife():create("boar_children",vector():set(-173.10052490234,0.42350587248802,-157.03224182129),50485,2882)
	alife():create("boar_children",vector():set(-173.10052490234,0.42350587248802,-157.03224182129),50485,2882)
	alife():create("molerat",vector():set(-19.670711517334,-3.8117170333862e-005,77.030570983887),172230,2881)
	alife():create("molerat",vector():set(-24.711807250977,0.075476199388504,93.229232788086),168331,2881)
	alife():create("molerat",vector():set(7.5937118530273,-0.0018750727176666,105.83883666992),194463,2881)
	alife():create("molerat",vector():set(25.203189849854,-0.0013824701309204,104.29396057129),209106,2885)
	alife():create("molerat",vector():set(24.391151428223,-0.0012096166610718,88.292007446289),208545,2885)
end
function krest_boar_find()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ïîòåðÿëñÿ, áåäíÿãà?! Íó íè÷åãî, ñåé÷àñ îòûùåì òâîþ ìàìàøó... Ïîéä¸ì ñî ìíîé, ïîðîñÿ÷üÿ ìîðäà!".."".."\n", nil, nil, 12000)
	local snd_sobj = xr_sound.get_safe_sound_object([[monsters\boar\boar_idle_0]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	db.actor:give_info_portion("krest_boar_find")
	local obj = alife():create("borov_bandit2",vector():set(-163.66125488281,-1.5435123443604,-124.55099487305),57553,2882)
		obj:on_death()
	alife():create("volkodav",vector():set(-164.40446472168,-1.9184938669205,-119.4002532959),57021,2882)
	alife():create("volkodav",vector():set(-169.24867248535,-3.0532274246216,-100.63996124268),53390,2882)
	alife():create("volkodav",vector():set(-164.40446472168,-1.9184938669205,-119.4002532959),57021,2882)
	alife():create("volkodav",vector():set(-169.24867248535,-3.0532274246216,-100.63996124268),53390,2882)
end
function krest_boar_done()
	sak.create_items_actor("wpn_rossi92",1)
	sak.create_items_actor("ammo_357_hp_mag",2)
	local obj
	for a=1,65535,1 do
	obj=alife():object(a)
	if obj and (string.find(obj:name(),"boar_child") or string.find(obj:name(),"boar_mother") or string.find(obj:name(),"boar_children")) then
	alife():release(obj,true)
	end
	end
end

-- ÈËËÞÇÈß
function burer_phantom_spawn()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Íó, ãäå òû, äîëáàííûé èëëþçèîíèñò? Ïîñìîòðèì, ÷åãî ñòîÿò òâîè ôîêóñû...".."".."\n", nil, nil, 12000)
	local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	amk_particle.amk_particle({
		particle="monsters\\phantom_death",
		pos=vector():set(-84.71410369873,1.11959338188171,-238.81680297852),
		sound=[[monsters\burer\burer_tele_hold]]})
	amk_particle.amk_particle({
		particle="monsters\\phantom_death",
		pos=vector():set(-45.99560546875,1.37063607573509,-205.21900939941),
		sound=[[monsters\burer\burer_tele_hold]]})
	amk_particle.amk_particle({
		particle="monsters\\phantom_death",
		pos=vector():set(-115.70504760742,-1.6014552116394,-199.64198303223),
		sound=[[monsters\burer\burer_tele_hold]]})
	alife():create("burer_phantom1",vector():set(-84.71410369873,-0.11959338188171,-238.81680297852),122324,271)
	alife():create("burer_phantom2",vector():set(-45.99560546875,0.37063607573509,-205.21900939941),143972,267)
	alife():create("burer_phantom3",vector():set(-115.70504760742,-2.6014552116394,-199.64198303223),99766,269)
end
function burer_phantom_have(task, info)
     if db.actor:has_info("burer_phantom1_dead") and db.actor:has_info("burer_phantom2_dead") and db.actor:has_info("burer_phantom3_dead") then 
		return db.actor:give_info_portion("burer_phantom_have")
     end
		return false
end
function burer_electro_spawn()
	local snd_sobj = xr_sound.get_safe_sound_object([[monsters\poltergeist\tele_death_0]])
	snd_sobj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	amk_particle.amk_particle({
		particle="monsters\\phantom_death",
		pos=vector():set(-110.80065155029,-2.4892199039459,-225.05368041992),
		sound=[[monsters\burer\burer_tele_hold]]})
	alife():create("ohota_burer_electro",vector():set(-110.80065155029,-2.4892199039459,-225.05368041992),103878,271)
end

-- ÏÎÄÐÛÂ
local bg_kick = 0
function buusty_gigant_kick(actor, npc)
	bg_kick = bg_kick+1
	if bg_kick == 1 then
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Òàê, ïåðâóþ áîìáó ïðèëåïèë!".."".."\n", nil, nil, 6000)
		local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
		snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	elseif bg_kick == 7 then
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ïîëîâèíó ïðèöåïèë, îñòàëîñü åù¸ íåìíîãî.".."".."\n", nil, nil, 6000)
		local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
		snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	elseif bg_kick == 14 then
		db.actor:give_info_portion("buusty_gigant_find")
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Ãîòîâî! Áîìáû çàêðåïëåíû!".."".."\n", nil, nil, 6000)
		news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÁÀÑÒÈ:".."\\n".."%c[255,255,128,128]Ó òåáÿ äåñÿòü ñåêóíä, ÷òîáû îòáåæàòü îò ìîíñòðà, çàòåì ÿ àêòèâèðóþ çàðÿäû. Âðåìÿ ïîøëî!".."".."\n", 6, nil, 10000)
		local snd_obj = xr_sound.get_safe_sound_object([[device\pda\pda_tip]])
		snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
			amk.start_timer("battle", 0, {"zaton", 54, 1})
	end

	amk.remove_item_from_inventory_by_name("bomba_big",db.actor)
	xr_sound.get_safe_sound_object([[monsters\giant\giant_hurt_]]..math.random(0,2)):play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function gigant_swamp_bum()
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"gigant_swamp") then
  	amk_particle.amk_particle({
		particle="ogsm\\ogsm_zombieblow",
		pos=obj:bone_position("bip01_head"),
		sound=[[weapons\explo\dynamite_boom]]})
	amk_particle.amk_particle({
		particle="monsters\\polter_death_00",
		pos=obj:bone_position("bip01_l_thigh"),
		sound=[[weapons\explo\dynamite_boom]]})
	break
	end
	end
end
function gigant_swamp_kill()
	local obj
	for a=1,65534,1 do
        obj=level.object_by_id(a)
	if obj and string.find(obj:name(),"gigant_swamp") then
	obj:kill(obj)
	break
	end
	end
end
function buusty_gigant_start()
	sak.create_items_actor("bomba_big",14)
	sak.create_items_actor("ammo_12x70_kart",3)
	local obj = alife():create("gigant_swamp",vector():set(254.00317382813,18.894653320313,537.66864013672),1401271,3687)
	level.map_add_object_spot_ser(obj.id, "crlc_big", "Áîëîòíûé ïñåâäîãèãàíò")
	alife():create("gigant_super_jumper",vector():set(248.32855224609,15.022192001343,486.25015258789),1391299,3687)
	alife():create("gigant_super_jumper",vector():set(225.51803588867,17.527339935303,506.3010559082),1349855,3687)
	alife():create("gigant_super_jumper",vector():set(278.84201049805,18.228113174438,495.70056152344),1442850,3687)
	alife():create("gigant_big_strong",vector():set(263.86682128906,15.597299575806,460.75820922852),1418509,3687)
	alife():create("gigant_strong",vector():set(222.10198974609,15.09499168396,462.95245361328),1343474,3687)
	alife():create("volkodav",vector():set(155.2712097168,-1.6888438463211,341.51812744141),1232471,3686)
	alife():create("volkodav",vector():set(146.74182128906,-0.64944124221802,377.66363525391),1217984,3687)
	alife():create("bear",vector():set(67.412483215332,7.7545456886292,366.08734130859),1079159,3682)
	alife():create("bear",vector():set(66.320915222168,8.2319288253784,341.60986328125),1077809,3682)
	alife():create("bear",vector():set(73.837013244629,11.338325500488,381.01028442383),1091282,3682)
	alife():create("kikimora",vector():set(9.4805679321289,1.2595796585083,254.43350219727),964262,3677)
	alife():create("kikimora",vector():set(-7.8602356910706,3.6546697616577,257.57379150391),928877,3677)
	alife():create("kikimora",vector():set(17.438640594482,5.1424479484558,282.8551940918),979919,3686)
	alife():create("zombie_plague",vector():set(1.45521235466,-3.724328994751,139.0802154541),946861,3677)
	alife():create("zombie_plague_komar",vector():set(124.05056762695,-7.0029835700989,282.48083496094),1179442,3686)
end
function buusty_gigant_done()
	sak.create_items_actor("ammo_23x76_shrap",4)
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"gigant_swamp") then
	level.map_remove_object_spot(obj.id,"crlc_big")
	break
	end
	end
end

-- ÏÅÐÅÂÎÇ×ÈÊ
function kalinin_box_gravik_have()
	return
		new_dialog.item_much("soldier_outfit",1) or
		new_dialog.item_much("akill_soldier_outfit",1) 
end
function kalinin_box_start()
	sak.create_items_actor("medkit_scientic",3)
	sak.create_items_actor("antirad",3)
	sak.create_items_actor("vodka",2)
	alife():create("inventory_sakbox_01",vector():set(-179.5491027832,-3.4819266796112,-35.277351379395),116291,2798)
	alife():create("pri_arhara_naemnik1",vector():set(-185.58283996582,-4.079710483551,-30.381572723389),108088,2798)
	alife():create("pri_arhara_naemnik2",vector():set(-159.05200195313,-4.1024470329285,-29.801427841187),146839,2798)
	alife():create("pri_arhara_naemnik1",vector():set(-138.54998779297,-3.0702559947968,-24.434066772461),176519,2798)
	alife():create("pri_arhara_naemnik2",vector():set(-227.13653564453,2.6478047370911,-13.537873268127),46397,2796)
	alife():create("pri_arhara_naemnik4",vector():set(-204.93768310547,0.33517220616341,-60.877235412598),79219,2798)
	alife():create("pri_arhara_naemnik4",vector():set(-143.99844360352,-5.5171318054199,-71.879318237305),168291,2798)
	alife():create("leshyi_bandit5",vector():set(-36.640476226807,-6.1158137321472,-61.746063232422),325578,2808)
	alife():create("leshyi_bandit3",vector():set(-16.634195327759,-6.1158137321472,-58.140312194824),354209,2808)
	alife():create("leshyi_bandit4",vector():set(-1.3905915021896,-6.1158137321472,-41.98889541626),376633,2814)
	spawn_restrictor.kalinin_box1_sr1()
end
function kalinin_box_have_all()
	return
		new_dialog.item_much("inventory_sakbox_01",5)
end
function kalinin_box_have()
	if new_dialog.item_much("inventory_sakbox_01",5) then
		db.actor:give_info_portion("kalinin_box_have")
		return true
	else
		return false
	end
end
function kalinin_box_done()
	sak.out_item_namber("inventory_sakbox_01",5)
	sak.create_items_actor("wpn_scar_mk16",1)
	sak.create_items_actor("wpn_addon_optik",1)
	sak.create_items_actor("ammo_5.56x45_gd",2)
end
function kalinin_box2_spawn()
	alife():create("inventory_sakbox_01",vector():set(-16.562753677368,-9.1712999343872,-268.09954833984),353917,2813)
	alife():create("volkodav",vector():set(-40.326713562012,-10.932676315308,-249.38107299805),319222,2810)
	alife():create("pseudodog_big",vector():set(-82.418075561523,-7.6445031166077,-269.53451538086),258047,2807)
	alife():create("pseudodog_strong",vector():set(-45.349876403809,-7.6645636558533,-282.60159301758),312034,2813)
	alife():create("volkodav",vector():set(-4.4132843017578,-7.9333934783936,-295.02005004883),372211,2813)
	alife():create("pseudodog_big",vector():set(17.491035461426,-7.2571396827698,-239.86581420898),403910,2813)
	alife():create("volkodav",vector():set(7.9426612854004,-8.3283786773682,-271.38381958008),389650,2813)
	spawn_restrictor.kalinin_box2_sr1()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÊÀËÈÍÈÍ:".."\\n".."%c[255,255,128,128]Ñëåäóþùèé ÿùèê ðÿäîì ñ áîëîòîì.".."".."\n", nil, nil, 10000)
		amk.start_timer("battle", 0, {"atp_for_test22", 31, 1})
end
function kalinin_box3_spawn()
	alife():create("inventory_sakbox_01",vector():set(389.46151733398,-0.50533294677734,-294.90014648438),934150,2855)
	alife():create("leshyi_bandit1",vector():set(362.36053466797,-4.6797208786011,-232.58544921875),895675,2851)
	alife():create("leshyi_bandit2",vector():set(426.78958129883,-3.6856544017792,-247.30731201172),989352,2859)
	alife():create("leshyi_bandit3",vector():set(373.57336425781,-4.5728802680969,-216.9518737793),911988,2859)
	alife():create("leshyi_bandit4",vector():set(329.1279296875,-4.2029976844788,-355.53271484375),847215,2848)
	alife():create("leshyi_bandit5",vector():set(283.08081054688,-2.3207092285156,-362.8857421875),781095,2841)
	spawn_restrictor.kalinin_box3_sr1()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÊÀËÈÍÈÍ:".."\\n".."%c[255,255,128,128]Áàíäèòû ïðî÷¸ñûâàþò þæíóþ ÷àñòü ëåñà, ïîèùè ÿùèê òàì.".."".."\n", nil, nil, 10000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ËÎÊÀËÜÍÀß ÑÅÒÜ:".."\\n".."%c[255,255,128,128]ß òî÷íî âèäåë, êàê ÿùèê âûïàë ãäå-òî â ýòîì ìåñòå. Èùèòå ëó÷øå, çûðüòå ïîä êàæäûì êóñòîì.".."".."\n", 35, nil, 15000)
end
function kalinin_box4_spawn()
	alife():create("inventory_sakbox_01",vector():set(316.25524902344,-6.2720346450806,-19.177675247192),829639,2849)
	alife():create("leshyi_bandit1",vector():set(262.00271606445,-9.4022970199585,-27.230760574341),751500,2838)
	alife():create("leshyi_bandit2",vector():set(264.63507080078,-9.4996757507324,-30.487010955811),755570,2849)
	alife():create("leshyi_bandit3",vector():set(248.8461151123,-2.6913559436798,23.416633605957),732489,2842)
	alife():create("leshyi_bandit4",vector():set(232.54203796387,-8.3981657028198,-9.4448738098145),709117,2838)
	alife():create("leshyi_bandit5",vector():set(265.93069458008,-4.8526926040649,-60.459102630615),757549,2840)
	spawn_restrictor.kalinin_box4_sr1()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÊÀËÈÍÈÍ:".."\\n".."%c[255,255,128,128]ßùèê âàëÿåòñÿ íà âîñòî÷íîé äîðîãå.".."".."\n", nil, nil, 10000)
end
function kalinin_box5_spawn()
	alife():create("inventory_sakbox_01",vector():set(384.76196289063,-0.61840665340424,233.15798950195),928790,2856)
	alife():create("leshyi_bandit1",vector():set(357.88607788086,-4.4688849449158,204.89567565918),889273,2850)
	alife():create("leshyi_bandit2",vector():set(373.08734130859,-1.7349931001663,212.13995361328),911576,2856)
	alife():create("leshyi_bandit3",vector():set(406.47229003906,-1.4802582263947,202.8003692627),960297,2858)
	alife():create("leshyi_bandit4",vector():set(329.46636962891,-1.9307523965836,206.84819030762),848996,2850)
	alife():create("leshyi_bandit5",vector():set(420.58111572266,-2.812536239624,237.63452148438),980850,2856)
	spawn_restrictor.kalinin_box5_sr1()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÊÀËÈÍÈÍ:".."\\n".."%c[255,255,128,128]Ïîåçæàé íà ñåâåðî-âîñòîê, ê ñãîðåâøåìó ãðóçîâèêó.".."".."\n", nil, nil, 10000)
end
function kalinin_box_stalker()
	amk.start_timer("run", 25.0, "akill.kalinin_box_stalker_spawn()")
end
function kalinin_box_stalker_spawn()
	alife():create("atp_brigada_respawn_1",vector():set(-170.5500793457,3.2307646274567,205.24659729004),129797,2799)
	alife():create("atp_brigada_respawn_2",vector():set(-177.97723388672,3.9544453620911,219.62474060059),119678,2799)
	alife():create("atp_brigada_respawn_3",vector():set(-175.04467773438,3.4802794456482,229.4620513916),123735,2799)
	alife():create("atp_brigada_respawn_4",vector():set(-217.01358032227,7.1935687065125,264.28805541992),62157,2799)
	alife():create("atp_brigada_respawn_4",vector():set(-175.23233032227,1.9494346380234,266.39996337891),122763,2799)
end
function kalinin_box_proverka()
	if db.actor:has_info("kalinin_box_end") then return end
	db.actor:give_info_portion("kalinin_box_fail")
	kalinin_box_ataka()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÊÀËÈÍÈÍ:".."\\n".."%c[255,255,128,128]Òû ïîäâ¸ë âñåõ íàñ, ìû ïîä ïëîòíûì îãí¸ì, áàíäèòû áåðóò íàñ â êîëüöî...".."".."\n", nil, nil, 10000)
end
function kalinin_box_ataka()
	alife():create("leshyi_bandit1",vector():set(-118.61173248291,-0.19275145232677,288.84237670898),206796,2799)
	alife():create("leshyi_bandit2",vector():set(-160.55000305176,-3.4775972366333,312.51837158203),145260,2799)
	alife():create("leshyi_bandit3",vector():set(-108.249168396,-0.028654873371124,256.1318359375),221093,2799)
	alife():create("leshyi_bandit4",vector():set(-110.46208953857,0.59746932983398,211.64241027832),217927,2806)
	alife():create("leshyi_bandit5",vector():set(-82.301078796387,-0.060442000627518,274.66247558594),258821,2806)
	alife():create("leshyi_bandit1",vector():set(-75.671722412109,-2.0000610351563,227.33840942383),268997,2806)
	alife():create("leshyi_bandit2",vector():set(-61.700698852539,-2.9823472499847,202.20967102051),289346,2806)
	alife():create("leshyi_bandit3",vector():set(-91.740608215332,0.42640373110771,189.0511932373),245563,2806)
	alife():create("leshyi_bandit4",vector():set(-114.11822509766,-2.8668568134308,164.73486328125),212752,2806)
	alife():create("leshyi_bandit5",vector():set(-122.80048370361,-3.2347028255463,152.00108337402),200445,2806)
	alife():create("leshyi_bandit1",vector():set(-153.07293701172,-2.4832644462585,167.13415527344),155285,2806)
	alife():create("leshyi_bandit5",vector():set(-183.10018920898,-2.263133764267,133.13632202148),111395,2794)
	alife():create("leshyi_bandit3",vector():set(-216.13369750977,2.4855380058289,157.84175109863),63035,2794)
	alife():create("leshyi_bandit4",vector():set(-222.24227905273,5.3174285888672,116.78036499023),54755,2794)
	alife():create("leshyi_bandit5",vector():set(-76.464363098145,-3.5288710594177,161.0354309082),267877,2806)
	alife():create("leshyi_bandit3",vector():set(-51.099117279053,-3.3814787864685,184.48081970215),304523,2806)
	alife():create("leshyi_bandit4",vector():set(-47.863845825195,-2.6112012863159,200.74417114258),309644,2806)
end

-- ÒÅËÎÕÐÀÍÈÒÅËÜ
function trofim_npc_spawn()
	alife():create("trofim_npc",vector():set(96.73291015625,2.346161365509,-506.64483642578),291167,949)
end
function trofim_meet()
	local snd_obj = xr_sound.get_safe_sound_object([[characters_voice\human_new\bandit\talk\use\no_default_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function trofim_joke_start()
	local snd_obj = xr_sound.get_safe_sound_object([[characters_voice\human_new\bandit\fight\attack\attack_3]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("molerat",vector():set(100.9487991333,2.0636165142059,-469.83493041992),295870,949)
	alife():create("boar_strong",vector():set(103.77955627441,2.5323808193207,-435.10501098633),298898,946)
	alife():create("molerat",vector():set(93.683250427246,-2.6219408512115,-381.46813964844),288196,939)
	alife():create("boar_strong",vector():set(64.029403686523,-3.128812789917,-310.63946533203),253028,933)
	alife():create("molerat",vector():set(53.415390014648,0.045140892267227,-240.07095336914),241139,855)
		amk.start_timer("battle", 0, {"l04_darkvalley", 35, 1})
end
function trofim_song()
	local snd_obj = xr_sound.get_safe_sound_object([[characters_voice\human_new\bandit\states\idle\idle_8]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function trofim_sms()
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÒÐÎÔÈÌ:".."\\n".."%c[255,255,128,128]Ïîãîäè-êà, áðàòàí, äàëüøå èäòè íå ì-ì-ìîãó. Â ãëîòêå ïîæàð, çàòóøèòü áû åãî ïèâêîì õðàáðîñòè.".."".."\n", nil, nil, 10000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÌÅ×ÅÍÛÉ:".."\\n".."%c[255,255,128,128]Òû î÷óìåë?! Êàêîå íà õðåí ïèâî?! Íàñ òîëüêî ÷òî ìóòàíòû ÷óòü íå ñîæðàëè.".."".."\n", 9, nil, 9000)
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÒÐÎÔÈÌ:".."\\n".."%c[255,255,128,128]Äà íå ññû! Ñõàâàé ëó÷øå áóòåðáðîäèê ñ÷àñòüÿ! Ïèâàñèê äîëæåí áûòü â ôóðãîí÷èêå âîçëå îñòàíîâêè. Ïàöàíû ÷àñòî òàì êâàñÿò, ñïåöîì âäàëè îò Áîðîâà. Íàäûáàé ïàðó áàíîê, äà ïîáûñòðåå...".."".."\n", 18, nil, 12000)
	alife():create("beer_a",vector():set(39.089721679688,1.9261418581009,-221.65966796875),223041,856)
	alife():create("beer_a",vector():set(38.914208221436,1.9253247976303,-221.73779907227),223041,856)
	alife():create("conserva",vector():set(39.054050750732,1.9182668924332,-221.81936401367),223041,856)
	amk.start_timer("run", 27.0, "akill.trofim_bear()")
end
function trofim_bear()
	local snd_obj = xr_sound.get_safe_sound_object([[characters_voice\human_new\bandit\fight\enemy\enemy_7]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("bear",vector():set(26.4905834198,-0.659632563591,-251.50050354004),206665,854)
	amk.start_timer("run", 5.0, "akill.trofim_talk_about_rat()")
end
function trofim_talk_about_rat()
	local snd_obj = xr_sound.get_safe_sound_object([[characters_voice\human_new\bandit\fight\attack\attack_9]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	db.actor:give_info_portion("trofim_joke_pivo")
end
function trofim_joke_pivo_have()
	return
		new_dialog.item_much("beer_a",2)
end
function trofim_joke_pivo_done(first_speaker, second_speaker)
	amk.spawn_item_in_inv("beer_a", second_speaker)
	sak.out_item_namber("beer_a",2)
	sak.create_items_actor("grenade_rgd5",1)
	snp.drink_vodka()
	amk.start_timer("run", 10.0, "akill.trofim_song2()")
end
function trofim_song2()
	local snd_obj = xr_sound.get_safe_sound_object([[characters_voice\human_new\bandit\states\idle\idle_9]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	alife():create("kikimora",vector():set(87.666122436523,5.9942712783813,-178.70297241211),281411,925)
	alife():create("kikimora",vector():set(95.875442504883,1.273441195488,-124.08764648438),290841,868)
	alife():create("kikimora",vector():set(91.467765808105,0.072718799114227,-86.40747833252),286220,977)
	alife():create("kikimora",vector():set(54.322330474854,0.069435328245163,-66.443023681641),242885,991)
	alife():create("kikimora",vector():set(39.144905090332,-0.85306203365326,-117.03329467773),223185,869)
	alife():create("kikimora",vector():set(50.270656585693,0.029121279716492,-156.04035949707),238014,867)
	alife():create("volkodav",vector():set(112.32607269287,0.03941684961319,-35.488677978516),308690,981)
	alife():create("volkodav",vector():set(90.595970153809,0.12372520565987,-10.487855911255),284761,989)
	alife():create("volkodav",vector():set(100.71267700195,-3.3305110931396,57.910957336426),296509,910)
end
function trofim_sms2()
	if not has_alife_info("trofim_joke_stop") then
	news_manager.send_tip(db.actor, "%c[255,160,160,160]".."ÒÐÎÔÈÌ:".."\\n".."%c[255,255,128,128]À-à-à-à-à!!! Áàøêà ùà ðàñêîëåòñÿ êàê îðåõ! Ýòî êîíòðîñîñ! Çàâàëè ýòó ïàäëó!".."".."\n", nil, nil, 10000)
	alife():create("controller_senator",vector():set(115.89627838135,0.032972544431686,-5.6989407539368),313235,914)
	alife():create("zombie_trup",vector():set(104.54155731201,0.70238077640533,-5.7821664810181),300119,984)
	alife():create("zombie_trup2",vector():set(112.1509552002,-0.50022196769714,20.647993087769),308747,909)
	alife():create("zombie_strong",vector():set(83.873504638672,-2.7877779006958,51.198585510254),277674,906)
	amk.start_timer("run", 4.0, "akill.trofim_kontrik()")
		db.actor:give_info_portion("trofim_joke_stop")
	end
end
function trofim_kontrik()
	local snd_obj = xr_sound.get_safe_sound_object([[characters_voice\human_new\bandit\states\panic_monster\panic_monster_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	amk.start_timer("run", 15.0, "akill.trofim_kontrik2()")
end
function trofim_kontrik2()
	local snd_obj = xr_sound.get_safe_sound_object([[characters_voice\human_new\bandit\states\panic_monster\panic_monster_2]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function trofim_joke_done()
	sak.create_items_actor("device_pda_npc",1)
	sak.create_items_actor("medkit",3)
	local snd_obj = xr_sound.get_safe_sound_object([[characters_voice\human_new\bandit\states\idle\idle_6]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
end
function trofim_joke_borov_have()
	return
		new_dialog.item_much("device_pda_npc",1)
end
function trofim_joke_borov_done()
	sak.out_item_namber("device_pda_npc",1)
	sak.create_items_actor("wpn_sl8",1)
	sak.create_items_actor("ammo_5.56x45_gd",1)
	local obj
	for a=1,65534,1 do
	obj=alife():object(a)
	if obj and string.find(obj:name(),"trofim_npc") then
	alife():release(obj,true)
	break
	end
	end
end

-- ËÈ×ÍÎÅ ÎÐÓÆÈÅ
--[=[function arny_pistol_have_all()
	return
		wawka_dialog.good_item_have_number("wpn_tt33",1) and
		wawka_dialog.good_item_have_number("wpn_pmm",1) and
		wawka_dialog.good_item_have_number("wpn_mp444",1) and
		wawka_dialog.good_item_have_number("wpn_beretta",1) and
		wawka_dialog.good_item_have_number("wpn_hpsa",1) and
		wawka_dialog.good_item_have_number("wpn_walther",1) and
		wawka_dialog.good_item_have_number("wpn_colt1911",1) and
		wawka_dialog.good_item_have_number("wpn_sig220",1) and
		wawka_dialog.good_item_have_number("wpn_usp",1) and
		wawka_dialog.good_item_have_number("wpn_fnp45",1)
end
function arny_pistol_have()
	if arny_pistol_have_all() then
		db.actor:give_info_portion("arny_pistol_have")
		return true
	else
		return false
	end
end
function arny_pistol_done()
	sak.create_items_actor("ammo_7.62x25_p",2)
	sak.create_items_actor("ammo_9x18_fmj",6)
	sak.create_items_actor("ammo_9x19_fmj",9)
	sak.create_items_actor("ammo_11.43x23_fmj",12)
end

-- ÏÐÀÊÒÈ×ÅÑÊÀß ÑÒÐÅËÜÁÀ
function arny_test_begin()
	db.actor:give_info_portion("teleport_started")
	level.add_pp_effector("teleport.ppe", 2000, false)
	local snd_obj = xr_sound.get_safe_sound_object([[anomaly\teleport_work_1]])
	snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
    	local a = vector()
        a.x = 152.1220703125
      	a.y = -21.058921813965
	a.z = 76.204795837402
	db.actor:set_actor_position(a)
	db.actor:give_info_portion("teleport_finished")
	db.actor:set_actor_direction(0)
	alife():create("burer_pistol",vector():set(151.97061157227,-21.028505325317,130.08079528809),40519,1291)
end
function arny_test_disable()
	db.actor:disable_info_portion("arny_test_tt")
	db.actor:disable_info_portion("arny_test_pmm")
	db.actor:disable_info_portion("arny_test_beretta")
	db.actor:disable_info_portion("arny_test_hpsa")
	db.actor:disable_info_portion("arny_test_walther")
	db.actor:disable_info_portion("arny_test_mp444")
	db.actor:disable_info_portion("arny_test_colt")
	db.actor:disable_info_portion("arny_test_sig")
	db.actor:disable_info_portion("arny_test_usp")
	db.actor:disable_info_portion("arny_test_fnp")
end
function arny_test_have()
    local arny_test = {
	"arny_test_tt",
	"arny_test_pmm",
	"arny_test_beretta",
	"arny_test_hpsa",
	"arny_test_walther",
	"arny_test_mp444",
	"arny_test_colt",
	"arny_test_sig",
	"arny_test_usp",
	"arny_test_fnp"
		}
	db.actor:give_info_portion(arny_test[math.random(#arny_test)])
end
function arny_test_wpn_tt()
	sak.out_item_namber("wpn_tt33",1)
end
function arny_test_wpn_pmm()
	sak.out_item_namber("wpn_pmm",1)
end
function arny_test_wpn_mp()
	sak.out_item_namber("wpn_mp444",1)
end
function arny_test_wpn_beretta()
	sak.out_item_namber("wpn_beretta",1)
end
function arny_test_wpn_hpsa()
	sak.out_item_namber("wpn_hpsa",1)
end
function arny_test_wpn_walther()
	sak.out_item_namber("wpn_walther",1)
end
function arny_test_wpn_colt()
	sak.out_item_namber("wpn_colt1911",1)
end
function arny_test_wpn_sig()
	sak.out_item_namber("wpn_sig220",1)
end
function arny_test_wpn_usp()
	sak.out_item_namber("wpn_usp",1)
end
function arny_test_wpn_fnp()
	sak.out_item_namber("wpn_fnp45",1)
end
function arny_test_done()
	sak.create_items_actor("wpn_scar_792",1)
	sak.create_items_actor("ammo_7.92x33_fmj",2)
	sak.create_items_actor("ammo_20x85",1)
	sak.create_items_actor("ammo_kumul_82",2)
end]=]

-- ÕÈÆÈÍÀ ÍÅÈÇÂÅÑÒÍÎÃÎ
function unknown_home_spawn()
	alife():create("wpn_gauss",vector():set(235.3068536377,9.0046253204346,-8.0063711166382),1365443,3684)
	alife():create("wpn_shmel",vector():set(235.3068536377,8.6046253204346,-7.5563711166382),1365443,3684)
	alife():create("wpn_shmel",vector():set(233.2949029541,8.6046253204346,-7.5563711166382),1365443,3684)
	alife():create("ammo_7.62x54_ap",vector():set(233.3049029541,9.0054779052734,-8.1019037246704),1364169,3684)
	alife():create("ammo_7.62x54_ap",vector():set(233.3049029541,9.0054779052734,-7.9019037246704),1364169,3684)
	alife():create("ammo_7.62x54_ap",vector():set(233.3049029541,9.0054779052734,-7.7019037246704),1364169,3684)
	alife():create("ammo_7.62x54_ap",vector():set(233.3049029541,9.0054779052734,-7.5019037246704),1364169,3684)
	alife():create("ammo_7.62x54_ap",vector():set(233.3049029541,9.0054779052734,-7.3019037246704),1364169,3684)
	alife():create("ammo_7.62x54_7h1",vector():set(233.3049029541,9.0054779052734,-8.1019037246704),1364169,3684)
	alife():create("ammo_7.62x54_7h1",vector():set(233.3049029541,9.0054779052734,-7.9019037246704),1364169,3684)
	alife():create("ammo_7.62x54_7h1",vector():set(233.3049029541,9.0054779052734,-7.7019037246704),1364169,3684)
	alife():create("ammo_7.62x54_7h1",vector():set(233.3049029541,9.0054779052734,-7.5019037246704),1364169,3684)
	alife():create("ammo_7.62x54_7h1",vector():set(233.3049029541,9.0054779052734,-7.3019037246704),1364169,3684)
	alife():create("ammo_7.62x54_7h14",vector():set(233.3049029541,9.0054779052734,-8.1019037246704),1364169,3684)
	alife():create("ammo_7.62x54_7h14",vector():set(233.3049029541,9.0054779052734,-7.9019037246704),1364169,3684)
	alife():create("ammo_7.62x54_7h14",vector():set(233.3049029541,9.0054779052734,-7.7019037246704),1364169,3684)
	alife():create("ammo_7.62x54_7h14",vector():set(233.3049029541,9.0054779052734,-7.5019037246704),1364169,3684)
	alife():create("ammo_7.62x54_7h14",vector():set(233.3049029541,9.0054779052734,-7.3019037246704),1364169,3684)
	alife():create("ammo_7.62x51_ap",vector():set(233.6049029541,9.0054779052734,-8.1019037246704),1364169,3684)
	alife():create("ammo_7.62x51_ap",vector():set(233.6049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_7.62x51_ap",vector():set(233.6049029541,9.0054779052734,-7.4019037246704),1364169,3684)
	alife():create("ammo_7.62x51_fmj",vector():set(233.6049029541,9.5054779052734,-8.1019037246704),1364169,3684)
	alife():create("ammo_7.62x51_fmj",vector():set(233.6049029541,9.5054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_7.62x51_fmj",vector():set(233.6049029541,9.5054779052734,-7.4019037246704),1364169,3684)
	alife():create("ammo_9x39_sp5",vector():set(233.9049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_9x39_sp5",vector():set(233.9049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_9x39_sp5",vector():set(233.9049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_9x39_sp5",vector():set(233.9049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_9x39_sp5",vector():set(233.9049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_9x39_ap",vector():set(233.9049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_9x39_ap",vector():set(233.9049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_9x39_ap",vector():set(233.9049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_9x39_ap",vector():set(233.9049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_9x39_ap",vector():set(233.9049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_9x39_pab9",vector():set(233.9049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_9x39_pab9",vector():set(233.9049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_9x39_pab9",vector():set(233.9049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_9x39_pab9",vector():set(233.9049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_9x39_pab9",vector():set(233.9049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_7.92x33_fmj",vector():set(234.2049029541,9.0054779052734,-8.1019037246704),1364169,3684)
	alife():create("ammo_7.92x33_fmj",vector():set(234.2049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_7.92x33_fmj",vector():set(234.2049029541,9.0054779052734,-7.4019037246704),1364169,3684)
	alife():create("ammo_7.92x33_ap",vector():set(234.2049029541,9.5054779052734,-8.1019037246704),1364169,3684)
	alife():create("ammo_7.92x33_ap",vector():set(234.2049029541,9.5054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_7.92x33_ap",vector():set(234.2049029541,9.5054779052734,-7.4019037246704),1364169,3684)
	alife():create("ammo_7.92x33_fmj",vector():set(234.2049029541,9.0054779052734,-8.1019037246704),1364169,3684)
	alife():create("ammo_7.92x33_fmj",vector():set(234.2049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_7.92x33_fmj",vector():set(234.2049029541,9.0054779052734,-7.4019037246704),1364169,3684)
	alife():create("ammo_7.62x39_k",vector():set(234.5049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_7.62x39_k",vector():set(234.5049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_7.62x39_k",vector():set(234.5049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_7.62x39_k",vector():set(234.5049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_7.62x39_k",vector():set(234.5049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_7.62x39_fmj",vector():set(234.5049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_7.62x39_fmj",vector():set(234.5049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_7.62x39_fmj",vector():set(234.5049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_7.62x39_fmj",vector():set(234.5049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_7.62x39_fmj",vector():set(234.5049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_7.62x39_ap",vector():set(234.5049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_7.62x39_ap",vector():set(234.5049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_7.62x39_ap",vector():set(234.5049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_7.62x39_ap",vector():set(234.5049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_7.62x39_ap",vector():set(234.5049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_5.56x45_ss190",vector():set(234.8049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_5.56x45_ss190",vector():set(234.8049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_5.56x45_ss190",vector():set(234.8049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_5.56x45_ss190",vector():set(234.8049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_5.56x45_ss190",vector():set(234.8049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_5.56x45_ap",vector():set(234.8049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_5.56x45_ap",vector():set(234.8049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_5.56x45_ap",vector():set(234.8049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_5.56x45_ap",vector():set(234.8049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_5.56x45_ap",vector():set(234.8049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_5.56x45_gd",vector():set(234.8049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_5.56x45_gd",vector():set(234.8049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_5.56x45_gd",vector():set(234.8049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_5.56x45_gd",vector():set(234.8049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_5.56x45_gd",vector():set(234.8049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_5.45x39_fmj",vector():set(235.1049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_5.45x39_fmj",vector():set(235.1049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_5.45x39_fmj",vector():set(235.1049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_5.45x39_fmj",vector():set(235.1049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_5.45x39_fmj",vector():set(235.1049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_5.45x39_ap",vector():set(235.1049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_5.45x39_ap",vector():set(235.1049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_5.45x39_ap",vector():set(235.1049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_5.45x39_ap",vector():set(235.1049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_5.45x39_ap",vector():set(235.1049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_5.45x39_fmj",vector():set(235.1049029541,9.0054779052734,-8.1519037246704),1364169,3684)
	alife():create("ammo_5.45x39_fmj",vector():set(235.1049029541,9.0054779052734,-7.9519037246704),1364169,3684)
	alife():create("ammo_5.45x39_fmj",vector():set(235.1049029541,9.0054779052734,-7.7519037246704),1364169,3684)
	alife():create("ammo_5.45x39_fmj",vector():set(235.1049029541,9.0054779052734,-7.5519037246704),1364169,3684)
	alife():create("ammo_5.45x39_fmj",vector():set(235.1049029541,9.0054779052734,-7.3519037246704),1364169,3684)
	alife():create("ammo_12.7x108",vector():set(238.05098510742,9.0436773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_12.7x108",vector():set(238.20098510742,9.0436773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_12.7x108",vector():set(238.35098510742,9.0436773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_12.7x108",vector():set(238.50098510742,9.0436773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_12.7x108",vector():set(238.65098510742,9.0436773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_12.7x108",vector():set(238.05098510742,9.0436773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_12.7x108",vector():set(238.20098510742,9.0436773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_12.7x108",vector():set(238.35098510742,9.0436773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_12.7x108",vector():set(238.50098510742,9.0436773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_12.7x108",vector():set(238.65098510742,9.0436773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_357_hp_mag",vector():set(238.05098510742,8.8036773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_357_hp_mag",vector():set(238.20098510742,8.8036773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_357_hp_mag",vector():set(238.35098510742,8.8036773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_357_hp_mag",vector():set(238.50098510742,8.8036773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_357_hp_mag",vector():set(238.65098510742,8.8036773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_357_hp_mag",vector():set(237.90098510742,8.8036773300171,-8.0594421386719),1371930,3684)
	alife():create("ammo_357_ap_mag",vector():set(238.05098510742,8.8036773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_357_ap_mag",vector():set(238.20098510742,8.8036773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_357_ap_mag",vector():set(238.35098510742,8.8036773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_357_ap_mag",vector():set(238.50098510742,8.8036773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_357_ap_mag",vector():set(238.65098510742,8.8036773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_357_ap_mag",vector():set(237.90098510742,8.8036773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_12x70_buck",vector():set(237.95098510742,8.3036773300171,-8.3394421386719),1371930,3684)
	alife():create("ammo_12x70_buck",vector():set(238.25098510742,8.3036773300171,-8.3394421386719),1371930,3684)
	alife():create("ammo_12x70_buck",vector():set(238.55098510742,8.3036773300171,-8.3394421386719),1371930,3684)
	alife():create("ammo_12x70_buck",vector():set(237.95098510742,8.4036773300171,-8.3394421386719),1371930,3684)
	alife():create("ammo_12x70_buck",vector():set(238.25098510742,8.4036773300171,-8.3394421386719),1371930,3684)
	alife():create("ammo_12x70_buck",vector():set(238.55098510742,8.4036773300171,-8.3394421386719),1371930,3684)
	alife():create("ammo_12x76_zhekan",vector():set(237.95098510742,8.3036773300171,-8.2094421386719),1371930,3684)
	alife():create("ammo_12x76_zhekan",vector():set(238.25098510742,8.3036773300171,-8.2094421386719),1371930,3684)
	alife():create("ammo_12x76_zhekan",vector():set(238.55098510742,8.3036773300171,-8.2094421386719),1371930,3684)
	alife():create("ammo_12x76_zhekan",vector():set(237.95098510742,8.4036773300171,-8.2094421386719),1371930,3684)
	alife():create("ammo_12x76_zhekan",vector():set(238.25098510742,8.4036773300171,-8.2094421386719),1371930,3684)
	alife():create("ammo_12x76_zhekan",vector():set(238.55098510742,8.4036773300171,-8.2094421386719),1371930,3684)
	alife():create("ammo_12x76_dart",vector():set(237.95098510742,8.3036773300171,-8.0794421386719),1371930,3684)
	alife():create("ammo_12x76_dart",vector():set(238.25098510742,8.3036773300171,-8.0794421386719),1371930,3684)
	alife():create("ammo_12x76_dart",vector():set(238.55098510742,8.3036773300171,-8.0794421386719),1371930,3684)
	alife():create("ammo_12x76_dart",vector():set(237.95098510742,8.4036773300171,-8.0794421386719),1371930,3684)
	alife():create("ammo_12x76_dart",vector():set(238.25098510742,8.4036773300171,-8.0794421386719),1371930,3684)
	alife():create("ammo_12x76_dart",vector():set(238.55098510742,8.4036773300171,-8.0794421386719),1371930,3684)
	alife():create("ammo_12x70_kart",vector():set(237.95098510742,8.3036773300171,-7.944421386719),1371930,3684)
	alife():create("ammo_12x70_kart",vector():set(238.25098510742,8.3036773300171,-7.9494421386719),1371930,3684)
	alife():create("ammo_12x70_kart",vector():set(238.55098510742,8.3036773300171,-7.9494421386719),1371930,3684)
	alife():create("ammo_12x70_kart",vector():set(237.95098510742,8.4036773300171,-7.9494421386719),1371930,3684)
	alife():create("ammo_12x70_kart",vector():set(238.25098510742,8.4036773300171,-7.9494421386719),1371930,3684)
	alife():create("ammo_12x70_kart",vector():set(238.55098510742,8.4036773300171,-7.9494421386719),1371930,3684)
	alife():create("ammo_7.62x54r",vector():set(239.40268188477,9.4335441589355,-7.8377668380737),1374498,3684)
	alife():create("ammo_7.62x54r",vector():set(239.40268188477,9.4335441589355,-8.2577668380737),1374498,3684)
	alife():create("ammo_vog-25",vector():set(231.90379943848,9.2908430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_vog-25",vector():set(232.02379943848,9.2908430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_vog-25",vector():set(232.10379943848,9.2908430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_vog-25",vector():set(232.20379943848,9.2908430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_vog-25p",vector():set(231.90379943848,9.2908430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_vog-25p",vector():set(232.02379943848,9.2908430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_vog-25p",vector():set(232.10379943848,9.2908430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_vog-25p",vector():set(232.20379943848,9.2908430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_m209",vector():set(231.90379943848,9.0008430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_m209",vector():set(232.02379943848,9.0008430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_m209",vector():set(232.10379943848,9.0008430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_m209",vector():set(232.20379943848,9.0008430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_20x85",vector():set(231.90379943848,9.0008430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_20x85",vector():set(232.02379943848,9.0008430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_20x85",vector():set(232.10379943848,9.0008430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_20x85",vector():set(232.20379943848,9.0008430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_kumul_82",vector():set(231.90379943848,8.8008430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_kumul_82",vector():set(232.02379943848,8.8008430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_kumul_82",vector():set(232.10379943848,8.8008430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_kumul_82",vector():set(232.20379943848,8.8008430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_m209",vector():set(231.90379943848,8.8008430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_m209",vector():set(232.02379943848,8.8008430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_m209",vector():set(232.10379943848,8.8008430099487,-8.1034256744385),1361638,3684)
	alife():create("ammo_m209",vector():set(232.20379943848,8.8008430099487,-8.1034256744385),1361638,3684)
	alife():create("grenade_rgd5",vector():set(231.90379943848,8.6008430099487,-8.1034256744385),1361638,3684)
	alife():create("grenade_rgd5",vector():set(232.02379943848,8.6008430099487,-8.1034256744385),1361638,3684)
	alife():create("grenade_rgd5",vector():set(232.10379943848,8.6008430099487,-8.1034256744385),1361638,3684)
	alife():create("grenade_m61",vector():set(231.90379943848,8.6008430099487,-7.9034256744385),1361638,3684)
	alife():create("grenade_m61",vector():set(232.02379943848,8.6008430099487,-7.9034256744385),1361638,3684)
	alife():create("grenade_m61",vector():set(232.10379943848,8.6008430099487,-7.9034256744385),1361638,3684)
	alife():create("grenade_f1_double",vector():set(231.85379943848,8.3008430099487,-8.1034256744385),1361638,3684)
	alife():create("grenade_f1_double",vector():set(231.95379943848,8.3008430099487,-8.1034256744385),1361638,3684)
	alife():create("grenade_f1_double",vector():set(232.05379943848,8.3008430099487,-8.1034256744385),1361638,3684)
	alife():create("grenade_f1",vector():set(231.85379943848,8.3008430099487,-7.9034256744385),1361638,3684)
	alife():create("grenade_f1",vector():set(231.95379943848,8.3008430099487,-7.9034256744385),1361638,3684)
	alife():create("grenade_f1",vector():set(232.05379943848,8.3008430099487,-7.9034256744385),1361638,3684)
	alife():create("ammo_og-7b",vector():set(233.56294250488,8.6813898086548,-1.0099614858627),1364177,3684)
	alife():create("ammo_og-7b",vector():set(233.40294250488,8.6813898086548,-1.0099614858627),1364177,3684)
	alife():create("ammo_og-7b",vector():set(233.70294250488,8.6813898086548,-1.0099614858627),1364177,3684)
	alife():create("ammo_23x76_shrap",vector():set(232.0096307373,10.735604858398,-2.0028106880188),1361643,3684)
	alife():create("ammo_23x76_shrap",vector():set(232.0096307373,10.735604858398,-1.7028106880188),1361643,3684)
	alife():create("ammo_23x76_shrap",vector():set(232.0096307373,10.735604858398,-1.4028106880188),1361643,3684)
	alife():create("ammo_23x76_shrap",vector():set(232.0096307373,10.735604858398,-1.1028106880188),1361643,3684)
	alife():create("ammo_23x76_shrap",vector():set(232.0096307373,10.735604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_7.62x25_p",vector():set(232.2596307373,10.735604858398,-2.0028106880188),1361643,3684)
	alife():create("ammo_7.62x25_p",vector():set(232.2596307373,10.735604858398,-1.7028106880188),1361643,3684)
	alife():create("ammo_7.62x25_p",vector():set(232.2596307373,10.735604858398,-1.4028106880188),1361643,3684)
	alife():create("ammo_7.62x25_p",vector():set(232.2596307373,10.735604858398,-1.1028106880188),1361643,3684)
	alife():create("ammo_7.62x25_p",vector():set(232.2596307373,10.735604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_7.62x25_ps",vector():set(232.4596307373,10.735604858398,-2.0028106880188),1361643,3684)
	alife():create("ammo_7.62x25_ps",vector():set(232.4596307373,10.735604858398,-1.7028106880188),1361643,3684)
	alife():create("ammo_7.62x25_ps",vector():set(232.4596307373,10.735604858398,-1.4028106880188),1361643,3684)
	alife():create("ammo_7.62x25_ps",vector():set(232.4596307373,10.735604858398,-1.1028106880188),1361643,3684)
	alife():create("ammo_7.62x25_ps",vector():set(232.4596307373,10.735604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_11.43x23_fmj",vector():set(232.4596307373,9.735604858398,-1.4028106880188),1361643,3684)
	alife():create("ammo_11.43x23_fmj",vector():set(232.4596307373,9.735604858398,-1.2028106880188),1361643,3684)
	alife():create("ammo_11.43x23_fmj",vector():set(232.4596307373,9.735604858398,-1.0028106880188),1361643,3684)
	alife():create("ammo_11.43x23_fmj",vector():set(232.4596307373,9.735604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_11.43x23_hydro",vector():set(232.2596307373,9.735604858398,-1.4028106880188),1361643,3684)
	alife():create("ammo_11.43x23_hydro",vector():set(232.2596307373,9.735604858398,-1.2028106880188),1361643,3684)
	alife():create("ammo_11.43x23_hydro",vector():set(232.2596307373,9.735604858398,-1.0028106880188),1361643,3684)
	alife():create("ammo_11.43x23_hydro",vector():set(232.2596307373,9.735604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_9x19_fmj",vector():set(232.0596307373,9.735604858398,-1.4028106880188),1361643,3684)
	alife():create("ammo_9x19_fmj",vector():set(232.0596307373,9.735604858398,-1.2028106880188),1361643,3684)
	alife():create("ammo_9x19_fmj",vector():set(232.0596307373,9.735604858398,-1.0028106880188),1361643,3684)
	alife():create("ammo_9x19_fmj",vector():set(232.0596307373,9.735604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_9x19_pbp",vector():set(231.8796307373,9.735604858398,-1.4028106880188),1361643,3684)
	alife():create("ammo_9x19_pbp",vector():set(231.8796307373,9.735604858398,-1.2028106880188),1361643,3684)
	alife():create("ammo_9x19_pbp",vector():set(231.8796307373,9.735604858398,-1.0028106880188),1361643,3684)
	alife():create("ammo_9x19_pbp",vector():set(231.8796307373,9.735604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_9x18_fmj",vector():set(231.8796307373,8.935604858398,-1.0028106880188),1361643,3684)
	alife():create("ammo_9x18_pmm",vector():set(232.2596307373,8.935604858398,-1.0028106880188),1361643,3684)
	alife():create("ammo_9x18_fmj",vector():set(231.8796307373,8.935604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_9x18_pmm",vector():set(232.2596307373,8.935604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_9x18_fmj",vector():set(232.0596307373,8.935604858398,-1.0028106880188),1361643,3684)
	alife():create("ammo_9x18_pmm",vector():set(232.4596307373,8.935604858398,-1.0028106880188),1361643,3684)
	alife():create("ammo_9x18_fmj",vector():set(232.0596307373,8.935604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_9x18_pmm",vector():set(232.4596307373,8.935604858398,-0.8028106880188),1361643,3684)
	alife():create("ammo_gauss",vector():set(237.90098510742,9.0436773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_gauss",vector():set(237.85098510742,9.0436773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_gauss",vector():set(237.80098510742,9.0436773300171,-8.3094421386719),1371930,3684)
	alife():create("ammo_super_gauss",vector():set(232.4596307373,9.735604858398,-1.9528106880188),1361643,3684)
	alife():create("ammo_super_gauss",vector():set(232.4596307373,9.735604858398,-1.8028106880188),1361643,3684)
	alife():create("ammo_super_gauss",vector():set(232.4596307373,9.735604858398,-1.6528106880188),1361643,3684)
	alife():create("ammo_balon",vector():set(231.9096307373,9.735604858398,-2.0028106880188),1361643,3684)
	alife():create("ammo_balon",vector():set(231.9096307373,9.735604858398,-1.7028106880188),1361643,3684)
	alife():create("ammo_12.7x108r",vector():set(232.1596307373,8.935604858398,-2.1028106880188),1366734,3684)
	alife():create("ammo_minigun",vector():set(232.4596307373,8.1275444030762,-1.7028106880188),1366734,3684)
	alife():create("ammo_minigun",vector():set(232.4596307373,8.1275444030762,-1.4028106880188),1366734,3684)
	alife():create("ammo_minigun",vector():set(232.4596307373,8.1275444030762,-1.1028106880188),1366734,3684)
end
